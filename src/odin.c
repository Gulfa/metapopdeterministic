// Automatically generated by odin 1.5.11 - do not edit
#include <float.h>
#include <R.h>
#include <Rmath.h>
#include <Rinternals.h>
#include <stdbool.h>
#include <R_ext/Rdynload.h>
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#define CINTERPOLTE_CINTERPOLATE_H_

// Allow use from C++
#ifdef __cplusplus
extern "C" {
#endif

// There are only three functions in the interface; allocation,
// evaluation and freeing.

// Allocate an interpolation object.
//
//   type: The mode of interpolation. Must be one of "constant",
//       "linear" or "spline" (an R error is thrown if a different
//       value is given).
//
//   n: The number of `x` points to interpolate over
//
//   ny: the number of `y` points per `x` point.  This is 1 in the
//       case of zimple interpolation as used by Rs `interpolate()`
//
//   x: an array of `x` values of length `n`
//
//   y: an array of `ny` sets of `y` values.  This is in R's matrix
//       order (i.e., the first `n` values are the first series to
//       interpolate over).
//
//   fail_on_extrapolate: if true, when an extrapolation occurs throw
//       an error; if false return NA_REAL
//
//   auto_free: automatically clean up the interpolation object on
//       return to R. This uses `R_alloc` for allocations rather than
//       `Calloc` so freeing will always happen (even on error
//       elsewhere in the code). However, this prevents returning back
//       a pointer to R that will last longer than the call into C
//       code.
//
// The return value is an opaque pointer that can be passed through to
// `cinterpolate_eval` and `cinterpolate_free`
void *cinterpolate_alloc(const char *type, size_t n, size_t ny,
                         double *x, double *y, bool fail_on_extrapolate,
                         bool auto_free);

// Evaluate the interpolated function at a new `x` point.
//
//   x: A new, single, `x` point to interpolate `y` values to
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
//
//   y: An array of length `ny` to store the interpolated values
//
// The return value is 0 if the interpolation is successful (with x
// lying within the range of values that the interpolation function
// supports), -1 otherwise
int cinterpolate_eval(double x, void *obj, double *y);

// Clean up all allocated memory
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
void cinterpolate_free(void *obj);

#ifdef __cplusplus
}
#endif

#endif
typedef struct model_deterministic_internal {
  double *A_ini;
  double *B_D_H_ini;
  double *B_D_ICU_ini;
  double *B_D_ini;
  double *C;
  double *D_ini;
  double *Ea_ini;
  double *Es_ini;
  double *H_ini;
  double *ICU_H_ini;
  double *ICU_P_ini;
  double *ICU_R_ini;
  double *I_imp_ini;
  double *I_ini;
  double *N;
  double *N_imp;
  double *N_imp_non_zero;
  int N_steps;
  double *P_ini;
  double *R_ini;
  double *S_ini;
  double *T_waning;
  double W;
  double a;
  double *asympt_frac;
  double asympt_infect;
  double *beta;
  double *beta_day;
  double *beta_int;
  double beta_mode;
  double *beta_norm;
  double *beta_reduction;
  double *beta_spont_behaviour;
  double *beta_strain;
  double *contact_change;
  double *cross_protection;
  int dim_A;
  int dim_A_1;
  int dim_A_12;
  int dim_A_2;
  int dim_A_3;
  int dim_A_ini;
  int dim_A_ini_1;
  int dim_A_ini_12;
  int dim_A_ini_2;
  int dim_A_ini_3;
  int dim_B_D;
  int dim_B_D_1;
  int dim_B_D_12;
  int dim_B_D_2;
  int dim_B_D_3;
  int dim_B_D_H;
  int dim_B_D_H_1;
  int dim_B_D_H_12;
  int dim_B_D_H_2;
  int dim_B_D_H_3;
  int dim_B_D_H_ini;
  int dim_B_D_H_ini_1;
  int dim_B_D_H_ini_12;
  int dim_B_D_H_ini_2;
  int dim_B_D_H_ini_3;
  int dim_B_D_ICU;
  int dim_B_D_ICU_1;
  int dim_B_D_ICU_12;
  int dim_B_D_ICU_2;
  int dim_B_D_ICU_3;
  int dim_B_D_ICU_ini;
  int dim_B_D_ICU_ini_1;
  int dim_B_D_ICU_ini_12;
  int dim_B_D_ICU_ini_2;
  int dim_B_D_ICU_ini_3;
  int dim_B_D_ini;
  int dim_B_D_ini_1;
  int dim_B_D_ini_12;
  int dim_B_D_ini_2;
  int dim_B_D_ini_3;
  int dim_C;
  int dim_C_1;
  int dim_C_2;
  int dim_D;
  int dim_D_1;
  int dim_D_12;
  int dim_D_2;
  int dim_D_3;
  int dim_D_ini;
  int dim_D_ini_1;
  int dim_D_ini_12;
  int dim_D_ini_2;
  int dim_D_ini_3;
  int dim_Ea;
  int dim_Ea_1;
  int dim_Ea_12;
  int dim_Ea_2;
  int dim_Ea_3;
  int dim_Ea_ini;
  int dim_Ea_ini_1;
  int dim_Ea_ini_12;
  int dim_Ea_ini_2;
  int dim_Ea_ini_3;
  int dim_Es;
  int dim_Es_1;
  int dim_Es_12;
  int dim_Es_2;
  int dim_Es_3;
  int dim_Es_ini;
  int dim_Es_ini_1;
  int dim_Es_ini_12;
  int dim_Es_ini_2;
  int dim_Es_ini_3;
  int dim_H;
  int dim_H_1;
  int dim_H_12;
  int dim_H_2;
  int dim_H_3;
  int dim_H_ini;
  int dim_H_ini_1;
  int dim_H_ini_12;
  int dim_H_ini_2;
  int dim_H_ini_3;
  int dim_I;
  int dim_ICU_H;
  int dim_ICU_H_1;
  int dim_ICU_H_12;
  int dim_ICU_H_2;
  int dim_ICU_H_3;
  int dim_ICU_H_ini;
  int dim_ICU_H_ini_1;
  int dim_ICU_H_ini_12;
  int dim_ICU_H_ini_2;
  int dim_ICU_H_ini_3;
  int dim_ICU_P;
  int dim_ICU_P_1;
  int dim_ICU_P_12;
  int dim_ICU_P_2;
  int dim_ICU_P_3;
  int dim_ICU_P_ini;
  int dim_ICU_P_ini_1;
  int dim_ICU_P_ini_12;
  int dim_ICU_P_ini_2;
  int dim_ICU_P_ini_3;
  int dim_ICU_R;
  int dim_ICU_R_1;
  int dim_ICU_R_12;
  int dim_ICU_R_2;
  int dim_ICU_R_3;
  int dim_ICU_R_ini;
  int dim_ICU_R_ini_1;
  int dim_ICU_R_ini_12;
  int dim_ICU_R_ini_2;
  int dim_ICU_R_ini_3;
  int dim_I_1;
  int dim_I_12;
  int dim_I_2;
  int dim_I_3;
  int dim_I_imp_ini;
  int dim_I_imp_ini_1;
  int dim_I_imp_ini_12;
  int dim_I_imp_ini_2;
  int dim_I_imp_ini_3;
  int dim_I_ini;
  int dim_I_ini_1;
  int dim_I_ini_12;
  int dim_I_ini_2;
  int dim_I_ini_3;
  int dim_N;
  int dim_N_1;
  int dim_N_2;
  int dim_N_imp;
  int dim_N_imp_1;
  int dim_N_imp_12;
  int dim_N_imp_2;
  int dim_N_imp_3;
  int dim_N_imp_non_zero;
  int dim_N_imp_non_zero_1;
  int dim_N_imp_non_zero_12;
  int dim_N_imp_non_zero_2;
  int dim_N_imp_non_zero_3;
  int dim_P;
  int dim_P_1;
  int dim_P_12;
  int dim_P_2;
  int dim_P_3;
  int dim_P_ini;
  int dim_P_ini_1;
  int dim_P_ini_12;
  int dim_P_ini_2;
  int dim_P_ini_3;
  int dim_R;
  int dim_R_1;
  int dim_R_12;
  int dim_R_2;
  int dim_R_3;
  int dim_R_ini;
  int dim_R_ini_1;
  int dim_R_ini_12;
  int dim_R_ini_2;
  int dim_R_ini_3;
  int dim_S;
  int dim_S_1;
  int dim_S_2;
  int dim_S_ini;
  int dim_S_ini_1;
  int dim_S_ini_2;
  int dim_T_waning;
  int dim_T_waning_1;
  int dim_T_waning_2;
  int dim_asympt_frac;
  int dim_asympt_frac_1;
  int dim_asympt_frac_12;
  int dim_asympt_frac_2;
  int dim_asympt_frac_3;
  int dim_beta;
  int dim_beta_1;
  int dim_beta_2;
  int dim_beta_day;
  int dim_beta_day_1;
  int dim_beta_day_2;
  int dim_beta_int;
  int dim_beta_norm;
  int dim_beta_reduction;
  int dim_beta_reduction_1;
  int dim_beta_reduction_2;
  int dim_beta_spont_behaviour;
  int dim_beta_spont_behaviour_1;
  int dim_beta_spont_behaviour_2;
  int dim_beta_strain;
  int dim_contact_change;
  int dim_contact_change_1;
  int dim_contact_change_2;
  int dim_cross_protection;
  int dim_cross_protection_1;
  int dim_cross_protection_2;
  int dim_expected_health_loss;
  int dim_expected_health_loss_1;
  int dim_expected_health_loss_2;
  int dim_hosp_prob;
  int dim_hosp_prob_1;
  int dim_hosp_prob_12;
  int dim_hosp_prob_2;
  int dim_hosp_prob_3;
  int dim_icu_prob;
  int dim_icu_prob_1;
  int dim_icu_prob_12;
  int dim_icu_prob_2;
  int dim_icu_prob_3;
  int dim_import_vec;
  int dim_import_vec_1;
  int dim_import_vec_12;
  int dim_import_vec_123;
  int dim_import_vec_2;
  int dim_import_vec_3;
  int dim_import_vec_4;
  int dim_index;
  int dim_interpolation_time;
  int dim_kernel;
  int dim_kernel_1;
  int dim_kernel_2;
  int dim_lambda_ij;
  int dim_lambda_ij_1;
  int dim_lambda_ij_12;
  int dim_lambda_ij_123;
  int dim_lambda_ij_1234;
  int dim_lambda_ij_2;
  int dim_lambda_ij_3;
  int dim_lambda_ij_4;
  int dim_lambda_ij_5;
  int dim_length_hosp;
  int dim_length_hosp_1;
  int dim_length_hosp_12;
  int dim_length_hosp_2;
  int dim_length_hosp_3;
  int dim_length_icu;
  int dim_length_icu_1;
  int dim_length_icu_12;
  int dim_length_icu_2;
  int dim_length_icu_3;
  int dim_mixing_matrix;
  int dim_mixing_matrix_1;
  int dim_mixing_matrix_2;
  int dim_n_AR;
  int dim_n_AR_1;
  int dim_n_AR_12;
  int dim_n_AR_2;
  int dim_n_AR_3;
  int dim_n_B_D_D;
  int dim_n_B_D_D_1;
  int dim_n_B_D_D_12;
  int dim_n_B_D_D_2;
  int dim_n_B_D_D_3;
  int dim_n_B_H_D;
  int dim_n_B_H_D_1;
  int dim_n_B_H_D_12;
  int dim_n_B_H_D_2;
  int dim_n_B_H_D_3;
  int dim_n_B_ICU_D;
  int dim_n_B_ICU_D_1;
  int dim_n_B_ICU_D_12;
  int dim_n_B_ICU_D_2;
  int dim_n_B_ICU_D_3;
  int dim_n_EaA;
  int dim_n_EaA_1;
  int dim_n_EaA_12;
  int dim_n_EaA_2;
  int dim_n_EaA_3;
  int dim_n_EsI;
  int dim_n_EsI_1;
  int dim_n_EsI_12;
  int dim_n_EsI_2;
  int dim_n_EsI_3;
  int dim_n_H;
  int dim_n_HD;
  int dim_n_HD_1;
  int dim_n_HD_12;
  int dim_n_HD_2;
  int dim_n_HD_3;
  int dim_n_HR;
  int dim_n_HR_1;
  int dim_n_HR_12;
  int dim_n_HR_2;
  int dim_n_HR_3;
  int dim_n_H_1;
  int dim_n_H_12;
  int dim_n_H_2;
  int dim_n_H_3;
  int dim_n_I;
  int dim_n_ICU_D;
  int dim_n_ICU_D_1;
  int dim_n_ICU_D_12;
  int dim_n_ICU_D_2;
  int dim_n_ICU_D_3;
  int dim_n_ICU_HR;
  int dim_n_ICU_HR_1;
  int dim_n_ICU_HR_12;
  int dim_n_ICU_HR_2;
  int dim_n_ICU_HR_3;
  int dim_n_ICU_P;
  int dim_n_ICU_P_1;
  int dim_n_ICU_P_12;
  int dim_n_ICU_P_2;
  int dim_n_ICU_P_3;
  int dim_n_ICU_R;
  int dim_n_ICU_RP;
  int dim_n_ICU_RP_1;
  int dim_n_ICU_RP_12;
  int dim_n_ICU_RP_2;
  int dim_n_ICU_RP_3;
  int dim_n_ICU_R_1;
  int dim_n_ICU_R_12;
  int dim_n_ICU_R_2;
  int dim_n_ICU_R_3;
  int dim_n_ID;
  int dim_n_ID_1;
  int dim_n_ID_12;
  int dim_n_ID_2;
  int dim_n_ID_3;
  int dim_n_IH;
  int dim_n_IH_1;
  int dim_n_IH_12;
  int dim_n_IH_2;
  int dim_n_IH_3;
  int dim_n_IICU;
  int dim_n_IICU_1;
  int dim_n_IICU_12;
  int dim_n_IICU_2;
  int dim_n_IICU_3;
  int dim_n_IR;
  int dim_n_IR_1;
  int dim_n_IR_12;
  int dim_n_IR_2;
  int dim_n_IR_3;
  int dim_n_I_1;
  int dim_n_I_12;
  int dim_n_I_2;
  int dim_n_I_3;
  int dim_n_PI;
  int dim_n_PI_1;
  int dim_n_PI_12;
  int dim_n_PI_2;
  int dim_n_PI_3;
  int dim_n_RS;
  int dim_n_RS_1;
  int dim_n_RS_12;
  int dim_n_RS_2;
  int dim_n_RS_3;
  int dim_n_SE;
  int dim_n_SE_1;
  int dim_n_SE_12;
  int dim_n_SE_2;
  int dim_n_SE_3;
  int dim_n_SE_tot;
  int dim_n_SE_tot_1;
  int dim_n_SE_tot_2;
  int dim_n_SEa;
  int dim_n_SEa_1;
  int dim_n_SEa_12;
  int dim_n_SEa_2;
  int dim_n_SEa_3;
  int dim_n_SEi;
  int dim_n_SEi_1;
  int dim_n_SEi_12;
  int dim_n_SEi_2;
  int dim_n_SEi_3;
  int dim_n_vac_help;
  int dim_n_vac_help_1;
  int dim_n_vac_help_2;
  int dim_n_vac_now;
  int dim_n_vac_now_1;
  int dim_n_vac_now_2;
  int dim_new_infs;
  int dim_new_infs_1;
  int dim_new_infs_12;
  int dim_new_infs_2;
  int dim_new_infs_3;
  int dim_p_SE;
  int dim_p_SE_1;
  int dim_p_SE_12;
  int dim_p_SE_2;
  int dim_p_SE_3;
  int dim_pa;
  int dim_pa_1;
  int dim_pa_12;
  int dim_pa_2;
  int dim_pa_3;
  int dim_post_icu;
  int dim_post_icu_1;
  int dim_post_icu_12;
  int dim_post_icu_2;
  int dim_post_icu_3;
  int dim_pre_icu;
  int dim_pre_icu_1;
  int dim_pre_icu_12;
  int dim_pre_icu_2;
  int dim_pre_icu_3;
  int dim_prob_death_hosp;
  int dim_prob_death_hosp_1;
  int dim_prob_death_hosp_12;
  int dim_prob_death_hosp_2;
  int dim_prob_death_hosp_3;
  int dim_prob_death_icu;
  int dim_prob_death_icu_1;
  int dim_prob_death_icu_12;
  int dim_prob_death_icu_2;
  int dim_prob_death_icu_3;
  int dim_prob_death_non_hosp;
  int dim_prob_death_non_hosp_1;
  int dim_prob_death_non_hosp_12;
  int dim_prob_death_non_hosp_2;
  int dim_prob_death_non_hosp_3;
  int dim_scale_spont;
  int dim_scale_spont_1;
  int dim_scale_spont_2;
  int dim_spont_behav_change_params;
  int dim_susceptibility_asymp;
  int dim_susceptibility_asymp_1;
  int dim_susceptibility_asymp_12;
  int dim_susceptibility_asymp_2;
  int dim_susceptibility_asymp_3;
  int dim_susceptibility_symp;
  int dim_susceptibility_symp_1;
  int dim_susceptibility_symp_12;
  int dim_susceptibility_symp_2;
  int dim_susceptibility_symp_3;
  int dim_symp_asymp_effect;
  int dim_symp_asymp_effect_1;
  int dim_symp_asymp_effect_12;
  int dim_symp_asymp_effect_2;
  int dim_symp_asymp_effect_3;
  int dim_symp_trans;
  int dim_symp_trans_1;
  int dim_symp_trans_12;
  int dim_symp_trans_2;
  int dim_symp_trans_3;
  int dim_sympt_frac;
  int dim_sympt_frac_1;
  int dim_sympt_frac_12;
  int dim_sympt_frac_2;
  int dim_sympt_frac_3;
  int dim_tot_hosp;
  int dim_tot_hosp_1;
  int dim_tot_hosp_12;
  int dim_tot_hosp_2;
  int dim_tot_hosp_3;
  int dim_tot_hosp_ini;
  int dim_tot_hosp_ini_1;
  int dim_tot_hosp_ini_12;
  int dim_tot_hosp_ini_2;
  int dim_tot_hosp_ini_3;
  int dim_tot_infected;
  int dim_tot_infected_1;
  int dim_tot_infected_12;
  int dim_tot_infected_2;
  int dim_tot_infected_3;
  int dim_tot_infected_ini;
  int dim_tot_infected_ini_1;
  int dim_tot_infected_ini_12;
  int dim_tot_infected_ini_2;
  int dim_tot_infected_ini_3;
  int dim_tot_resp;
  int dim_tot_resp_1;
  int dim_tot_resp_12;
  int dim_tot_resp_2;
  int dim_tot_resp_3;
  int dim_tot_resp_ini;
  int dim_tot_resp_ini_1;
  int dim_tot_resp_ini_12;
  int dim_tot_resp_ini_2;
  int dim_tot_resp_ini_3;
  int dim_tot_vac;
  int dim_tot_vac_1;
  int dim_tot_vac_2;
  int dim_tot_vac_adm;
  int dim_tot_vac_adm_1;
  int dim_tot_vac_adm_2;
  int dim_tot_vac_adm_ini;
  int dim_tot_vac_adm_ini_1;
  int dim_tot_vac_adm_ini_2;
  int dim_tot_vac_ini;
  int dim_tot_vac_ini_1;
  int dim_tot_vac_ini_2;
  int dim_transmisibility;
  int dim_transmisibility_1;
  int dim_transmisibility_12;
  int dim_transmisibility_2;
  int dim_transmisibility_3;
  int dim_vaccinations;
  int dim_vaccinations_1;
  int dim_vaccinations_12;
  int dim_vaccinations_2;
  int dim_vaccinations_3;
  int dim_vax_time_step;
  int dim_vax_time_step_1;
  int dim_vax_time_step_2;
  int dim_waning_immunity_vax;
  int dim_waning_immunity_vax_1;
  int dim_waning_immunity_vax_12;
  int dim_waning_immunity_vax_2;
  int dim_waning_immunity_vax_3;
  int dim_waning_tmp;
  int dim_waning_tmp_1;
  int dim_waning_tmp_2;
  double *expected_health_loss;
  double *hosp_prob;
  double *icu_prob;
  double *import_vec;
  double incidence_steps_measurement;
  double include_waning;
  double *index;
  double infectious_period;
  double *initial_A;
  double *initial_B_D;
  double *initial_B_D_H;
  double *initial_B_D_ICU;
  double *initial_D;
  double *initial_Ea;
  double *initial_Es;
  double *initial_H;
  double *initial_I;
  double *initial_ICU_H;
  double *initial_ICU_P;
  double *initial_ICU_R;
  double *initial_P;
  double *initial_R;
  double *initial_S;
  double *initial_scale_spont;
  double *initial_tot_hosp;
  double initial_tot_hosp_inc;
  double *initial_tot_infected;
  double *initial_tot_resp;
  double *initial_tot_vac;
  double *initial_tot_vac_adm;
  void *interpolate_N_imp;
  void *interpolate_beta_int;
  void *interpolate_vax_time_step;
  double *interpolation_time;
  double *kernel;
  double *lambda_ij;
  double latent_period;
  double *length_hosp;
  double *length_icu;
  double log_beta_ini;
  double *mixing_matrix;
  int n;
  double *n_AR;
  double *n_B_D_D;
  double *n_B_H_D;
  double *n_B_ICU_D;
  double *n_EaA;
  double *n_EsI;
  double *n_H;
  double *n_HD;
  double *n_HR;
  double *n_I;
  double *n_ICU_D;
  double *n_ICU_HR;
  double *n_ICU_P;
  double *n_ICU_R;
  double *n_ICU_RP;
  double *n_ID;
  double *n_IH;
  double *n_IICU;
  double *n_IR;
  double *n_PI;
  double *n_RS;
  double *n_SE;
  double *n_SE_tot;
  double *n_SEa;
  double *n_SEi;
  int n_strain;
  int n_vac;
  double *n_vac_help;
  double *n_vac_now;
  double *new_infs;
  int offset_output_N;
  int offset_output_beta;
  int offset_output_beta_spont_behaviour;
  int offset_variable_A;
  int offset_variable_B_D;
  int offset_variable_B_D_H;
  int offset_variable_B_D_ICU;
  int offset_variable_D;
  int offset_variable_Ea;
  int offset_variable_Es;
  int offset_variable_H;
  int offset_variable_I;
  int offset_variable_ICU_H;
  int offset_variable_ICU_P;
  int offset_variable_ICU_R;
  int offset_variable_P;
  int offset_variable_R;
  int offset_variable_S;
  int offset_variable_tot_hosp;
  int offset_variable_tot_infected;
  int offset_variable_tot_resp;
  int offset_variable_tot_vac;
  int offset_variable_tot_vac_adm;
  double *p_SE;
  double *pa;
  double *post_icu;
  double *pre_icu;
  double pre_sympt_infect;
  double pre_sympt_period;
  double *prob_death_hosp;
  double *prob_death_icu;
  double *prob_death_non_hosp;
  double rand_beta_days;
  double *spont_behav_change_params;
  double spont_behav_mode;
  double *susceptibility_asymp;
  double *susceptibility_symp;
  double *symp_asymp_effect;
  double *symp_trans;
  double *sympt_frac;
  double threshold_ini;
  double threshold_max;
  double threshold_min;
  double time_before_death;
  double time_before_death_hosp;
  double time_before_death_icu;
  double *tot_hosp_ini;
  double *tot_infected_ini;
  double *tot_resp_ini;
  double *tot_vac_adm_ini;
  double *tot_vac_ini;
  double *transmisibility;
  double vac_struct_length;
  double *vaccinations;
  double *vax_time_step;
  double vax_type;
  double waning_immunity;
  double *waning_immunity_vax;
  double waning_inf;
  double *waning_tmp;
} model_deterministic_internal;
model_deterministic_internal* model_deterministic_get_internal(SEXP internal_p, int closed_error);
static void model_deterministic_finalise(SEXP internal_p);
SEXP model_deterministic_create(SEXP user);
void model_deterministic_initmod_desolve(void(* odeparms) (int *, double *));
SEXP model_deterministic_contents(SEXP internal_p);
SEXP model_deterministic_set_user(SEXP internal_p, SEXP user);
SEXP model_deterministic_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP model_deterministic_use_dde_ptr);
SEXP model_deterministic_metadata(SEXP internal_p);
SEXP model_deterministic_initial_conditions(SEXP internal_p, SEXP t_ptr);
void model_deterministic_rhs(model_deterministic_internal* internal, double t, double * state, double * dstatedt, double * output);
void model_deterministic_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal);
void model_deterministic_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np);
void model_deterministic_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p);
SEXP model_deterministic_rhs_r(SEXP internal_p, SEXP t, SEXP state);
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max);
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max);
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name);
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name);
void user_check_values(SEXP value, double min, double max,
                           const char *name);
SEXP user_list_element(SEXP list, const char *name);
void odin_set_dim(SEXP target, int rank, ...);
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim);
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...);
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max);
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required);
void interpolate_check_y(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target);
double fmodr(double x, double y);
double scalar_real(SEXP x, const char * name);
double odin_sum1(double *x, size_t from, size_t to);
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1);
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12);
double odin_sum4(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int dim_x_1, int dim_x_12, int dim_x_123);
double odin_sum5(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int from_i5, int to_i5, int dim_x_1, int dim_x_12, int dim_x_123, int dim_x_1234);
model_deterministic_internal* model_deterministic_get_internal(SEXP internal_p, int closed_error) {
  model_deterministic_internal *internal = NULL;
  if (TYPEOF(internal_p) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  internal = (model_deterministic_internal*) R_ExternalPtrAddr(internal_p);
  if (!internal && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return internal;
}
void model_deterministic_finalise(SEXP internal_p) {
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 0);
  if (internal_p) {
    cinterpolate_free(internal->interpolate_N_imp);
    cinterpolate_free(internal->interpolate_beta_int);
    cinterpolate_free(internal->interpolate_vax_time_step);
    internal->interpolate_N_imp = NULL;
    internal->interpolate_beta_int = NULL;
    internal->interpolate_vax_time_step = NULL;
    R_Free(internal->A_ini);
    R_Free(internal->B_D_H_ini);
    R_Free(internal->B_D_ICU_ini);
    R_Free(internal->B_D_ini);
    R_Free(internal->C);
    R_Free(internal->D_ini);
    R_Free(internal->Ea_ini);
    R_Free(internal->Es_ini);
    R_Free(internal->H_ini);
    R_Free(internal->ICU_H_ini);
    R_Free(internal->ICU_P_ini);
    R_Free(internal->ICU_R_ini);
    R_Free(internal->I_imp_ini);
    R_Free(internal->I_ini);
    R_Free(internal->N);
    R_Free(internal->N_imp);
    R_Free(internal->N_imp_non_zero);
    R_Free(internal->P_ini);
    R_Free(internal->R_ini);
    R_Free(internal->S_ini);
    R_Free(internal->T_waning);
    R_Free(internal->asympt_frac);
    R_Free(internal->beta);
    R_Free(internal->beta_day);
    R_Free(internal->beta_int);
    R_Free(internal->beta_norm);
    R_Free(internal->beta_reduction);
    R_Free(internal->beta_spont_behaviour);
    R_Free(internal->beta_strain);
    R_Free(internal->contact_change);
    R_Free(internal->cross_protection);
    R_Free(internal->expected_health_loss);
    R_Free(internal->hosp_prob);
    R_Free(internal->icu_prob);
    R_Free(internal->import_vec);
    R_Free(internal->index);
    R_Free(internal->initial_A);
    R_Free(internal->initial_B_D);
    R_Free(internal->initial_B_D_H);
    R_Free(internal->initial_B_D_ICU);
    R_Free(internal->initial_D);
    R_Free(internal->initial_Ea);
    R_Free(internal->initial_Es);
    R_Free(internal->initial_H);
    R_Free(internal->initial_I);
    R_Free(internal->initial_ICU_H);
    R_Free(internal->initial_ICU_P);
    R_Free(internal->initial_ICU_R);
    R_Free(internal->initial_P);
    R_Free(internal->initial_R);
    R_Free(internal->initial_S);
    R_Free(internal->initial_scale_spont);
    R_Free(internal->initial_tot_hosp);
    R_Free(internal->initial_tot_infected);
    R_Free(internal->initial_tot_resp);
    R_Free(internal->initial_tot_vac);
    R_Free(internal->initial_tot_vac_adm);
    R_Free(internal->interpolation_time);
    R_Free(internal->kernel);
    R_Free(internal->lambda_ij);
    R_Free(internal->length_hosp);
    R_Free(internal->length_icu);
    R_Free(internal->mixing_matrix);
    R_Free(internal->n_AR);
    R_Free(internal->n_B_D_D);
    R_Free(internal->n_B_H_D);
    R_Free(internal->n_B_ICU_D);
    R_Free(internal->n_EaA);
    R_Free(internal->n_EsI);
    R_Free(internal->n_H);
    R_Free(internal->n_HD);
    R_Free(internal->n_HR);
    R_Free(internal->n_I);
    R_Free(internal->n_ICU_D);
    R_Free(internal->n_ICU_HR);
    R_Free(internal->n_ICU_P);
    R_Free(internal->n_ICU_R);
    R_Free(internal->n_ICU_RP);
    R_Free(internal->n_ID);
    R_Free(internal->n_IH);
    R_Free(internal->n_IICU);
    R_Free(internal->n_IR);
    R_Free(internal->n_PI);
    R_Free(internal->n_RS);
    R_Free(internal->n_SE);
    R_Free(internal->n_SE_tot);
    R_Free(internal->n_SEa);
    R_Free(internal->n_SEi);
    R_Free(internal->n_vac_help);
    R_Free(internal->n_vac_now);
    R_Free(internal->new_infs);
    R_Free(internal->p_SE);
    R_Free(internal->pa);
    R_Free(internal->post_icu);
    R_Free(internal->pre_icu);
    R_Free(internal->prob_death_hosp);
    R_Free(internal->prob_death_icu);
    R_Free(internal->prob_death_non_hosp);
    R_Free(internal->spont_behav_change_params);
    R_Free(internal->susceptibility_asymp);
    R_Free(internal->susceptibility_symp);
    R_Free(internal->symp_asymp_effect);
    R_Free(internal->symp_trans);
    R_Free(internal->sympt_frac);
    R_Free(internal->tot_hosp_ini);
    R_Free(internal->tot_infected_ini);
    R_Free(internal->tot_resp_ini);
    R_Free(internal->tot_vac_adm_ini);
    R_Free(internal->tot_vac_ini);
    R_Free(internal->transmisibility);
    R_Free(internal->vaccinations);
    R_Free(internal->vax_time_step);
    R_Free(internal->waning_immunity_vax);
    R_Free(internal->waning_tmp);
    R_Free(internal);
    R_ClearExternalPtr(internal_p);
  }
}
SEXP model_deterministic_create(SEXP user) {
  model_deterministic_internal *internal = (model_deterministic_internal*) R_Calloc(1, model_deterministic_internal);
  internal->A_ini = NULL;
  internal->B_D_H_ini = NULL;
  internal->B_D_ICU_ini = NULL;
  internal->B_D_ini = NULL;
  internal->C = NULL;
  internal->D_ini = NULL;
  internal->Ea_ini = NULL;
  internal->Es_ini = NULL;
  internal->H_ini = NULL;
  internal->ICU_H_ini = NULL;
  internal->ICU_P_ini = NULL;
  internal->ICU_R_ini = NULL;
  internal->I_imp_ini = NULL;
  internal->I_ini = NULL;
  internal->N = NULL;
  internal->N_imp = NULL;
  internal->N_imp_non_zero = NULL;
  internal->P_ini = NULL;
  internal->R_ini = NULL;
  internal->S_ini = NULL;
  internal->T_waning = NULL;
  internal->asympt_frac = NULL;
  internal->beta = NULL;
  internal->beta_day = NULL;
  internal->beta_int = NULL;
  internal->beta_norm = NULL;
  internal->beta_reduction = NULL;
  internal->beta_spont_behaviour = NULL;
  internal->beta_strain = NULL;
  internal->contact_change = NULL;
  internal->cross_protection = NULL;
  internal->expected_health_loss = NULL;
  internal->hosp_prob = NULL;
  internal->icu_prob = NULL;
  internal->import_vec = NULL;
  internal->index = NULL;
  internal->initial_A = NULL;
  internal->initial_B_D = NULL;
  internal->initial_B_D_H = NULL;
  internal->initial_B_D_ICU = NULL;
  internal->initial_D = NULL;
  internal->initial_Ea = NULL;
  internal->initial_Es = NULL;
  internal->initial_H = NULL;
  internal->initial_I = NULL;
  internal->initial_ICU_H = NULL;
  internal->initial_ICU_P = NULL;
  internal->initial_ICU_R = NULL;
  internal->initial_P = NULL;
  internal->initial_R = NULL;
  internal->initial_S = NULL;
  internal->initial_scale_spont = NULL;
  internal->initial_tot_hosp = NULL;
  internal->initial_tot_infected = NULL;
  internal->initial_tot_resp = NULL;
  internal->initial_tot_vac = NULL;
  internal->initial_tot_vac_adm = NULL;
  internal->interpolate_N_imp = NULL;
  internal->interpolate_beta_int = NULL;
  internal->interpolate_vax_time_step = NULL;
  internal->interpolation_time = NULL;
  internal->kernel = NULL;
  internal->lambda_ij = NULL;
  internal->length_hosp = NULL;
  internal->length_icu = NULL;
  internal->mixing_matrix = NULL;
  internal->n_AR = NULL;
  internal->n_B_D_D = NULL;
  internal->n_B_H_D = NULL;
  internal->n_B_ICU_D = NULL;
  internal->n_EaA = NULL;
  internal->n_EsI = NULL;
  internal->n_H = NULL;
  internal->n_HD = NULL;
  internal->n_HR = NULL;
  internal->n_I = NULL;
  internal->n_ICU_D = NULL;
  internal->n_ICU_HR = NULL;
  internal->n_ICU_P = NULL;
  internal->n_ICU_R = NULL;
  internal->n_ICU_RP = NULL;
  internal->n_ID = NULL;
  internal->n_IH = NULL;
  internal->n_IICU = NULL;
  internal->n_IR = NULL;
  internal->n_PI = NULL;
  internal->n_RS = NULL;
  internal->n_SE = NULL;
  internal->n_SE_tot = NULL;
  internal->n_SEa = NULL;
  internal->n_SEi = NULL;
  internal->n_vac_help = NULL;
  internal->n_vac_now = NULL;
  internal->new_infs = NULL;
  internal->p_SE = NULL;
  internal->pa = NULL;
  internal->post_icu = NULL;
  internal->pre_icu = NULL;
  internal->prob_death_hosp = NULL;
  internal->prob_death_icu = NULL;
  internal->prob_death_non_hosp = NULL;
  internal->spont_behav_change_params = NULL;
  internal->susceptibility_asymp = NULL;
  internal->susceptibility_symp = NULL;
  internal->symp_asymp_effect = NULL;
  internal->symp_trans = NULL;
  internal->sympt_frac = NULL;
  internal->tot_hosp_ini = NULL;
  internal->tot_infected_ini = NULL;
  internal->tot_resp_ini = NULL;
  internal->tot_vac_adm_ini = NULL;
  internal->tot_vac_ini = NULL;
  internal->transmisibility = NULL;
  internal->vaccinations = NULL;
  internal->vax_time_step = NULL;
  internal->waning_immunity_vax = NULL;
  internal->waning_tmp = NULL;
  internal->dim_spont_behav_change_params = 8;
  internal->initial_tot_hosp_inc = 0;
  internal->I_ini = NULL;
  internal->N_steps = NA_INTEGER;
  internal->S_ini = NULL;
  internal->T_waning = NULL;
  internal->asympt_frac = NULL;
  internal->asympt_infect = NA_REAL;
  internal->beta_day = NULL;
  internal->beta_mode = NA_REAL;
  internal->beta_strain = NULL;
  internal->cross_protection = NULL;
  internal->hosp_prob = NULL;
  internal->icu_prob = NULL;
  internal->import_vec = NULL;
  internal->infectious_period = NA_REAL;
  internal->interpolation_time = NULL;
  internal->latent_period = NA_REAL;
  internal->length_hosp = NULL;
  internal->length_icu = NULL;
  internal->log_beta_ini = NA_REAL;
  internal->mixing_matrix = NULL;
  internal->n_strain = NA_INTEGER;
  internal->n_vac = NA_INTEGER;
  internal->post_icu = NULL;
  internal->pre_icu = NULL;
  internal->pre_sympt_infect = NA_REAL;
  internal->pre_sympt_period = NA_REAL;
  internal->prob_death_hosp = NULL;
  internal->prob_death_icu = NULL;
  internal->prob_death_non_hosp = NULL;
  internal->susceptibility_asymp = NULL;
  internal->susceptibility_symp = NULL;
  internal->symp_trans = NULL;
  internal->sympt_frac = NULL;
  internal->time_before_death = NA_REAL;
  internal->time_before_death_hosp = NA_REAL;
  internal->time_before_death_icu = NA_REAL;
  internal->transmisibility = NULL;
  internal->vaccinations = NULL;
  internal->waning_immunity_vax = NULL;
  internal->waning_inf = NA_REAL;
  internal->A_ini = 0;
  internal->B_D_H_ini = 0;
  internal->B_D_ICU_ini = 0;
  internal->B_D_ini = 0;
  internal->D_ini = 0;
  internal->Ea_ini = 0;
  internal->Es_ini = 0;
  internal->H_ini = 0;
  internal->ICU_H_ini = 0;
  internal->ICU_P_ini = 0;
  internal->ICU_R_ini = 0;
  internal->I_imp_ini = 0;
  internal->P_ini = 0;
  internal->R_ini = 0;
  internal->beta_norm = 0;
  internal->expected_health_loss = 0;
  internal->incidence_steps_measurement = 1;
  internal->include_waning = 0;
  internal->n = 198;
  internal->rand_beta_days = 1;
  internal->spont_behav_change_params = 0;
  internal->spont_behav_mode = 1;
  internal->threshold_ini = 0.10000000000000001;
  internal->threshold_max = 0.20000000000000001;
  internal->threshold_min = 0.050000000000000003;
  internal->tot_hosp_ini = 0;
  internal->tot_infected_ini = 0;
  internal->tot_resp_ini = 0;
  internal->tot_vac_adm_ini = 0;
  internal->tot_vac_ini = 0;
  internal->vac_struct_length = 0;
  internal->vax_type = 1;
  internal->waning_immunity = 10000;
  SEXP ptr = PROTECT(R_MakeExternalPtr(internal, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(ptr, model_deterministic_finalise);
  UNPROTECT(1);
  return ptr;
}
static model_deterministic_internal *model_deterministic_internal_ds;
void model_deterministic_initmod_desolve(void(* odeparms) (int *, double *)) {
  static DL_FUNC get_desolve_gparms = NULL;
  if (get_desolve_gparms == NULL) {
    get_desolve_gparms =
      R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  model_deterministic_internal_ds = model_deterministic_get_internal(get_desolve_gparms(), 1);
}
SEXP model_deterministic_contents(SEXP internal_p) {
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 1);
  SEXP contents = PROTECT(allocVector(VECSXP, 672));
  SEXP A_ini = PROTECT(allocVector(REALSXP, internal->dim_A_ini));
  memcpy(REAL(A_ini), internal->A_ini, internal->dim_A_ini * sizeof(double));
  odin_set_dim(A_ini, 3, internal->dim_A_ini_1, internal->dim_A_ini_2, internal->dim_A_ini_3);
  SET_VECTOR_ELT(contents, 0, A_ini);
  SEXP B_D_H_ini = PROTECT(allocVector(REALSXP, internal->dim_B_D_H_ini));
  memcpy(REAL(B_D_H_ini), internal->B_D_H_ini, internal->dim_B_D_H_ini * sizeof(double));
  odin_set_dim(B_D_H_ini, 3, internal->dim_B_D_H_ini_1, internal->dim_B_D_H_ini_2, internal->dim_B_D_H_ini_3);
  SET_VECTOR_ELT(contents, 1, B_D_H_ini);
  SEXP B_D_ICU_ini = PROTECT(allocVector(REALSXP, internal->dim_B_D_ICU_ini));
  memcpy(REAL(B_D_ICU_ini), internal->B_D_ICU_ini, internal->dim_B_D_ICU_ini * sizeof(double));
  odin_set_dim(B_D_ICU_ini, 3, internal->dim_B_D_ICU_ini_1, internal->dim_B_D_ICU_ini_2, internal->dim_B_D_ICU_ini_3);
  SET_VECTOR_ELT(contents, 2, B_D_ICU_ini);
  SEXP B_D_ini = PROTECT(allocVector(REALSXP, internal->dim_B_D_ini));
  memcpy(REAL(B_D_ini), internal->B_D_ini, internal->dim_B_D_ini * sizeof(double));
  odin_set_dim(B_D_ini, 3, internal->dim_B_D_ini_1, internal->dim_B_D_ini_2, internal->dim_B_D_ini_3);
  SET_VECTOR_ELT(contents, 3, B_D_ini);
  SEXP C = PROTECT(allocVector(REALSXP, internal->dim_C));
  memcpy(REAL(C), internal->C, internal->dim_C * sizeof(double));
  odin_set_dim(C, 2, internal->dim_C_1, internal->dim_C_2);
  SET_VECTOR_ELT(contents, 4, C);
  SEXP D_ini = PROTECT(allocVector(REALSXP, internal->dim_D_ini));
  memcpy(REAL(D_ini), internal->D_ini, internal->dim_D_ini * sizeof(double));
  odin_set_dim(D_ini, 3, internal->dim_D_ini_1, internal->dim_D_ini_2, internal->dim_D_ini_3);
  SET_VECTOR_ELT(contents, 5, D_ini);
  SEXP Ea_ini = PROTECT(allocVector(REALSXP, internal->dim_Ea_ini));
  memcpy(REAL(Ea_ini), internal->Ea_ini, internal->dim_Ea_ini * sizeof(double));
  odin_set_dim(Ea_ini, 3, internal->dim_Ea_ini_1, internal->dim_Ea_ini_2, internal->dim_Ea_ini_3);
  SET_VECTOR_ELT(contents, 6, Ea_ini);
  SEXP Es_ini = PROTECT(allocVector(REALSXP, internal->dim_Es_ini));
  memcpy(REAL(Es_ini), internal->Es_ini, internal->dim_Es_ini * sizeof(double));
  odin_set_dim(Es_ini, 3, internal->dim_Es_ini_1, internal->dim_Es_ini_2, internal->dim_Es_ini_3);
  SET_VECTOR_ELT(contents, 7, Es_ini);
  SEXP H_ini = PROTECT(allocVector(REALSXP, internal->dim_H_ini));
  memcpy(REAL(H_ini), internal->H_ini, internal->dim_H_ini * sizeof(double));
  odin_set_dim(H_ini, 3, internal->dim_H_ini_1, internal->dim_H_ini_2, internal->dim_H_ini_3);
  SET_VECTOR_ELT(contents, 8, H_ini);
  SEXP ICU_H_ini = PROTECT(allocVector(REALSXP, internal->dim_ICU_H_ini));
  memcpy(REAL(ICU_H_ini), internal->ICU_H_ini, internal->dim_ICU_H_ini * sizeof(double));
  odin_set_dim(ICU_H_ini, 3, internal->dim_ICU_H_ini_1, internal->dim_ICU_H_ini_2, internal->dim_ICU_H_ini_3);
  SET_VECTOR_ELT(contents, 9, ICU_H_ini);
  SEXP ICU_P_ini = PROTECT(allocVector(REALSXP, internal->dim_ICU_P_ini));
  memcpy(REAL(ICU_P_ini), internal->ICU_P_ini, internal->dim_ICU_P_ini * sizeof(double));
  odin_set_dim(ICU_P_ini, 3, internal->dim_ICU_P_ini_1, internal->dim_ICU_P_ini_2, internal->dim_ICU_P_ini_3);
  SET_VECTOR_ELT(contents, 10, ICU_P_ini);
  SEXP ICU_R_ini = PROTECT(allocVector(REALSXP, internal->dim_ICU_R_ini));
  memcpy(REAL(ICU_R_ini), internal->ICU_R_ini, internal->dim_ICU_R_ini * sizeof(double));
  odin_set_dim(ICU_R_ini, 3, internal->dim_ICU_R_ini_1, internal->dim_ICU_R_ini_2, internal->dim_ICU_R_ini_3);
  SET_VECTOR_ELT(contents, 11, ICU_R_ini);
  SEXP I_imp_ini = PROTECT(allocVector(REALSXP, internal->dim_I_imp_ini));
  memcpy(REAL(I_imp_ini), internal->I_imp_ini, internal->dim_I_imp_ini * sizeof(double));
  odin_set_dim(I_imp_ini, 3, internal->dim_I_imp_ini_1, internal->dim_I_imp_ini_2, internal->dim_I_imp_ini_3);
  SET_VECTOR_ELT(contents, 12, I_imp_ini);
  SEXP I_ini = PROTECT(allocVector(REALSXP, internal->dim_I_ini));
  memcpy(REAL(I_ini), internal->I_ini, internal->dim_I_ini * sizeof(double));
  odin_set_dim(I_ini, 3, internal->dim_I_ini_1, internal->dim_I_ini_2, internal->dim_I_ini_3);
  SET_VECTOR_ELT(contents, 13, I_ini);
  SEXP N = PROTECT(allocVector(REALSXP, internal->dim_N));
  memcpy(REAL(N), internal->N, internal->dim_N * sizeof(double));
  odin_set_dim(N, 2, internal->dim_N_1, internal->dim_N_2);
  SET_VECTOR_ELT(contents, 14, N);
  SEXP N_imp = PROTECT(allocVector(REALSXP, internal->dim_N_imp));
  memcpy(REAL(N_imp), internal->N_imp, internal->dim_N_imp * sizeof(double));
  odin_set_dim(N_imp, 3, internal->dim_N_imp_1, internal->dim_N_imp_2, internal->dim_N_imp_3);
  SET_VECTOR_ELT(contents, 15, N_imp);
  SEXP N_imp_non_zero = PROTECT(allocVector(REALSXP, internal->dim_N_imp_non_zero));
  memcpy(REAL(N_imp_non_zero), internal->N_imp_non_zero, internal->dim_N_imp_non_zero * sizeof(double));
  odin_set_dim(N_imp_non_zero, 3, internal->dim_N_imp_non_zero_1, internal->dim_N_imp_non_zero_2, internal->dim_N_imp_non_zero_3);
  SET_VECTOR_ELT(contents, 16, N_imp_non_zero);
  SET_VECTOR_ELT(contents, 17, ScalarInteger(internal->N_steps));
  SEXP P_ini = PROTECT(allocVector(REALSXP, internal->dim_P_ini));
  memcpy(REAL(P_ini), internal->P_ini, internal->dim_P_ini * sizeof(double));
  odin_set_dim(P_ini, 3, internal->dim_P_ini_1, internal->dim_P_ini_2, internal->dim_P_ini_3);
  SET_VECTOR_ELT(contents, 18, P_ini);
  SEXP R_ini = PROTECT(allocVector(REALSXP, internal->dim_R_ini));
  memcpy(REAL(R_ini), internal->R_ini, internal->dim_R_ini * sizeof(double));
  odin_set_dim(R_ini, 3, internal->dim_R_ini_1, internal->dim_R_ini_2, internal->dim_R_ini_3);
  SET_VECTOR_ELT(contents, 19, R_ini);
  SEXP S_ini = PROTECT(allocVector(REALSXP, internal->dim_S_ini));
  memcpy(REAL(S_ini), internal->S_ini, internal->dim_S_ini * sizeof(double));
  odin_set_dim(S_ini, 2, internal->dim_S_ini_1, internal->dim_S_ini_2);
  SET_VECTOR_ELT(contents, 20, S_ini);
  SEXP T_waning = PROTECT(allocVector(REALSXP, internal->dim_T_waning));
  memcpy(REAL(T_waning), internal->T_waning, internal->dim_T_waning * sizeof(double));
  odin_set_dim(T_waning, 2, internal->dim_T_waning_1, internal->dim_T_waning_2);
  SET_VECTOR_ELT(contents, 21, T_waning);
  SET_VECTOR_ELT(contents, 22, ScalarReal(internal->W));
  SET_VECTOR_ELT(contents, 23, ScalarReal(internal->a));
  SEXP asympt_frac = PROTECT(allocVector(REALSXP, internal->dim_asympt_frac));
  memcpy(REAL(asympt_frac), internal->asympt_frac, internal->dim_asympt_frac * sizeof(double));
  odin_set_dim(asympt_frac, 3, internal->dim_asympt_frac_1, internal->dim_asympt_frac_2, internal->dim_asympt_frac_3);
  SET_VECTOR_ELT(contents, 24, asympt_frac);
  SET_VECTOR_ELT(contents, 25, ScalarReal(internal->asympt_infect));
  SEXP beta = PROTECT(allocVector(REALSXP, internal->dim_beta));
  memcpy(REAL(beta), internal->beta, internal->dim_beta * sizeof(double));
  odin_set_dim(beta, 2, internal->dim_beta_1, internal->dim_beta_2);
  SET_VECTOR_ELT(contents, 26, beta);
  SEXP beta_day = PROTECT(allocVector(REALSXP, internal->dim_beta_day));
  memcpy(REAL(beta_day), internal->beta_day, internal->dim_beta_day * sizeof(double));
  odin_set_dim(beta_day, 2, internal->dim_beta_day_1, internal->dim_beta_day_2);
  SET_VECTOR_ELT(contents, 27, beta_day);
  SEXP beta_int = PROTECT(allocVector(REALSXP, internal->dim_beta_int));
  memcpy(REAL(beta_int), internal->beta_int, internal->dim_beta_int * sizeof(double));
  SET_VECTOR_ELT(contents, 28, beta_int);
  SET_VECTOR_ELT(contents, 29, ScalarReal(internal->beta_mode));
  SEXP beta_norm = PROTECT(allocVector(REALSXP, internal->dim_beta_norm));
  memcpy(REAL(beta_norm), internal->beta_norm, internal->dim_beta_norm * sizeof(double));
  SET_VECTOR_ELT(contents, 30, beta_norm);
  SEXP beta_reduction = PROTECT(allocVector(REALSXP, internal->dim_beta_reduction));
  memcpy(REAL(beta_reduction), internal->beta_reduction, internal->dim_beta_reduction * sizeof(double));
  odin_set_dim(beta_reduction, 2, internal->dim_beta_reduction_1, internal->dim_beta_reduction_2);
  SET_VECTOR_ELT(contents, 31, beta_reduction);
  SEXP beta_spont_behaviour = PROTECT(allocVector(REALSXP, internal->dim_beta_spont_behaviour));
  memcpy(REAL(beta_spont_behaviour), internal->beta_spont_behaviour, internal->dim_beta_spont_behaviour * sizeof(double));
  odin_set_dim(beta_spont_behaviour, 2, internal->dim_beta_spont_behaviour_1, internal->dim_beta_spont_behaviour_2);
  SET_VECTOR_ELT(contents, 32, beta_spont_behaviour);
  SEXP beta_strain = PROTECT(allocVector(REALSXP, internal->dim_beta_strain));
  memcpy(REAL(beta_strain), internal->beta_strain, internal->dim_beta_strain * sizeof(double));
  SET_VECTOR_ELT(contents, 33, beta_strain);
  SEXP contact_change = PROTECT(allocVector(REALSXP, internal->dim_contact_change));
  memcpy(REAL(contact_change), internal->contact_change, internal->dim_contact_change * sizeof(double));
  odin_set_dim(contact_change, 2, internal->dim_contact_change_1, internal->dim_contact_change_2);
  SET_VECTOR_ELT(contents, 34, contact_change);
  SEXP cross_protection = PROTECT(allocVector(REALSXP, internal->dim_cross_protection));
  memcpy(REAL(cross_protection), internal->cross_protection, internal->dim_cross_protection * sizeof(double));
  odin_set_dim(cross_protection, 2, internal->dim_cross_protection_1, internal->dim_cross_protection_2);
  SET_VECTOR_ELT(contents, 35, cross_protection);
  SET_VECTOR_ELT(contents, 36, ScalarInteger(internal->dim_A));
  SET_VECTOR_ELT(contents, 37, ScalarInteger(internal->dim_A_1));
  SET_VECTOR_ELT(contents, 38, ScalarInteger(internal->dim_A_12));
  SET_VECTOR_ELT(contents, 39, ScalarInteger(internal->dim_A_2));
  SET_VECTOR_ELT(contents, 40, ScalarInteger(internal->dim_A_3));
  SET_VECTOR_ELT(contents, 41, ScalarInteger(internal->dim_A_ini));
  SET_VECTOR_ELT(contents, 42, ScalarInteger(internal->dim_A_ini_1));
  SET_VECTOR_ELT(contents, 43, ScalarInteger(internal->dim_A_ini_12));
  SET_VECTOR_ELT(contents, 44, ScalarInteger(internal->dim_A_ini_2));
  SET_VECTOR_ELT(contents, 45, ScalarInteger(internal->dim_A_ini_3));
  SET_VECTOR_ELT(contents, 46, ScalarInteger(internal->dim_B_D));
  SET_VECTOR_ELT(contents, 47, ScalarInteger(internal->dim_B_D_1));
  SET_VECTOR_ELT(contents, 48, ScalarInteger(internal->dim_B_D_12));
  SET_VECTOR_ELT(contents, 49, ScalarInteger(internal->dim_B_D_2));
  SET_VECTOR_ELT(contents, 50, ScalarInteger(internal->dim_B_D_3));
  SET_VECTOR_ELT(contents, 51, ScalarInteger(internal->dim_B_D_H));
  SET_VECTOR_ELT(contents, 52, ScalarInteger(internal->dim_B_D_H_1));
  SET_VECTOR_ELT(contents, 53, ScalarInteger(internal->dim_B_D_H_12));
  SET_VECTOR_ELT(contents, 54, ScalarInteger(internal->dim_B_D_H_2));
  SET_VECTOR_ELT(contents, 55, ScalarInteger(internal->dim_B_D_H_3));
  SET_VECTOR_ELT(contents, 56, ScalarInteger(internal->dim_B_D_H_ini));
  SET_VECTOR_ELT(contents, 57, ScalarInteger(internal->dim_B_D_H_ini_1));
  SET_VECTOR_ELT(contents, 58, ScalarInteger(internal->dim_B_D_H_ini_12));
  SET_VECTOR_ELT(contents, 59, ScalarInteger(internal->dim_B_D_H_ini_2));
  SET_VECTOR_ELT(contents, 60, ScalarInteger(internal->dim_B_D_H_ini_3));
  SET_VECTOR_ELT(contents, 61, ScalarInteger(internal->dim_B_D_ICU));
  SET_VECTOR_ELT(contents, 62, ScalarInteger(internal->dim_B_D_ICU_1));
  SET_VECTOR_ELT(contents, 63, ScalarInteger(internal->dim_B_D_ICU_12));
  SET_VECTOR_ELT(contents, 64, ScalarInteger(internal->dim_B_D_ICU_2));
  SET_VECTOR_ELT(contents, 65, ScalarInteger(internal->dim_B_D_ICU_3));
  SET_VECTOR_ELT(contents, 66, ScalarInteger(internal->dim_B_D_ICU_ini));
  SET_VECTOR_ELT(contents, 67, ScalarInteger(internal->dim_B_D_ICU_ini_1));
  SET_VECTOR_ELT(contents, 68, ScalarInteger(internal->dim_B_D_ICU_ini_12));
  SET_VECTOR_ELT(contents, 69, ScalarInteger(internal->dim_B_D_ICU_ini_2));
  SET_VECTOR_ELT(contents, 70, ScalarInteger(internal->dim_B_D_ICU_ini_3));
  SET_VECTOR_ELT(contents, 71, ScalarInteger(internal->dim_B_D_ini));
  SET_VECTOR_ELT(contents, 72, ScalarInteger(internal->dim_B_D_ini_1));
  SET_VECTOR_ELT(contents, 73, ScalarInteger(internal->dim_B_D_ini_12));
  SET_VECTOR_ELT(contents, 74, ScalarInteger(internal->dim_B_D_ini_2));
  SET_VECTOR_ELT(contents, 75, ScalarInteger(internal->dim_B_D_ini_3));
  SET_VECTOR_ELT(contents, 76, ScalarInteger(internal->dim_C));
  SET_VECTOR_ELT(contents, 77, ScalarInteger(internal->dim_C_1));
  SET_VECTOR_ELT(contents, 78, ScalarInteger(internal->dim_C_2));
  SET_VECTOR_ELT(contents, 79, ScalarInteger(internal->dim_D));
  SET_VECTOR_ELT(contents, 80, ScalarInteger(internal->dim_D_1));
  SET_VECTOR_ELT(contents, 81, ScalarInteger(internal->dim_D_12));
  SET_VECTOR_ELT(contents, 82, ScalarInteger(internal->dim_D_2));
  SET_VECTOR_ELT(contents, 83, ScalarInteger(internal->dim_D_3));
  SET_VECTOR_ELT(contents, 84, ScalarInteger(internal->dim_D_ini));
  SET_VECTOR_ELT(contents, 85, ScalarInteger(internal->dim_D_ini_1));
  SET_VECTOR_ELT(contents, 86, ScalarInteger(internal->dim_D_ini_12));
  SET_VECTOR_ELT(contents, 87, ScalarInteger(internal->dim_D_ini_2));
  SET_VECTOR_ELT(contents, 88, ScalarInteger(internal->dim_D_ini_3));
  SET_VECTOR_ELT(contents, 89, ScalarInteger(internal->dim_Ea));
  SET_VECTOR_ELT(contents, 90, ScalarInteger(internal->dim_Ea_1));
  SET_VECTOR_ELT(contents, 91, ScalarInteger(internal->dim_Ea_12));
  SET_VECTOR_ELT(contents, 92, ScalarInteger(internal->dim_Ea_2));
  SET_VECTOR_ELT(contents, 93, ScalarInteger(internal->dim_Ea_3));
  SET_VECTOR_ELT(contents, 94, ScalarInteger(internal->dim_Ea_ini));
  SET_VECTOR_ELT(contents, 95, ScalarInteger(internal->dim_Ea_ini_1));
  SET_VECTOR_ELT(contents, 96, ScalarInteger(internal->dim_Ea_ini_12));
  SET_VECTOR_ELT(contents, 97, ScalarInteger(internal->dim_Ea_ini_2));
  SET_VECTOR_ELT(contents, 98, ScalarInteger(internal->dim_Ea_ini_3));
  SET_VECTOR_ELT(contents, 99, ScalarInteger(internal->dim_Es));
  SET_VECTOR_ELT(contents, 100, ScalarInteger(internal->dim_Es_1));
  SET_VECTOR_ELT(contents, 101, ScalarInteger(internal->dim_Es_12));
  SET_VECTOR_ELT(contents, 102, ScalarInteger(internal->dim_Es_2));
  SET_VECTOR_ELT(contents, 103, ScalarInteger(internal->dim_Es_3));
  SET_VECTOR_ELT(contents, 104, ScalarInteger(internal->dim_Es_ini));
  SET_VECTOR_ELT(contents, 105, ScalarInteger(internal->dim_Es_ini_1));
  SET_VECTOR_ELT(contents, 106, ScalarInteger(internal->dim_Es_ini_12));
  SET_VECTOR_ELT(contents, 107, ScalarInteger(internal->dim_Es_ini_2));
  SET_VECTOR_ELT(contents, 108, ScalarInteger(internal->dim_Es_ini_3));
  SET_VECTOR_ELT(contents, 109, ScalarInteger(internal->dim_H));
  SET_VECTOR_ELT(contents, 110, ScalarInteger(internal->dim_H_1));
  SET_VECTOR_ELT(contents, 111, ScalarInteger(internal->dim_H_12));
  SET_VECTOR_ELT(contents, 112, ScalarInteger(internal->dim_H_2));
  SET_VECTOR_ELT(contents, 113, ScalarInteger(internal->dim_H_3));
  SET_VECTOR_ELT(contents, 114, ScalarInteger(internal->dim_H_ini));
  SET_VECTOR_ELT(contents, 115, ScalarInteger(internal->dim_H_ini_1));
  SET_VECTOR_ELT(contents, 116, ScalarInteger(internal->dim_H_ini_12));
  SET_VECTOR_ELT(contents, 117, ScalarInteger(internal->dim_H_ini_2));
  SET_VECTOR_ELT(contents, 118, ScalarInteger(internal->dim_H_ini_3));
  SET_VECTOR_ELT(contents, 119, ScalarInteger(internal->dim_I));
  SET_VECTOR_ELT(contents, 120, ScalarInteger(internal->dim_ICU_H));
  SET_VECTOR_ELT(contents, 121, ScalarInteger(internal->dim_ICU_H_1));
  SET_VECTOR_ELT(contents, 122, ScalarInteger(internal->dim_ICU_H_12));
  SET_VECTOR_ELT(contents, 123, ScalarInteger(internal->dim_ICU_H_2));
  SET_VECTOR_ELT(contents, 124, ScalarInteger(internal->dim_ICU_H_3));
  SET_VECTOR_ELT(contents, 125, ScalarInteger(internal->dim_ICU_H_ini));
  SET_VECTOR_ELT(contents, 126, ScalarInteger(internal->dim_ICU_H_ini_1));
  SET_VECTOR_ELT(contents, 127, ScalarInteger(internal->dim_ICU_H_ini_12));
  SET_VECTOR_ELT(contents, 128, ScalarInteger(internal->dim_ICU_H_ini_2));
  SET_VECTOR_ELT(contents, 129, ScalarInteger(internal->dim_ICU_H_ini_3));
  SET_VECTOR_ELT(contents, 130, ScalarInteger(internal->dim_ICU_P));
  SET_VECTOR_ELT(contents, 131, ScalarInteger(internal->dim_ICU_P_1));
  SET_VECTOR_ELT(contents, 132, ScalarInteger(internal->dim_ICU_P_12));
  SET_VECTOR_ELT(contents, 133, ScalarInteger(internal->dim_ICU_P_2));
  SET_VECTOR_ELT(contents, 134, ScalarInteger(internal->dim_ICU_P_3));
  SET_VECTOR_ELT(contents, 135, ScalarInteger(internal->dim_ICU_P_ini));
  SET_VECTOR_ELT(contents, 136, ScalarInteger(internal->dim_ICU_P_ini_1));
  SET_VECTOR_ELT(contents, 137, ScalarInteger(internal->dim_ICU_P_ini_12));
  SET_VECTOR_ELT(contents, 138, ScalarInteger(internal->dim_ICU_P_ini_2));
  SET_VECTOR_ELT(contents, 139, ScalarInteger(internal->dim_ICU_P_ini_3));
  SET_VECTOR_ELT(contents, 140, ScalarInteger(internal->dim_ICU_R));
  SET_VECTOR_ELT(contents, 141, ScalarInteger(internal->dim_ICU_R_1));
  SET_VECTOR_ELT(contents, 142, ScalarInteger(internal->dim_ICU_R_12));
  SET_VECTOR_ELT(contents, 143, ScalarInteger(internal->dim_ICU_R_2));
  SET_VECTOR_ELT(contents, 144, ScalarInteger(internal->dim_ICU_R_3));
  SET_VECTOR_ELT(contents, 145, ScalarInteger(internal->dim_ICU_R_ini));
  SET_VECTOR_ELT(contents, 146, ScalarInteger(internal->dim_ICU_R_ini_1));
  SET_VECTOR_ELT(contents, 147, ScalarInteger(internal->dim_ICU_R_ini_12));
  SET_VECTOR_ELT(contents, 148, ScalarInteger(internal->dim_ICU_R_ini_2));
  SET_VECTOR_ELT(contents, 149, ScalarInteger(internal->dim_ICU_R_ini_3));
  SET_VECTOR_ELT(contents, 150, ScalarInteger(internal->dim_I_1));
  SET_VECTOR_ELT(contents, 151, ScalarInteger(internal->dim_I_12));
  SET_VECTOR_ELT(contents, 152, ScalarInteger(internal->dim_I_2));
  SET_VECTOR_ELT(contents, 153, ScalarInteger(internal->dim_I_3));
  SET_VECTOR_ELT(contents, 154, ScalarInteger(internal->dim_I_imp_ini));
  SET_VECTOR_ELT(contents, 155, ScalarInteger(internal->dim_I_imp_ini_1));
  SET_VECTOR_ELT(contents, 156, ScalarInteger(internal->dim_I_imp_ini_12));
  SET_VECTOR_ELT(contents, 157, ScalarInteger(internal->dim_I_imp_ini_2));
  SET_VECTOR_ELT(contents, 158, ScalarInteger(internal->dim_I_imp_ini_3));
  SET_VECTOR_ELT(contents, 159, ScalarInteger(internal->dim_I_ini));
  SET_VECTOR_ELT(contents, 160, ScalarInteger(internal->dim_I_ini_1));
  SET_VECTOR_ELT(contents, 161, ScalarInteger(internal->dim_I_ini_12));
  SET_VECTOR_ELT(contents, 162, ScalarInteger(internal->dim_I_ini_2));
  SET_VECTOR_ELT(contents, 163, ScalarInteger(internal->dim_I_ini_3));
  SET_VECTOR_ELT(contents, 164, ScalarInteger(internal->dim_N));
  SET_VECTOR_ELT(contents, 165, ScalarInteger(internal->dim_N_1));
  SET_VECTOR_ELT(contents, 166, ScalarInteger(internal->dim_N_2));
  SET_VECTOR_ELT(contents, 167, ScalarInteger(internal->dim_N_imp));
  SET_VECTOR_ELT(contents, 168, ScalarInteger(internal->dim_N_imp_1));
  SET_VECTOR_ELT(contents, 169, ScalarInteger(internal->dim_N_imp_12));
  SET_VECTOR_ELT(contents, 170, ScalarInteger(internal->dim_N_imp_2));
  SET_VECTOR_ELT(contents, 171, ScalarInteger(internal->dim_N_imp_3));
  SET_VECTOR_ELT(contents, 172, ScalarInteger(internal->dim_N_imp_non_zero));
  SET_VECTOR_ELT(contents, 173, ScalarInteger(internal->dim_N_imp_non_zero_1));
  SET_VECTOR_ELT(contents, 174, ScalarInteger(internal->dim_N_imp_non_zero_12));
  SET_VECTOR_ELT(contents, 175, ScalarInteger(internal->dim_N_imp_non_zero_2));
  SET_VECTOR_ELT(contents, 176, ScalarInteger(internal->dim_N_imp_non_zero_3));
  SET_VECTOR_ELT(contents, 177, ScalarInteger(internal->dim_P));
  SET_VECTOR_ELT(contents, 178, ScalarInteger(internal->dim_P_1));
  SET_VECTOR_ELT(contents, 179, ScalarInteger(internal->dim_P_12));
  SET_VECTOR_ELT(contents, 180, ScalarInteger(internal->dim_P_2));
  SET_VECTOR_ELT(contents, 181, ScalarInteger(internal->dim_P_3));
  SET_VECTOR_ELT(contents, 182, ScalarInteger(internal->dim_P_ini));
  SET_VECTOR_ELT(contents, 183, ScalarInteger(internal->dim_P_ini_1));
  SET_VECTOR_ELT(contents, 184, ScalarInteger(internal->dim_P_ini_12));
  SET_VECTOR_ELT(contents, 185, ScalarInteger(internal->dim_P_ini_2));
  SET_VECTOR_ELT(contents, 186, ScalarInteger(internal->dim_P_ini_3));
  SET_VECTOR_ELT(contents, 187, ScalarInteger(internal->dim_R));
  SET_VECTOR_ELT(contents, 188, ScalarInteger(internal->dim_R_1));
  SET_VECTOR_ELT(contents, 189, ScalarInteger(internal->dim_R_12));
  SET_VECTOR_ELT(contents, 190, ScalarInteger(internal->dim_R_2));
  SET_VECTOR_ELT(contents, 191, ScalarInteger(internal->dim_R_3));
  SET_VECTOR_ELT(contents, 192, ScalarInteger(internal->dim_R_ini));
  SET_VECTOR_ELT(contents, 193, ScalarInteger(internal->dim_R_ini_1));
  SET_VECTOR_ELT(contents, 194, ScalarInteger(internal->dim_R_ini_12));
  SET_VECTOR_ELT(contents, 195, ScalarInteger(internal->dim_R_ini_2));
  SET_VECTOR_ELT(contents, 196, ScalarInteger(internal->dim_R_ini_3));
  SET_VECTOR_ELT(contents, 197, ScalarInteger(internal->dim_S));
  SET_VECTOR_ELT(contents, 198, ScalarInteger(internal->dim_S_1));
  SET_VECTOR_ELT(contents, 199, ScalarInteger(internal->dim_S_2));
  SET_VECTOR_ELT(contents, 200, ScalarInteger(internal->dim_S_ini));
  SET_VECTOR_ELT(contents, 201, ScalarInteger(internal->dim_S_ini_1));
  SET_VECTOR_ELT(contents, 202, ScalarInteger(internal->dim_S_ini_2));
  SET_VECTOR_ELT(contents, 203, ScalarInteger(internal->dim_T_waning));
  SET_VECTOR_ELT(contents, 204, ScalarInteger(internal->dim_T_waning_1));
  SET_VECTOR_ELT(contents, 205, ScalarInteger(internal->dim_T_waning_2));
  SET_VECTOR_ELT(contents, 206, ScalarInteger(internal->dim_asympt_frac));
  SET_VECTOR_ELT(contents, 207, ScalarInteger(internal->dim_asympt_frac_1));
  SET_VECTOR_ELT(contents, 208, ScalarInteger(internal->dim_asympt_frac_12));
  SET_VECTOR_ELT(contents, 209, ScalarInteger(internal->dim_asympt_frac_2));
  SET_VECTOR_ELT(contents, 210, ScalarInteger(internal->dim_asympt_frac_3));
  SET_VECTOR_ELT(contents, 211, ScalarInteger(internal->dim_beta));
  SET_VECTOR_ELT(contents, 212, ScalarInteger(internal->dim_beta_1));
  SET_VECTOR_ELT(contents, 213, ScalarInteger(internal->dim_beta_2));
  SET_VECTOR_ELT(contents, 214, ScalarInteger(internal->dim_beta_day));
  SET_VECTOR_ELT(contents, 215, ScalarInteger(internal->dim_beta_day_1));
  SET_VECTOR_ELT(contents, 216, ScalarInteger(internal->dim_beta_day_2));
  SET_VECTOR_ELT(contents, 217, ScalarInteger(internal->dim_beta_int));
  SET_VECTOR_ELT(contents, 218, ScalarInteger(internal->dim_beta_norm));
  SET_VECTOR_ELT(contents, 219, ScalarInteger(internal->dim_beta_reduction));
  SET_VECTOR_ELT(contents, 220, ScalarInteger(internal->dim_beta_reduction_1));
  SET_VECTOR_ELT(contents, 221, ScalarInteger(internal->dim_beta_reduction_2));
  SET_VECTOR_ELT(contents, 222, ScalarInteger(internal->dim_beta_spont_behaviour));
  SET_VECTOR_ELT(contents, 223, ScalarInteger(internal->dim_beta_spont_behaviour_1));
  SET_VECTOR_ELT(contents, 224, ScalarInteger(internal->dim_beta_spont_behaviour_2));
  SET_VECTOR_ELT(contents, 225, ScalarInteger(internal->dim_beta_strain));
  SET_VECTOR_ELT(contents, 226, ScalarInteger(internal->dim_contact_change));
  SET_VECTOR_ELT(contents, 227, ScalarInteger(internal->dim_contact_change_1));
  SET_VECTOR_ELT(contents, 228, ScalarInteger(internal->dim_contact_change_2));
  SET_VECTOR_ELT(contents, 229, ScalarInteger(internal->dim_cross_protection));
  SET_VECTOR_ELT(contents, 230, ScalarInteger(internal->dim_cross_protection_1));
  SET_VECTOR_ELT(contents, 231, ScalarInteger(internal->dim_cross_protection_2));
  SET_VECTOR_ELT(contents, 232, ScalarInteger(internal->dim_expected_health_loss));
  SET_VECTOR_ELT(contents, 233, ScalarInteger(internal->dim_expected_health_loss_1));
  SET_VECTOR_ELT(contents, 234, ScalarInteger(internal->dim_expected_health_loss_2));
  SET_VECTOR_ELT(contents, 235, ScalarInteger(internal->dim_hosp_prob));
  SET_VECTOR_ELT(contents, 236, ScalarInteger(internal->dim_hosp_prob_1));
  SET_VECTOR_ELT(contents, 237, ScalarInteger(internal->dim_hosp_prob_12));
  SET_VECTOR_ELT(contents, 238, ScalarInteger(internal->dim_hosp_prob_2));
  SET_VECTOR_ELT(contents, 239, ScalarInteger(internal->dim_hosp_prob_3));
  SET_VECTOR_ELT(contents, 240, ScalarInteger(internal->dim_icu_prob));
  SET_VECTOR_ELT(contents, 241, ScalarInteger(internal->dim_icu_prob_1));
  SET_VECTOR_ELT(contents, 242, ScalarInteger(internal->dim_icu_prob_12));
  SET_VECTOR_ELT(contents, 243, ScalarInteger(internal->dim_icu_prob_2));
  SET_VECTOR_ELT(contents, 244, ScalarInteger(internal->dim_icu_prob_3));
  SET_VECTOR_ELT(contents, 245, ScalarInteger(internal->dim_import_vec));
  SET_VECTOR_ELT(contents, 246, ScalarInteger(internal->dim_import_vec_1));
  SET_VECTOR_ELT(contents, 247, ScalarInteger(internal->dim_import_vec_12));
  SET_VECTOR_ELT(contents, 248, ScalarInteger(internal->dim_import_vec_123));
  SET_VECTOR_ELT(contents, 249, ScalarInteger(internal->dim_import_vec_2));
  SET_VECTOR_ELT(contents, 250, ScalarInteger(internal->dim_import_vec_3));
  SET_VECTOR_ELT(contents, 251, ScalarInteger(internal->dim_import_vec_4));
  SET_VECTOR_ELT(contents, 252, ScalarInteger(internal->dim_index));
  SET_VECTOR_ELT(contents, 253, ScalarInteger(internal->dim_interpolation_time));
  SET_VECTOR_ELT(contents, 254, ScalarInteger(internal->dim_kernel));
  SET_VECTOR_ELT(contents, 255, ScalarInteger(internal->dim_kernel_1));
  SET_VECTOR_ELT(contents, 256, ScalarInteger(internal->dim_kernel_2));
  SET_VECTOR_ELT(contents, 257, ScalarInteger(internal->dim_lambda_ij));
  SET_VECTOR_ELT(contents, 258, ScalarInteger(internal->dim_lambda_ij_1));
  SET_VECTOR_ELT(contents, 259, ScalarInteger(internal->dim_lambda_ij_12));
  SET_VECTOR_ELT(contents, 260, ScalarInteger(internal->dim_lambda_ij_123));
  SET_VECTOR_ELT(contents, 261, ScalarInteger(internal->dim_lambda_ij_1234));
  SET_VECTOR_ELT(contents, 262, ScalarInteger(internal->dim_lambda_ij_2));
  SET_VECTOR_ELT(contents, 263, ScalarInteger(internal->dim_lambda_ij_3));
  SET_VECTOR_ELT(contents, 264, ScalarInteger(internal->dim_lambda_ij_4));
  SET_VECTOR_ELT(contents, 265, ScalarInteger(internal->dim_lambda_ij_5));
  SET_VECTOR_ELT(contents, 266, ScalarInteger(internal->dim_length_hosp));
  SET_VECTOR_ELT(contents, 267, ScalarInteger(internal->dim_length_hosp_1));
  SET_VECTOR_ELT(contents, 268, ScalarInteger(internal->dim_length_hosp_12));
  SET_VECTOR_ELT(contents, 269, ScalarInteger(internal->dim_length_hosp_2));
  SET_VECTOR_ELT(contents, 270, ScalarInteger(internal->dim_length_hosp_3));
  SET_VECTOR_ELT(contents, 271, ScalarInteger(internal->dim_length_icu));
  SET_VECTOR_ELT(contents, 272, ScalarInteger(internal->dim_length_icu_1));
  SET_VECTOR_ELT(contents, 273, ScalarInteger(internal->dim_length_icu_12));
  SET_VECTOR_ELT(contents, 274, ScalarInteger(internal->dim_length_icu_2));
  SET_VECTOR_ELT(contents, 275, ScalarInteger(internal->dim_length_icu_3));
  SET_VECTOR_ELT(contents, 276, ScalarInteger(internal->dim_mixing_matrix));
  SET_VECTOR_ELT(contents, 277, ScalarInteger(internal->dim_mixing_matrix_1));
  SET_VECTOR_ELT(contents, 278, ScalarInteger(internal->dim_mixing_matrix_2));
  SET_VECTOR_ELT(contents, 279, ScalarInteger(internal->dim_n_AR));
  SET_VECTOR_ELT(contents, 280, ScalarInteger(internal->dim_n_AR_1));
  SET_VECTOR_ELT(contents, 281, ScalarInteger(internal->dim_n_AR_12));
  SET_VECTOR_ELT(contents, 282, ScalarInteger(internal->dim_n_AR_2));
  SET_VECTOR_ELT(contents, 283, ScalarInteger(internal->dim_n_AR_3));
  SET_VECTOR_ELT(contents, 284, ScalarInteger(internal->dim_n_B_D_D));
  SET_VECTOR_ELT(contents, 285, ScalarInteger(internal->dim_n_B_D_D_1));
  SET_VECTOR_ELT(contents, 286, ScalarInteger(internal->dim_n_B_D_D_12));
  SET_VECTOR_ELT(contents, 287, ScalarInteger(internal->dim_n_B_D_D_2));
  SET_VECTOR_ELT(contents, 288, ScalarInteger(internal->dim_n_B_D_D_3));
  SET_VECTOR_ELT(contents, 289, ScalarInteger(internal->dim_n_B_H_D));
  SET_VECTOR_ELT(contents, 290, ScalarInteger(internal->dim_n_B_H_D_1));
  SET_VECTOR_ELT(contents, 291, ScalarInteger(internal->dim_n_B_H_D_12));
  SET_VECTOR_ELT(contents, 292, ScalarInteger(internal->dim_n_B_H_D_2));
  SET_VECTOR_ELT(contents, 293, ScalarInteger(internal->dim_n_B_H_D_3));
  SET_VECTOR_ELT(contents, 294, ScalarInteger(internal->dim_n_B_ICU_D));
  SET_VECTOR_ELT(contents, 295, ScalarInteger(internal->dim_n_B_ICU_D_1));
  SET_VECTOR_ELT(contents, 296, ScalarInteger(internal->dim_n_B_ICU_D_12));
  SET_VECTOR_ELT(contents, 297, ScalarInteger(internal->dim_n_B_ICU_D_2));
  SET_VECTOR_ELT(contents, 298, ScalarInteger(internal->dim_n_B_ICU_D_3));
  SET_VECTOR_ELT(contents, 299, ScalarInteger(internal->dim_n_EaA));
  SET_VECTOR_ELT(contents, 300, ScalarInteger(internal->dim_n_EaA_1));
  SET_VECTOR_ELT(contents, 301, ScalarInteger(internal->dim_n_EaA_12));
  SET_VECTOR_ELT(contents, 302, ScalarInteger(internal->dim_n_EaA_2));
  SET_VECTOR_ELT(contents, 303, ScalarInteger(internal->dim_n_EaA_3));
  SET_VECTOR_ELT(contents, 304, ScalarInteger(internal->dim_n_EsI));
  SET_VECTOR_ELT(contents, 305, ScalarInteger(internal->dim_n_EsI_1));
  SET_VECTOR_ELT(contents, 306, ScalarInteger(internal->dim_n_EsI_12));
  SET_VECTOR_ELT(contents, 307, ScalarInteger(internal->dim_n_EsI_2));
  SET_VECTOR_ELT(contents, 308, ScalarInteger(internal->dim_n_EsI_3));
  SET_VECTOR_ELT(contents, 309, ScalarInteger(internal->dim_n_H));
  SET_VECTOR_ELT(contents, 310, ScalarInteger(internal->dim_n_HD));
  SET_VECTOR_ELT(contents, 311, ScalarInteger(internal->dim_n_HD_1));
  SET_VECTOR_ELT(contents, 312, ScalarInteger(internal->dim_n_HD_12));
  SET_VECTOR_ELT(contents, 313, ScalarInteger(internal->dim_n_HD_2));
  SET_VECTOR_ELT(contents, 314, ScalarInteger(internal->dim_n_HD_3));
  SET_VECTOR_ELT(contents, 315, ScalarInteger(internal->dim_n_HR));
  SET_VECTOR_ELT(contents, 316, ScalarInteger(internal->dim_n_HR_1));
  SET_VECTOR_ELT(contents, 317, ScalarInteger(internal->dim_n_HR_12));
  SET_VECTOR_ELT(contents, 318, ScalarInteger(internal->dim_n_HR_2));
  SET_VECTOR_ELT(contents, 319, ScalarInteger(internal->dim_n_HR_3));
  SET_VECTOR_ELT(contents, 320, ScalarInteger(internal->dim_n_H_1));
  SET_VECTOR_ELT(contents, 321, ScalarInteger(internal->dim_n_H_12));
  SET_VECTOR_ELT(contents, 322, ScalarInteger(internal->dim_n_H_2));
  SET_VECTOR_ELT(contents, 323, ScalarInteger(internal->dim_n_H_3));
  SET_VECTOR_ELT(contents, 324, ScalarInteger(internal->dim_n_I));
  SET_VECTOR_ELT(contents, 325, ScalarInteger(internal->dim_n_ICU_D));
  SET_VECTOR_ELT(contents, 326, ScalarInteger(internal->dim_n_ICU_D_1));
  SET_VECTOR_ELT(contents, 327, ScalarInteger(internal->dim_n_ICU_D_12));
  SET_VECTOR_ELT(contents, 328, ScalarInteger(internal->dim_n_ICU_D_2));
  SET_VECTOR_ELT(contents, 329, ScalarInteger(internal->dim_n_ICU_D_3));
  SET_VECTOR_ELT(contents, 330, ScalarInteger(internal->dim_n_ICU_HR));
  SET_VECTOR_ELT(contents, 331, ScalarInteger(internal->dim_n_ICU_HR_1));
  SET_VECTOR_ELT(contents, 332, ScalarInteger(internal->dim_n_ICU_HR_12));
  SET_VECTOR_ELT(contents, 333, ScalarInteger(internal->dim_n_ICU_HR_2));
  SET_VECTOR_ELT(contents, 334, ScalarInteger(internal->dim_n_ICU_HR_3));
  SET_VECTOR_ELT(contents, 335, ScalarInteger(internal->dim_n_ICU_P));
  SET_VECTOR_ELT(contents, 336, ScalarInteger(internal->dim_n_ICU_P_1));
  SET_VECTOR_ELT(contents, 337, ScalarInteger(internal->dim_n_ICU_P_12));
  SET_VECTOR_ELT(contents, 338, ScalarInteger(internal->dim_n_ICU_P_2));
  SET_VECTOR_ELT(contents, 339, ScalarInteger(internal->dim_n_ICU_P_3));
  SET_VECTOR_ELT(contents, 340, ScalarInteger(internal->dim_n_ICU_R));
  SET_VECTOR_ELT(contents, 341, ScalarInteger(internal->dim_n_ICU_RP));
  SET_VECTOR_ELT(contents, 342, ScalarInteger(internal->dim_n_ICU_RP_1));
  SET_VECTOR_ELT(contents, 343, ScalarInteger(internal->dim_n_ICU_RP_12));
  SET_VECTOR_ELT(contents, 344, ScalarInteger(internal->dim_n_ICU_RP_2));
  SET_VECTOR_ELT(contents, 345, ScalarInteger(internal->dim_n_ICU_RP_3));
  SET_VECTOR_ELT(contents, 346, ScalarInteger(internal->dim_n_ICU_R_1));
  SET_VECTOR_ELT(contents, 347, ScalarInteger(internal->dim_n_ICU_R_12));
  SET_VECTOR_ELT(contents, 348, ScalarInteger(internal->dim_n_ICU_R_2));
  SET_VECTOR_ELT(contents, 349, ScalarInteger(internal->dim_n_ICU_R_3));
  SET_VECTOR_ELT(contents, 350, ScalarInteger(internal->dim_n_ID));
  SET_VECTOR_ELT(contents, 351, ScalarInteger(internal->dim_n_ID_1));
  SET_VECTOR_ELT(contents, 352, ScalarInteger(internal->dim_n_ID_12));
  SET_VECTOR_ELT(contents, 353, ScalarInteger(internal->dim_n_ID_2));
  SET_VECTOR_ELT(contents, 354, ScalarInteger(internal->dim_n_ID_3));
  SET_VECTOR_ELT(contents, 355, ScalarInteger(internal->dim_n_IH));
  SET_VECTOR_ELT(contents, 356, ScalarInteger(internal->dim_n_IH_1));
  SET_VECTOR_ELT(contents, 357, ScalarInteger(internal->dim_n_IH_12));
  SET_VECTOR_ELT(contents, 358, ScalarInteger(internal->dim_n_IH_2));
  SET_VECTOR_ELT(contents, 359, ScalarInteger(internal->dim_n_IH_3));
  SET_VECTOR_ELT(contents, 360, ScalarInteger(internal->dim_n_IICU));
  SET_VECTOR_ELT(contents, 361, ScalarInteger(internal->dim_n_IICU_1));
  SET_VECTOR_ELT(contents, 362, ScalarInteger(internal->dim_n_IICU_12));
  SET_VECTOR_ELT(contents, 363, ScalarInteger(internal->dim_n_IICU_2));
  SET_VECTOR_ELT(contents, 364, ScalarInteger(internal->dim_n_IICU_3));
  SET_VECTOR_ELT(contents, 365, ScalarInteger(internal->dim_n_IR));
  SET_VECTOR_ELT(contents, 366, ScalarInteger(internal->dim_n_IR_1));
  SET_VECTOR_ELT(contents, 367, ScalarInteger(internal->dim_n_IR_12));
  SET_VECTOR_ELT(contents, 368, ScalarInteger(internal->dim_n_IR_2));
  SET_VECTOR_ELT(contents, 369, ScalarInteger(internal->dim_n_IR_3));
  SET_VECTOR_ELT(contents, 370, ScalarInteger(internal->dim_n_I_1));
  SET_VECTOR_ELT(contents, 371, ScalarInteger(internal->dim_n_I_12));
  SET_VECTOR_ELT(contents, 372, ScalarInteger(internal->dim_n_I_2));
  SET_VECTOR_ELT(contents, 373, ScalarInteger(internal->dim_n_I_3));
  SET_VECTOR_ELT(contents, 374, ScalarInteger(internal->dim_n_PI));
  SET_VECTOR_ELT(contents, 375, ScalarInteger(internal->dim_n_PI_1));
  SET_VECTOR_ELT(contents, 376, ScalarInteger(internal->dim_n_PI_12));
  SET_VECTOR_ELT(contents, 377, ScalarInteger(internal->dim_n_PI_2));
  SET_VECTOR_ELT(contents, 378, ScalarInteger(internal->dim_n_PI_3));
  SET_VECTOR_ELT(contents, 379, ScalarInteger(internal->dim_n_RS));
  SET_VECTOR_ELT(contents, 380, ScalarInteger(internal->dim_n_RS_1));
  SET_VECTOR_ELT(contents, 381, ScalarInteger(internal->dim_n_RS_12));
  SET_VECTOR_ELT(contents, 382, ScalarInteger(internal->dim_n_RS_2));
  SET_VECTOR_ELT(contents, 383, ScalarInteger(internal->dim_n_RS_3));
  SET_VECTOR_ELT(contents, 384, ScalarInteger(internal->dim_n_SE));
  SET_VECTOR_ELT(contents, 385, ScalarInteger(internal->dim_n_SE_1));
  SET_VECTOR_ELT(contents, 386, ScalarInteger(internal->dim_n_SE_12));
  SET_VECTOR_ELT(contents, 387, ScalarInteger(internal->dim_n_SE_2));
  SET_VECTOR_ELT(contents, 388, ScalarInteger(internal->dim_n_SE_3));
  SET_VECTOR_ELT(contents, 389, ScalarInteger(internal->dim_n_SE_tot));
  SET_VECTOR_ELT(contents, 390, ScalarInteger(internal->dim_n_SE_tot_1));
  SET_VECTOR_ELT(contents, 391, ScalarInteger(internal->dim_n_SE_tot_2));
  SET_VECTOR_ELT(contents, 392, ScalarInteger(internal->dim_n_SEa));
  SET_VECTOR_ELT(contents, 393, ScalarInteger(internal->dim_n_SEa_1));
  SET_VECTOR_ELT(contents, 394, ScalarInteger(internal->dim_n_SEa_12));
  SET_VECTOR_ELT(contents, 395, ScalarInteger(internal->dim_n_SEa_2));
  SET_VECTOR_ELT(contents, 396, ScalarInteger(internal->dim_n_SEa_3));
  SET_VECTOR_ELT(contents, 397, ScalarInteger(internal->dim_n_SEi));
  SET_VECTOR_ELT(contents, 398, ScalarInteger(internal->dim_n_SEi_1));
  SET_VECTOR_ELT(contents, 399, ScalarInteger(internal->dim_n_SEi_12));
  SET_VECTOR_ELT(contents, 400, ScalarInteger(internal->dim_n_SEi_2));
  SET_VECTOR_ELT(contents, 401, ScalarInteger(internal->dim_n_SEi_3));
  SET_VECTOR_ELT(contents, 402, ScalarInteger(internal->dim_n_vac_help));
  SET_VECTOR_ELT(contents, 403, ScalarInteger(internal->dim_n_vac_help_1));
  SET_VECTOR_ELT(contents, 404, ScalarInteger(internal->dim_n_vac_help_2));
  SET_VECTOR_ELT(contents, 405, ScalarInteger(internal->dim_n_vac_now));
  SET_VECTOR_ELT(contents, 406, ScalarInteger(internal->dim_n_vac_now_1));
  SET_VECTOR_ELT(contents, 407, ScalarInteger(internal->dim_n_vac_now_2));
  SET_VECTOR_ELT(contents, 408, ScalarInteger(internal->dim_new_infs));
  SET_VECTOR_ELT(contents, 409, ScalarInteger(internal->dim_new_infs_1));
  SET_VECTOR_ELT(contents, 410, ScalarInteger(internal->dim_new_infs_12));
  SET_VECTOR_ELT(contents, 411, ScalarInteger(internal->dim_new_infs_2));
  SET_VECTOR_ELT(contents, 412, ScalarInteger(internal->dim_new_infs_3));
  SET_VECTOR_ELT(contents, 413, ScalarInteger(internal->dim_p_SE));
  SET_VECTOR_ELT(contents, 414, ScalarInteger(internal->dim_p_SE_1));
  SET_VECTOR_ELT(contents, 415, ScalarInteger(internal->dim_p_SE_12));
  SET_VECTOR_ELT(contents, 416, ScalarInteger(internal->dim_p_SE_2));
  SET_VECTOR_ELT(contents, 417, ScalarInteger(internal->dim_p_SE_3));
  SET_VECTOR_ELT(contents, 418, ScalarInteger(internal->dim_pa));
  SET_VECTOR_ELT(contents, 419, ScalarInteger(internal->dim_pa_1));
  SET_VECTOR_ELT(contents, 420, ScalarInteger(internal->dim_pa_12));
  SET_VECTOR_ELT(contents, 421, ScalarInteger(internal->dim_pa_2));
  SET_VECTOR_ELT(contents, 422, ScalarInteger(internal->dim_pa_3));
  SET_VECTOR_ELT(contents, 423, ScalarInteger(internal->dim_post_icu));
  SET_VECTOR_ELT(contents, 424, ScalarInteger(internal->dim_post_icu_1));
  SET_VECTOR_ELT(contents, 425, ScalarInteger(internal->dim_post_icu_12));
  SET_VECTOR_ELT(contents, 426, ScalarInteger(internal->dim_post_icu_2));
  SET_VECTOR_ELT(contents, 427, ScalarInteger(internal->dim_post_icu_3));
  SET_VECTOR_ELT(contents, 428, ScalarInteger(internal->dim_pre_icu));
  SET_VECTOR_ELT(contents, 429, ScalarInteger(internal->dim_pre_icu_1));
  SET_VECTOR_ELT(contents, 430, ScalarInteger(internal->dim_pre_icu_12));
  SET_VECTOR_ELT(contents, 431, ScalarInteger(internal->dim_pre_icu_2));
  SET_VECTOR_ELT(contents, 432, ScalarInteger(internal->dim_pre_icu_3));
  SET_VECTOR_ELT(contents, 433, ScalarInteger(internal->dim_prob_death_hosp));
  SET_VECTOR_ELT(contents, 434, ScalarInteger(internal->dim_prob_death_hosp_1));
  SET_VECTOR_ELT(contents, 435, ScalarInteger(internal->dim_prob_death_hosp_12));
  SET_VECTOR_ELT(contents, 436, ScalarInteger(internal->dim_prob_death_hosp_2));
  SET_VECTOR_ELT(contents, 437, ScalarInteger(internal->dim_prob_death_hosp_3));
  SET_VECTOR_ELT(contents, 438, ScalarInteger(internal->dim_prob_death_icu));
  SET_VECTOR_ELT(contents, 439, ScalarInteger(internal->dim_prob_death_icu_1));
  SET_VECTOR_ELT(contents, 440, ScalarInteger(internal->dim_prob_death_icu_12));
  SET_VECTOR_ELT(contents, 441, ScalarInteger(internal->dim_prob_death_icu_2));
  SET_VECTOR_ELT(contents, 442, ScalarInteger(internal->dim_prob_death_icu_3));
  SET_VECTOR_ELT(contents, 443, ScalarInteger(internal->dim_prob_death_non_hosp));
  SET_VECTOR_ELT(contents, 444, ScalarInteger(internal->dim_prob_death_non_hosp_1));
  SET_VECTOR_ELT(contents, 445, ScalarInteger(internal->dim_prob_death_non_hosp_12));
  SET_VECTOR_ELT(contents, 446, ScalarInteger(internal->dim_prob_death_non_hosp_2));
  SET_VECTOR_ELT(contents, 447, ScalarInteger(internal->dim_prob_death_non_hosp_3));
  SET_VECTOR_ELT(contents, 448, ScalarInteger(internal->dim_scale_spont));
  SET_VECTOR_ELT(contents, 449, ScalarInteger(internal->dim_scale_spont_1));
  SET_VECTOR_ELT(contents, 450, ScalarInteger(internal->dim_scale_spont_2));
  SET_VECTOR_ELT(contents, 451, ScalarInteger(internal->dim_spont_behav_change_params));
  SET_VECTOR_ELT(contents, 452, ScalarInteger(internal->dim_susceptibility_asymp));
  SET_VECTOR_ELT(contents, 453, ScalarInteger(internal->dim_susceptibility_asymp_1));
  SET_VECTOR_ELT(contents, 454, ScalarInteger(internal->dim_susceptibility_asymp_12));
  SET_VECTOR_ELT(contents, 455, ScalarInteger(internal->dim_susceptibility_asymp_2));
  SET_VECTOR_ELT(contents, 456, ScalarInteger(internal->dim_susceptibility_asymp_3));
  SET_VECTOR_ELT(contents, 457, ScalarInteger(internal->dim_susceptibility_symp));
  SET_VECTOR_ELT(contents, 458, ScalarInteger(internal->dim_susceptibility_symp_1));
  SET_VECTOR_ELT(contents, 459, ScalarInteger(internal->dim_susceptibility_symp_12));
  SET_VECTOR_ELT(contents, 460, ScalarInteger(internal->dim_susceptibility_symp_2));
  SET_VECTOR_ELT(contents, 461, ScalarInteger(internal->dim_susceptibility_symp_3));
  SET_VECTOR_ELT(contents, 462, ScalarInteger(internal->dim_symp_asymp_effect));
  SET_VECTOR_ELT(contents, 463, ScalarInteger(internal->dim_symp_asymp_effect_1));
  SET_VECTOR_ELT(contents, 464, ScalarInteger(internal->dim_symp_asymp_effect_12));
  SET_VECTOR_ELT(contents, 465, ScalarInteger(internal->dim_symp_asymp_effect_2));
  SET_VECTOR_ELT(contents, 466, ScalarInteger(internal->dim_symp_asymp_effect_3));
  SET_VECTOR_ELT(contents, 467, ScalarInteger(internal->dim_symp_trans));
  SET_VECTOR_ELT(contents, 468, ScalarInteger(internal->dim_symp_trans_1));
  SET_VECTOR_ELT(contents, 469, ScalarInteger(internal->dim_symp_trans_12));
  SET_VECTOR_ELT(contents, 470, ScalarInteger(internal->dim_symp_trans_2));
  SET_VECTOR_ELT(contents, 471, ScalarInteger(internal->dim_symp_trans_3));
  SET_VECTOR_ELT(contents, 472, ScalarInteger(internal->dim_sympt_frac));
  SET_VECTOR_ELT(contents, 473, ScalarInteger(internal->dim_sympt_frac_1));
  SET_VECTOR_ELT(contents, 474, ScalarInteger(internal->dim_sympt_frac_12));
  SET_VECTOR_ELT(contents, 475, ScalarInteger(internal->dim_sympt_frac_2));
  SET_VECTOR_ELT(contents, 476, ScalarInteger(internal->dim_sympt_frac_3));
  SET_VECTOR_ELT(contents, 477, ScalarInteger(internal->dim_tot_hosp));
  SET_VECTOR_ELT(contents, 478, ScalarInteger(internal->dim_tot_hosp_1));
  SET_VECTOR_ELT(contents, 479, ScalarInteger(internal->dim_tot_hosp_12));
  SET_VECTOR_ELT(contents, 480, ScalarInteger(internal->dim_tot_hosp_2));
  SET_VECTOR_ELT(contents, 481, ScalarInteger(internal->dim_tot_hosp_3));
  SET_VECTOR_ELT(contents, 482, ScalarInteger(internal->dim_tot_hosp_ini));
  SET_VECTOR_ELT(contents, 483, ScalarInteger(internal->dim_tot_hosp_ini_1));
  SET_VECTOR_ELT(contents, 484, ScalarInteger(internal->dim_tot_hosp_ini_12));
  SET_VECTOR_ELT(contents, 485, ScalarInteger(internal->dim_tot_hosp_ini_2));
  SET_VECTOR_ELT(contents, 486, ScalarInteger(internal->dim_tot_hosp_ini_3));
  SET_VECTOR_ELT(contents, 487, ScalarInteger(internal->dim_tot_infected));
  SET_VECTOR_ELT(contents, 488, ScalarInteger(internal->dim_tot_infected_1));
  SET_VECTOR_ELT(contents, 489, ScalarInteger(internal->dim_tot_infected_12));
  SET_VECTOR_ELT(contents, 490, ScalarInteger(internal->dim_tot_infected_2));
  SET_VECTOR_ELT(contents, 491, ScalarInteger(internal->dim_tot_infected_3));
  SET_VECTOR_ELT(contents, 492, ScalarInteger(internal->dim_tot_infected_ini));
  SET_VECTOR_ELT(contents, 493, ScalarInteger(internal->dim_tot_infected_ini_1));
  SET_VECTOR_ELT(contents, 494, ScalarInteger(internal->dim_tot_infected_ini_12));
  SET_VECTOR_ELT(contents, 495, ScalarInteger(internal->dim_tot_infected_ini_2));
  SET_VECTOR_ELT(contents, 496, ScalarInteger(internal->dim_tot_infected_ini_3));
  SET_VECTOR_ELT(contents, 497, ScalarInteger(internal->dim_tot_resp));
  SET_VECTOR_ELT(contents, 498, ScalarInteger(internal->dim_tot_resp_1));
  SET_VECTOR_ELT(contents, 499, ScalarInteger(internal->dim_tot_resp_12));
  SET_VECTOR_ELT(contents, 500, ScalarInteger(internal->dim_tot_resp_2));
  SET_VECTOR_ELT(contents, 501, ScalarInteger(internal->dim_tot_resp_3));
  SET_VECTOR_ELT(contents, 502, ScalarInteger(internal->dim_tot_resp_ini));
  SET_VECTOR_ELT(contents, 503, ScalarInteger(internal->dim_tot_resp_ini_1));
  SET_VECTOR_ELT(contents, 504, ScalarInteger(internal->dim_tot_resp_ini_12));
  SET_VECTOR_ELT(contents, 505, ScalarInteger(internal->dim_tot_resp_ini_2));
  SET_VECTOR_ELT(contents, 506, ScalarInteger(internal->dim_tot_resp_ini_3));
  SET_VECTOR_ELT(contents, 507, ScalarInteger(internal->dim_tot_vac));
  SET_VECTOR_ELT(contents, 508, ScalarInteger(internal->dim_tot_vac_1));
  SET_VECTOR_ELT(contents, 509, ScalarInteger(internal->dim_tot_vac_2));
  SET_VECTOR_ELT(contents, 510, ScalarInteger(internal->dim_tot_vac_adm));
  SET_VECTOR_ELT(contents, 511, ScalarInteger(internal->dim_tot_vac_adm_1));
  SET_VECTOR_ELT(contents, 512, ScalarInteger(internal->dim_tot_vac_adm_2));
  SET_VECTOR_ELT(contents, 513, ScalarInteger(internal->dim_tot_vac_adm_ini));
  SET_VECTOR_ELT(contents, 514, ScalarInteger(internal->dim_tot_vac_adm_ini_1));
  SET_VECTOR_ELT(contents, 515, ScalarInteger(internal->dim_tot_vac_adm_ini_2));
  SET_VECTOR_ELT(contents, 516, ScalarInteger(internal->dim_tot_vac_ini));
  SET_VECTOR_ELT(contents, 517, ScalarInteger(internal->dim_tot_vac_ini_1));
  SET_VECTOR_ELT(contents, 518, ScalarInteger(internal->dim_tot_vac_ini_2));
  SET_VECTOR_ELT(contents, 519, ScalarInteger(internal->dim_transmisibility));
  SET_VECTOR_ELT(contents, 520, ScalarInteger(internal->dim_transmisibility_1));
  SET_VECTOR_ELT(contents, 521, ScalarInteger(internal->dim_transmisibility_12));
  SET_VECTOR_ELT(contents, 522, ScalarInteger(internal->dim_transmisibility_2));
  SET_VECTOR_ELT(contents, 523, ScalarInteger(internal->dim_transmisibility_3));
  SET_VECTOR_ELT(contents, 524, ScalarInteger(internal->dim_vaccinations));
  SET_VECTOR_ELT(contents, 525, ScalarInteger(internal->dim_vaccinations_1));
  SET_VECTOR_ELT(contents, 526, ScalarInteger(internal->dim_vaccinations_12));
  SET_VECTOR_ELT(contents, 527, ScalarInteger(internal->dim_vaccinations_2));
  SET_VECTOR_ELT(contents, 528, ScalarInteger(internal->dim_vaccinations_3));
  SET_VECTOR_ELT(contents, 529, ScalarInteger(internal->dim_vax_time_step));
  SET_VECTOR_ELT(contents, 530, ScalarInteger(internal->dim_vax_time_step_1));
  SET_VECTOR_ELT(contents, 531, ScalarInteger(internal->dim_vax_time_step_2));
  SET_VECTOR_ELT(contents, 532, ScalarInteger(internal->dim_waning_immunity_vax));
  SET_VECTOR_ELT(contents, 533, ScalarInteger(internal->dim_waning_immunity_vax_1));
  SET_VECTOR_ELT(contents, 534, ScalarInteger(internal->dim_waning_immunity_vax_12));
  SET_VECTOR_ELT(contents, 535, ScalarInteger(internal->dim_waning_immunity_vax_2));
  SET_VECTOR_ELT(contents, 536, ScalarInteger(internal->dim_waning_immunity_vax_3));
  SET_VECTOR_ELT(contents, 537, ScalarInteger(internal->dim_waning_tmp));
  SET_VECTOR_ELT(contents, 538, ScalarInteger(internal->dim_waning_tmp_1));
  SET_VECTOR_ELT(contents, 539, ScalarInteger(internal->dim_waning_tmp_2));
  SEXP expected_health_loss = PROTECT(allocVector(REALSXP, internal->dim_expected_health_loss));
  memcpy(REAL(expected_health_loss), internal->expected_health_loss, internal->dim_expected_health_loss * sizeof(double));
  odin_set_dim(expected_health_loss, 2, internal->dim_expected_health_loss_1, internal->dim_expected_health_loss_2);
  SET_VECTOR_ELT(contents, 540, expected_health_loss);
  SEXP hosp_prob = PROTECT(allocVector(REALSXP, internal->dim_hosp_prob));
  memcpy(REAL(hosp_prob), internal->hosp_prob, internal->dim_hosp_prob * sizeof(double));
  odin_set_dim(hosp_prob, 3, internal->dim_hosp_prob_1, internal->dim_hosp_prob_2, internal->dim_hosp_prob_3);
  SET_VECTOR_ELT(contents, 541, hosp_prob);
  SEXP icu_prob = PROTECT(allocVector(REALSXP, internal->dim_icu_prob));
  memcpy(REAL(icu_prob), internal->icu_prob, internal->dim_icu_prob * sizeof(double));
  odin_set_dim(icu_prob, 3, internal->dim_icu_prob_1, internal->dim_icu_prob_2, internal->dim_icu_prob_3);
  SET_VECTOR_ELT(contents, 542, icu_prob);
  SEXP import_vec = PROTECT(allocVector(REALSXP, internal->dim_import_vec));
  memcpy(REAL(import_vec), internal->import_vec, internal->dim_import_vec * sizeof(double));
  odin_set_dim(import_vec, 4, internal->dim_import_vec_1, internal->dim_import_vec_2, internal->dim_import_vec_3, internal->dim_import_vec_4);
  SET_VECTOR_ELT(contents, 543, import_vec);
  SET_VECTOR_ELT(contents, 544, ScalarReal(internal->incidence_steps_measurement));
  SET_VECTOR_ELT(contents, 545, ScalarReal(internal->include_waning));
  SEXP index = PROTECT(allocVector(REALSXP, internal->dim_index));
  memcpy(REAL(index), internal->index, internal->dim_index * sizeof(double));
  SET_VECTOR_ELT(contents, 546, index);
  SET_VECTOR_ELT(contents, 547, ScalarReal(internal->infectious_period));
  SEXP initial_A = PROTECT(allocVector(REALSXP, internal->dim_A));
  memcpy(REAL(initial_A), internal->initial_A, internal->dim_A * sizeof(double));
  odin_set_dim(initial_A, 3, internal->dim_A_1, internal->dim_A_2, internal->dim_A_3);
  SET_VECTOR_ELT(contents, 548, initial_A);
  SEXP initial_B_D = PROTECT(allocVector(REALSXP, internal->dim_B_D));
  memcpy(REAL(initial_B_D), internal->initial_B_D, internal->dim_B_D * sizeof(double));
  odin_set_dim(initial_B_D, 3, internal->dim_B_D_1, internal->dim_B_D_2, internal->dim_B_D_3);
  SET_VECTOR_ELT(contents, 549, initial_B_D);
  SEXP initial_B_D_H = PROTECT(allocVector(REALSXP, internal->dim_B_D_H));
  memcpy(REAL(initial_B_D_H), internal->initial_B_D_H, internal->dim_B_D_H * sizeof(double));
  odin_set_dim(initial_B_D_H, 3, internal->dim_B_D_H_1, internal->dim_B_D_H_2, internal->dim_B_D_H_3);
  SET_VECTOR_ELT(contents, 550, initial_B_D_H);
  SEXP initial_B_D_ICU = PROTECT(allocVector(REALSXP, internal->dim_B_D_ICU));
  memcpy(REAL(initial_B_D_ICU), internal->initial_B_D_ICU, internal->dim_B_D_ICU * sizeof(double));
  odin_set_dim(initial_B_D_ICU, 3, internal->dim_B_D_ICU_1, internal->dim_B_D_ICU_2, internal->dim_B_D_ICU_3);
  SET_VECTOR_ELT(contents, 551, initial_B_D_ICU);
  SEXP initial_D = PROTECT(allocVector(REALSXP, internal->dim_D));
  memcpy(REAL(initial_D), internal->initial_D, internal->dim_D * sizeof(double));
  odin_set_dim(initial_D, 3, internal->dim_D_1, internal->dim_D_2, internal->dim_D_3);
  SET_VECTOR_ELT(contents, 552, initial_D);
  SEXP initial_Ea = PROTECT(allocVector(REALSXP, internal->dim_Ea));
  memcpy(REAL(initial_Ea), internal->initial_Ea, internal->dim_Ea * sizeof(double));
  odin_set_dim(initial_Ea, 3, internal->dim_Ea_1, internal->dim_Ea_2, internal->dim_Ea_3);
  SET_VECTOR_ELT(contents, 553, initial_Ea);
  SEXP initial_Es = PROTECT(allocVector(REALSXP, internal->dim_Es));
  memcpy(REAL(initial_Es), internal->initial_Es, internal->dim_Es * sizeof(double));
  odin_set_dim(initial_Es, 3, internal->dim_Es_1, internal->dim_Es_2, internal->dim_Es_3);
  SET_VECTOR_ELT(contents, 554, initial_Es);
  SEXP initial_H = PROTECT(allocVector(REALSXP, internal->dim_H));
  memcpy(REAL(initial_H), internal->initial_H, internal->dim_H * sizeof(double));
  odin_set_dim(initial_H, 3, internal->dim_H_1, internal->dim_H_2, internal->dim_H_3);
  SET_VECTOR_ELT(contents, 555, initial_H);
  SEXP initial_I = PROTECT(allocVector(REALSXP, internal->dim_I));
  memcpy(REAL(initial_I), internal->initial_I, internal->dim_I * sizeof(double));
  odin_set_dim(initial_I, 3, internal->dim_I_1, internal->dim_I_2, internal->dim_I_3);
  SET_VECTOR_ELT(contents, 556, initial_I);
  SEXP initial_ICU_H = PROTECT(allocVector(REALSXP, internal->dim_ICU_H));
  memcpy(REAL(initial_ICU_H), internal->initial_ICU_H, internal->dim_ICU_H * sizeof(double));
  odin_set_dim(initial_ICU_H, 3, internal->dim_ICU_H_1, internal->dim_ICU_H_2, internal->dim_ICU_H_3);
  SET_VECTOR_ELT(contents, 557, initial_ICU_H);
  SEXP initial_ICU_P = PROTECT(allocVector(REALSXP, internal->dim_ICU_P));
  memcpy(REAL(initial_ICU_P), internal->initial_ICU_P, internal->dim_ICU_P * sizeof(double));
  odin_set_dim(initial_ICU_P, 3, internal->dim_ICU_P_1, internal->dim_ICU_P_2, internal->dim_ICU_P_3);
  SET_VECTOR_ELT(contents, 558, initial_ICU_P);
  SEXP initial_ICU_R = PROTECT(allocVector(REALSXP, internal->dim_ICU_R));
  memcpy(REAL(initial_ICU_R), internal->initial_ICU_R, internal->dim_ICU_R * sizeof(double));
  odin_set_dim(initial_ICU_R, 3, internal->dim_ICU_R_1, internal->dim_ICU_R_2, internal->dim_ICU_R_3);
  SET_VECTOR_ELT(contents, 559, initial_ICU_R);
  SEXP initial_P = PROTECT(allocVector(REALSXP, internal->dim_P));
  memcpy(REAL(initial_P), internal->initial_P, internal->dim_P * sizeof(double));
  odin_set_dim(initial_P, 3, internal->dim_P_1, internal->dim_P_2, internal->dim_P_3);
  SET_VECTOR_ELT(contents, 560, initial_P);
  SEXP initial_R = PROTECT(allocVector(REALSXP, internal->dim_R));
  memcpy(REAL(initial_R), internal->initial_R, internal->dim_R * sizeof(double));
  odin_set_dim(initial_R, 3, internal->dim_R_1, internal->dim_R_2, internal->dim_R_3);
  SET_VECTOR_ELT(contents, 561, initial_R);
  SEXP initial_S = PROTECT(allocVector(REALSXP, internal->dim_S));
  memcpy(REAL(initial_S), internal->initial_S, internal->dim_S * sizeof(double));
  odin_set_dim(initial_S, 2, internal->dim_S_1, internal->dim_S_2);
  SET_VECTOR_ELT(contents, 562, initial_S);
  SEXP initial_scale_spont = PROTECT(allocVector(REALSXP, internal->dim_scale_spont));
  memcpy(REAL(initial_scale_spont), internal->initial_scale_spont, internal->dim_scale_spont * sizeof(double));
  odin_set_dim(initial_scale_spont, 2, internal->dim_scale_spont_1, internal->dim_scale_spont_2);
  SET_VECTOR_ELT(contents, 563, initial_scale_spont);
  SEXP initial_tot_hosp = PROTECT(allocVector(REALSXP, internal->dim_tot_hosp));
  memcpy(REAL(initial_tot_hosp), internal->initial_tot_hosp, internal->dim_tot_hosp * sizeof(double));
  odin_set_dim(initial_tot_hosp, 3, internal->dim_tot_hosp_1, internal->dim_tot_hosp_2, internal->dim_tot_hosp_3);
  SET_VECTOR_ELT(contents, 564, initial_tot_hosp);
  SET_VECTOR_ELT(contents, 565, ScalarReal(internal->initial_tot_hosp_inc));
  SEXP initial_tot_infected = PROTECT(allocVector(REALSXP, internal->dim_tot_infected));
  memcpy(REAL(initial_tot_infected), internal->initial_tot_infected, internal->dim_tot_infected * sizeof(double));
  odin_set_dim(initial_tot_infected, 3, internal->dim_tot_infected_1, internal->dim_tot_infected_2, internal->dim_tot_infected_3);
  SET_VECTOR_ELT(contents, 566, initial_tot_infected);
  SEXP initial_tot_resp = PROTECT(allocVector(REALSXP, internal->dim_tot_resp));
  memcpy(REAL(initial_tot_resp), internal->initial_tot_resp, internal->dim_tot_resp * sizeof(double));
  odin_set_dim(initial_tot_resp, 3, internal->dim_tot_resp_1, internal->dim_tot_resp_2, internal->dim_tot_resp_3);
  SET_VECTOR_ELT(contents, 567, initial_tot_resp);
  SEXP initial_tot_vac = PROTECT(allocVector(REALSXP, internal->dim_tot_vac));
  memcpy(REAL(initial_tot_vac), internal->initial_tot_vac, internal->dim_tot_vac * sizeof(double));
  odin_set_dim(initial_tot_vac, 2, internal->dim_tot_vac_1, internal->dim_tot_vac_2);
  SET_VECTOR_ELT(contents, 568, initial_tot_vac);
  SEXP initial_tot_vac_adm = PROTECT(allocVector(REALSXP, internal->dim_tot_vac_adm));
  memcpy(REAL(initial_tot_vac_adm), internal->initial_tot_vac_adm, internal->dim_tot_vac_adm * sizeof(double));
  odin_set_dim(initial_tot_vac_adm, 2, internal->dim_tot_vac_adm_1, internal->dim_tot_vac_adm_2);
  SET_VECTOR_ELT(contents, 569, initial_tot_vac_adm);
  SEXP interpolation_time = PROTECT(allocVector(REALSXP, internal->dim_interpolation_time));
  memcpy(REAL(interpolation_time), internal->interpolation_time, internal->dim_interpolation_time * sizeof(double));
  SET_VECTOR_ELT(contents, 573, interpolation_time);
  SEXP kernel = PROTECT(allocVector(REALSXP, internal->dim_kernel));
  memcpy(REAL(kernel), internal->kernel, internal->dim_kernel * sizeof(double));
  odin_set_dim(kernel, 2, internal->dim_kernel_1, internal->dim_kernel_2);
  SET_VECTOR_ELT(contents, 574, kernel);
  SEXP lambda_ij = PROTECT(allocVector(REALSXP, internal->dim_lambda_ij));
  memcpy(REAL(lambda_ij), internal->lambda_ij, internal->dim_lambda_ij * sizeof(double));
  odin_set_dim(lambda_ij, 5, internal->dim_lambda_ij_1, internal->dim_lambda_ij_2, internal->dim_lambda_ij_3, internal->dim_lambda_ij_4, internal->dim_lambda_ij_5);
  SET_VECTOR_ELT(contents, 575, lambda_ij);
  SET_VECTOR_ELT(contents, 576, ScalarReal(internal->latent_period));
  SEXP length_hosp = PROTECT(allocVector(REALSXP, internal->dim_length_hosp));
  memcpy(REAL(length_hosp), internal->length_hosp, internal->dim_length_hosp * sizeof(double));
  odin_set_dim(length_hosp, 3, internal->dim_length_hosp_1, internal->dim_length_hosp_2, internal->dim_length_hosp_3);
  SET_VECTOR_ELT(contents, 577, length_hosp);
  SEXP length_icu = PROTECT(allocVector(REALSXP, internal->dim_length_icu));
  memcpy(REAL(length_icu), internal->length_icu, internal->dim_length_icu * sizeof(double));
  odin_set_dim(length_icu, 3, internal->dim_length_icu_1, internal->dim_length_icu_2, internal->dim_length_icu_3);
  SET_VECTOR_ELT(contents, 578, length_icu);
  SET_VECTOR_ELT(contents, 579, ScalarReal(internal->log_beta_ini));
  SEXP mixing_matrix = PROTECT(allocVector(REALSXP, internal->dim_mixing_matrix));
  memcpy(REAL(mixing_matrix), internal->mixing_matrix, internal->dim_mixing_matrix * sizeof(double));
  odin_set_dim(mixing_matrix, 2, internal->dim_mixing_matrix_1, internal->dim_mixing_matrix_2);
  SET_VECTOR_ELT(contents, 580, mixing_matrix);
  SET_VECTOR_ELT(contents, 581, ScalarInteger(internal->n));
  SEXP n_AR = PROTECT(allocVector(REALSXP, internal->dim_n_AR));
  memcpy(REAL(n_AR), internal->n_AR, internal->dim_n_AR * sizeof(double));
  odin_set_dim(n_AR, 3, internal->dim_n_AR_1, internal->dim_n_AR_2, internal->dim_n_AR_3);
  SET_VECTOR_ELT(contents, 582, n_AR);
  SEXP n_B_D_D = PROTECT(allocVector(REALSXP, internal->dim_n_B_D_D));
  memcpy(REAL(n_B_D_D), internal->n_B_D_D, internal->dim_n_B_D_D * sizeof(double));
  odin_set_dim(n_B_D_D, 3, internal->dim_n_B_D_D_1, internal->dim_n_B_D_D_2, internal->dim_n_B_D_D_3);
  SET_VECTOR_ELT(contents, 583, n_B_D_D);
  SEXP n_B_H_D = PROTECT(allocVector(REALSXP, internal->dim_n_B_H_D));
  memcpy(REAL(n_B_H_D), internal->n_B_H_D, internal->dim_n_B_H_D * sizeof(double));
  odin_set_dim(n_B_H_D, 3, internal->dim_n_B_H_D_1, internal->dim_n_B_H_D_2, internal->dim_n_B_H_D_3);
  SET_VECTOR_ELT(contents, 584, n_B_H_D);
  SEXP n_B_ICU_D = PROTECT(allocVector(REALSXP, internal->dim_n_B_ICU_D));
  memcpy(REAL(n_B_ICU_D), internal->n_B_ICU_D, internal->dim_n_B_ICU_D * sizeof(double));
  odin_set_dim(n_B_ICU_D, 3, internal->dim_n_B_ICU_D_1, internal->dim_n_B_ICU_D_2, internal->dim_n_B_ICU_D_3);
  SET_VECTOR_ELT(contents, 585, n_B_ICU_D);
  SEXP n_EaA = PROTECT(allocVector(REALSXP, internal->dim_n_EaA));
  memcpy(REAL(n_EaA), internal->n_EaA, internal->dim_n_EaA * sizeof(double));
  odin_set_dim(n_EaA, 3, internal->dim_n_EaA_1, internal->dim_n_EaA_2, internal->dim_n_EaA_3);
  SET_VECTOR_ELT(contents, 586, n_EaA);
  SEXP n_EsI = PROTECT(allocVector(REALSXP, internal->dim_n_EsI));
  memcpy(REAL(n_EsI), internal->n_EsI, internal->dim_n_EsI * sizeof(double));
  odin_set_dim(n_EsI, 3, internal->dim_n_EsI_1, internal->dim_n_EsI_2, internal->dim_n_EsI_3);
  SET_VECTOR_ELT(contents, 587, n_EsI);
  SEXP n_H = PROTECT(allocVector(REALSXP, internal->dim_n_H));
  memcpy(REAL(n_H), internal->n_H, internal->dim_n_H * sizeof(double));
  odin_set_dim(n_H, 3, internal->dim_n_H_1, internal->dim_n_H_2, internal->dim_n_H_3);
  SET_VECTOR_ELT(contents, 588, n_H);
  SEXP n_HD = PROTECT(allocVector(REALSXP, internal->dim_n_HD));
  memcpy(REAL(n_HD), internal->n_HD, internal->dim_n_HD * sizeof(double));
  odin_set_dim(n_HD, 3, internal->dim_n_HD_1, internal->dim_n_HD_2, internal->dim_n_HD_3);
  SET_VECTOR_ELT(contents, 589, n_HD);
  SEXP n_HR = PROTECT(allocVector(REALSXP, internal->dim_n_HR));
  memcpy(REAL(n_HR), internal->n_HR, internal->dim_n_HR * sizeof(double));
  odin_set_dim(n_HR, 3, internal->dim_n_HR_1, internal->dim_n_HR_2, internal->dim_n_HR_3);
  SET_VECTOR_ELT(contents, 590, n_HR);
  SEXP n_I = PROTECT(allocVector(REALSXP, internal->dim_n_I));
  memcpy(REAL(n_I), internal->n_I, internal->dim_n_I * sizeof(double));
  odin_set_dim(n_I, 3, internal->dim_n_I_1, internal->dim_n_I_2, internal->dim_n_I_3);
  SET_VECTOR_ELT(contents, 591, n_I);
  SEXP n_ICU_D = PROTECT(allocVector(REALSXP, internal->dim_n_ICU_D));
  memcpy(REAL(n_ICU_D), internal->n_ICU_D, internal->dim_n_ICU_D * sizeof(double));
  odin_set_dim(n_ICU_D, 3, internal->dim_n_ICU_D_1, internal->dim_n_ICU_D_2, internal->dim_n_ICU_D_3);
  SET_VECTOR_ELT(contents, 592, n_ICU_D);
  SEXP n_ICU_HR = PROTECT(allocVector(REALSXP, internal->dim_n_ICU_HR));
  memcpy(REAL(n_ICU_HR), internal->n_ICU_HR, internal->dim_n_ICU_HR * sizeof(double));
  odin_set_dim(n_ICU_HR, 3, internal->dim_n_ICU_HR_1, internal->dim_n_ICU_HR_2, internal->dim_n_ICU_HR_3);
  SET_VECTOR_ELT(contents, 593, n_ICU_HR);
  SEXP n_ICU_P = PROTECT(allocVector(REALSXP, internal->dim_n_ICU_P));
  memcpy(REAL(n_ICU_P), internal->n_ICU_P, internal->dim_n_ICU_P * sizeof(double));
  odin_set_dim(n_ICU_P, 3, internal->dim_n_ICU_P_1, internal->dim_n_ICU_P_2, internal->dim_n_ICU_P_3);
  SET_VECTOR_ELT(contents, 594, n_ICU_P);
  SEXP n_ICU_R = PROTECT(allocVector(REALSXP, internal->dim_n_ICU_R));
  memcpy(REAL(n_ICU_R), internal->n_ICU_R, internal->dim_n_ICU_R * sizeof(double));
  odin_set_dim(n_ICU_R, 3, internal->dim_n_ICU_R_1, internal->dim_n_ICU_R_2, internal->dim_n_ICU_R_3);
  SET_VECTOR_ELT(contents, 595, n_ICU_R);
  SEXP n_ICU_RP = PROTECT(allocVector(REALSXP, internal->dim_n_ICU_RP));
  memcpy(REAL(n_ICU_RP), internal->n_ICU_RP, internal->dim_n_ICU_RP * sizeof(double));
  odin_set_dim(n_ICU_RP, 3, internal->dim_n_ICU_RP_1, internal->dim_n_ICU_RP_2, internal->dim_n_ICU_RP_3);
  SET_VECTOR_ELT(contents, 596, n_ICU_RP);
  SEXP n_ID = PROTECT(allocVector(REALSXP, internal->dim_n_ID));
  memcpy(REAL(n_ID), internal->n_ID, internal->dim_n_ID * sizeof(double));
  odin_set_dim(n_ID, 3, internal->dim_n_ID_1, internal->dim_n_ID_2, internal->dim_n_ID_3);
  SET_VECTOR_ELT(contents, 597, n_ID);
  SEXP n_IH = PROTECT(allocVector(REALSXP, internal->dim_n_IH));
  memcpy(REAL(n_IH), internal->n_IH, internal->dim_n_IH * sizeof(double));
  odin_set_dim(n_IH, 3, internal->dim_n_IH_1, internal->dim_n_IH_2, internal->dim_n_IH_3);
  SET_VECTOR_ELT(contents, 598, n_IH);
  SEXP n_IICU = PROTECT(allocVector(REALSXP, internal->dim_n_IICU));
  memcpy(REAL(n_IICU), internal->n_IICU, internal->dim_n_IICU * sizeof(double));
  odin_set_dim(n_IICU, 3, internal->dim_n_IICU_1, internal->dim_n_IICU_2, internal->dim_n_IICU_3);
  SET_VECTOR_ELT(contents, 599, n_IICU);
  SEXP n_IR = PROTECT(allocVector(REALSXP, internal->dim_n_IR));
  memcpy(REAL(n_IR), internal->n_IR, internal->dim_n_IR * sizeof(double));
  odin_set_dim(n_IR, 3, internal->dim_n_IR_1, internal->dim_n_IR_2, internal->dim_n_IR_3);
  SET_VECTOR_ELT(contents, 600, n_IR);
  SEXP n_PI = PROTECT(allocVector(REALSXP, internal->dim_n_PI));
  memcpy(REAL(n_PI), internal->n_PI, internal->dim_n_PI * sizeof(double));
  odin_set_dim(n_PI, 3, internal->dim_n_PI_1, internal->dim_n_PI_2, internal->dim_n_PI_3);
  SET_VECTOR_ELT(contents, 601, n_PI);
  SEXP n_RS = PROTECT(allocVector(REALSXP, internal->dim_n_RS));
  memcpy(REAL(n_RS), internal->n_RS, internal->dim_n_RS * sizeof(double));
  odin_set_dim(n_RS, 3, internal->dim_n_RS_1, internal->dim_n_RS_2, internal->dim_n_RS_3);
  SET_VECTOR_ELT(contents, 602, n_RS);
  SEXP n_SE = PROTECT(allocVector(REALSXP, internal->dim_n_SE));
  memcpy(REAL(n_SE), internal->n_SE, internal->dim_n_SE * sizeof(double));
  odin_set_dim(n_SE, 3, internal->dim_n_SE_1, internal->dim_n_SE_2, internal->dim_n_SE_3);
  SET_VECTOR_ELT(contents, 603, n_SE);
  SEXP n_SE_tot = PROTECT(allocVector(REALSXP, internal->dim_n_SE_tot));
  memcpy(REAL(n_SE_tot), internal->n_SE_tot, internal->dim_n_SE_tot * sizeof(double));
  odin_set_dim(n_SE_tot, 2, internal->dim_n_SE_tot_1, internal->dim_n_SE_tot_2);
  SET_VECTOR_ELT(contents, 604, n_SE_tot);
  SEXP n_SEa = PROTECT(allocVector(REALSXP, internal->dim_n_SEa));
  memcpy(REAL(n_SEa), internal->n_SEa, internal->dim_n_SEa * sizeof(double));
  odin_set_dim(n_SEa, 3, internal->dim_n_SEa_1, internal->dim_n_SEa_2, internal->dim_n_SEa_3);
  SET_VECTOR_ELT(contents, 605, n_SEa);
  SEXP n_SEi = PROTECT(allocVector(REALSXP, internal->dim_n_SEi));
  memcpy(REAL(n_SEi), internal->n_SEi, internal->dim_n_SEi * sizeof(double));
  odin_set_dim(n_SEi, 3, internal->dim_n_SEi_1, internal->dim_n_SEi_2, internal->dim_n_SEi_3);
  SET_VECTOR_ELT(contents, 606, n_SEi);
  SET_VECTOR_ELT(contents, 607, ScalarInteger(internal->n_strain));
  SET_VECTOR_ELT(contents, 608, ScalarInteger(internal->n_vac));
  SEXP n_vac_help = PROTECT(allocVector(REALSXP, internal->dim_n_vac_help));
  memcpy(REAL(n_vac_help), internal->n_vac_help, internal->dim_n_vac_help * sizeof(double));
  odin_set_dim(n_vac_help, 2, internal->dim_n_vac_help_1, internal->dim_n_vac_help_2);
  SET_VECTOR_ELT(contents, 609, n_vac_help);
  SEXP n_vac_now = PROTECT(allocVector(REALSXP, internal->dim_n_vac_now));
  memcpy(REAL(n_vac_now), internal->n_vac_now, internal->dim_n_vac_now * sizeof(double));
  odin_set_dim(n_vac_now, 2, internal->dim_n_vac_now_1, internal->dim_n_vac_now_2);
  SET_VECTOR_ELT(contents, 610, n_vac_now);
  SEXP new_infs = PROTECT(allocVector(REALSXP, internal->dim_new_infs));
  memcpy(REAL(new_infs), internal->new_infs, internal->dim_new_infs * sizeof(double));
  odin_set_dim(new_infs, 3, internal->dim_new_infs_1, internal->dim_new_infs_2, internal->dim_new_infs_3);
  SET_VECTOR_ELT(contents, 611, new_infs);
  SET_VECTOR_ELT(contents, 612, ScalarInteger(internal->offset_output_N));
  SET_VECTOR_ELT(contents, 613, ScalarInteger(internal->offset_output_beta));
  SET_VECTOR_ELT(contents, 614, ScalarInteger(internal->offset_output_beta_spont_behaviour));
  SET_VECTOR_ELT(contents, 615, ScalarInteger(internal->offset_variable_A));
  SET_VECTOR_ELT(contents, 616, ScalarInteger(internal->offset_variable_B_D));
  SET_VECTOR_ELT(contents, 617, ScalarInteger(internal->offset_variable_B_D_H));
  SET_VECTOR_ELT(contents, 618, ScalarInteger(internal->offset_variable_B_D_ICU));
  SET_VECTOR_ELT(contents, 619, ScalarInteger(internal->offset_variable_D));
  SET_VECTOR_ELT(contents, 620, ScalarInteger(internal->offset_variable_Ea));
  SET_VECTOR_ELT(contents, 621, ScalarInteger(internal->offset_variable_Es));
  SET_VECTOR_ELT(contents, 622, ScalarInteger(internal->offset_variable_H));
  SET_VECTOR_ELT(contents, 623, ScalarInteger(internal->offset_variable_I));
  SET_VECTOR_ELT(contents, 624, ScalarInteger(internal->offset_variable_ICU_H));
  SET_VECTOR_ELT(contents, 625, ScalarInteger(internal->offset_variable_ICU_P));
  SET_VECTOR_ELT(contents, 626, ScalarInteger(internal->offset_variable_ICU_R));
  SET_VECTOR_ELT(contents, 627, ScalarInteger(internal->offset_variable_P));
  SET_VECTOR_ELT(contents, 628, ScalarInteger(internal->offset_variable_R));
  SET_VECTOR_ELT(contents, 629, ScalarInteger(internal->offset_variable_S));
  SET_VECTOR_ELT(contents, 630, ScalarInteger(internal->offset_variable_tot_hosp));
  SET_VECTOR_ELT(contents, 631, ScalarInteger(internal->offset_variable_tot_infected));
  SET_VECTOR_ELT(contents, 632, ScalarInteger(internal->offset_variable_tot_resp));
  SET_VECTOR_ELT(contents, 633, ScalarInteger(internal->offset_variable_tot_vac));
  SET_VECTOR_ELT(contents, 634, ScalarInteger(internal->offset_variable_tot_vac_adm));
  SEXP p_SE = PROTECT(allocVector(REALSXP, internal->dim_p_SE));
  memcpy(REAL(p_SE), internal->p_SE, internal->dim_p_SE * sizeof(double));
  odin_set_dim(p_SE, 3, internal->dim_p_SE_1, internal->dim_p_SE_2, internal->dim_p_SE_3);
  SET_VECTOR_ELT(contents, 635, p_SE);
  SEXP pa = PROTECT(allocVector(REALSXP, internal->dim_pa));
  memcpy(REAL(pa), internal->pa, internal->dim_pa * sizeof(double));
  odin_set_dim(pa, 3, internal->dim_pa_1, internal->dim_pa_2, internal->dim_pa_3);
  SET_VECTOR_ELT(contents, 636, pa);
  SEXP post_icu = PROTECT(allocVector(REALSXP, internal->dim_post_icu));
  memcpy(REAL(post_icu), internal->post_icu, internal->dim_post_icu * sizeof(double));
  odin_set_dim(post_icu, 3, internal->dim_post_icu_1, internal->dim_post_icu_2, internal->dim_post_icu_3);
  SET_VECTOR_ELT(contents, 637, post_icu);
  SEXP pre_icu = PROTECT(allocVector(REALSXP, internal->dim_pre_icu));
  memcpy(REAL(pre_icu), internal->pre_icu, internal->dim_pre_icu * sizeof(double));
  odin_set_dim(pre_icu, 3, internal->dim_pre_icu_1, internal->dim_pre_icu_2, internal->dim_pre_icu_3);
  SET_VECTOR_ELT(contents, 638, pre_icu);
  SET_VECTOR_ELT(contents, 639, ScalarReal(internal->pre_sympt_infect));
  SET_VECTOR_ELT(contents, 640, ScalarReal(internal->pre_sympt_period));
  SEXP prob_death_hosp = PROTECT(allocVector(REALSXP, internal->dim_prob_death_hosp));
  memcpy(REAL(prob_death_hosp), internal->prob_death_hosp, internal->dim_prob_death_hosp * sizeof(double));
  odin_set_dim(prob_death_hosp, 3, internal->dim_prob_death_hosp_1, internal->dim_prob_death_hosp_2, internal->dim_prob_death_hosp_3);
  SET_VECTOR_ELT(contents, 641, prob_death_hosp);
  SEXP prob_death_icu = PROTECT(allocVector(REALSXP, internal->dim_prob_death_icu));
  memcpy(REAL(prob_death_icu), internal->prob_death_icu, internal->dim_prob_death_icu * sizeof(double));
  odin_set_dim(prob_death_icu, 3, internal->dim_prob_death_icu_1, internal->dim_prob_death_icu_2, internal->dim_prob_death_icu_3);
  SET_VECTOR_ELT(contents, 642, prob_death_icu);
  SEXP prob_death_non_hosp = PROTECT(allocVector(REALSXP, internal->dim_prob_death_non_hosp));
  memcpy(REAL(prob_death_non_hosp), internal->prob_death_non_hosp, internal->dim_prob_death_non_hosp * sizeof(double));
  odin_set_dim(prob_death_non_hosp, 3, internal->dim_prob_death_non_hosp_1, internal->dim_prob_death_non_hosp_2, internal->dim_prob_death_non_hosp_3);
  SET_VECTOR_ELT(contents, 643, prob_death_non_hosp);
  SET_VECTOR_ELT(contents, 644, ScalarReal(internal->rand_beta_days));
  SEXP spont_behav_change_params = PROTECT(allocVector(REALSXP, internal->dim_spont_behav_change_params));
  memcpy(REAL(spont_behav_change_params), internal->spont_behav_change_params, internal->dim_spont_behav_change_params * sizeof(double));
  SET_VECTOR_ELT(contents, 645, spont_behav_change_params);
  SET_VECTOR_ELT(contents, 646, ScalarReal(internal->spont_behav_mode));
  SEXP susceptibility_asymp = PROTECT(allocVector(REALSXP, internal->dim_susceptibility_asymp));
  memcpy(REAL(susceptibility_asymp), internal->susceptibility_asymp, internal->dim_susceptibility_asymp * sizeof(double));
  odin_set_dim(susceptibility_asymp, 3, internal->dim_susceptibility_asymp_1, internal->dim_susceptibility_asymp_2, internal->dim_susceptibility_asymp_3);
  SET_VECTOR_ELT(contents, 647, susceptibility_asymp);
  SEXP susceptibility_symp = PROTECT(allocVector(REALSXP, internal->dim_susceptibility_symp));
  memcpy(REAL(susceptibility_symp), internal->susceptibility_symp, internal->dim_susceptibility_symp * sizeof(double));
  odin_set_dim(susceptibility_symp, 3, internal->dim_susceptibility_symp_1, internal->dim_susceptibility_symp_2, internal->dim_susceptibility_symp_3);
  SET_VECTOR_ELT(contents, 648, susceptibility_symp);
  SEXP symp_asymp_effect = PROTECT(allocVector(REALSXP, internal->dim_symp_asymp_effect));
  memcpy(REAL(symp_asymp_effect), internal->symp_asymp_effect, internal->dim_symp_asymp_effect * sizeof(double));
  odin_set_dim(symp_asymp_effect, 3, internal->dim_symp_asymp_effect_1, internal->dim_symp_asymp_effect_2, internal->dim_symp_asymp_effect_3);
  SET_VECTOR_ELT(contents, 649, symp_asymp_effect);
  SEXP symp_trans = PROTECT(allocVector(REALSXP, internal->dim_symp_trans));
  memcpy(REAL(symp_trans), internal->symp_trans, internal->dim_symp_trans * sizeof(double));
  odin_set_dim(symp_trans, 3, internal->dim_symp_trans_1, internal->dim_symp_trans_2, internal->dim_symp_trans_3);
  SET_VECTOR_ELT(contents, 650, symp_trans);
  SEXP sympt_frac = PROTECT(allocVector(REALSXP, internal->dim_sympt_frac));
  memcpy(REAL(sympt_frac), internal->sympt_frac, internal->dim_sympt_frac * sizeof(double));
  odin_set_dim(sympt_frac, 3, internal->dim_sympt_frac_1, internal->dim_sympt_frac_2, internal->dim_sympt_frac_3);
  SET_VECTOR_ELT(contents, 651, sympt_frac);
  SET_VECTOR_ELT(contents, 652, ScalarReal(internal->threshold_ini));
  SET_VECTOR_ELT(contents, 653, ScalarReal(internal->threshold_max));
  SET_VECTOR_ELT(contents, 654, ScalarReal(internal->threshold_min));
  SET_VECTOR_ELT(contents, 655, ScalarReal(internal->time_before_death));
  SET_VECTOR_ELT(contents, 656, ScalarReal(internal->time_before_death_hosp));
  SET_VECTOR_ELT(contents, 657, ScalarReal(internal->time_before_death_icu));
  SEXP tot_hosp_ini = PROTECT(allocVector(REALSXP, internal->dim_tot_hosp_ini));
  memcpy(REAL(tot_hosp_ini), internal->tot_hosp_ini, internal->dim_tot_hosp_ini * sizeof(double));
  odin_set_dim(tot_hosp_ini, 3, internal->dim_tot_hosp_ini_1, internal->dim_tot_hosp_ini_2, internal->dim_tot_hosp_ini_3);
  SET_VECTOR_ELT(contents, 658, tot_hosp_ini);
  SEXP tot_infected_ini = PROTECT(allocVector(REALSXP, internal->dim_tot_infected_ini));
  memcpy(REAL(tot_infected_ini), internal->tot_infected_ini, internal->dim_tot_infected_ini * sizeof(double));
  odin_set_dim(tot_infected_ini, 3, internal->dim_tot_infected_ini_1, internal->dim_tot_infected_ini_2, internal->dim_tot_infected_ini_3);
  SET_VECTOR_ELT(contents, 659, tot_infected_ini);
  SEXP tot_resp_ini = PROTECT(allocVector(REALSXP, internal->dim_tot_resp_ini));
  memcpy(REAL(tot_resp_ini), internal->tot_resp_ini, internal->dim_tot_resp_ini * sizeof(double));
  odin_set_dim(tot_resp_ini, 3, internal->dim_tot_resp_ini_1, internal->dim_tot_resp_ini_2, internal->dim_tot_resp_ini_3);
  SET_VECTOR_ELT(contents, 660, tot_resp_ini);
  SEXP tot_vac_adm_ini = PROTECT(allocVector(REALSXP, internal->dim_tot_vac_adm_ini));
  memcpy(REAL(tot_vac_adm_ini), internal->tot_vac_adm_ini, internal->dim_tot_vac_adm_ini * sizeof(double));
  odin_set_dim(tot_vac_adm_ini, 2, internal->dim_tot_vac_adm_ini_1, internal->dim_tot_vac_adm_ini_2);
  SET_VECTOR_ELT(contents, 661, tot_vac_adm_ini);
  SEXP tot_vac_ini = PROTECT(allocVector(REALSXP, internal->dim_tot_vac_ini));
  memcpy(REAL(tot_vac_ini), internal->tot_vac_ini, internal->dim_tot_vac_ini * sizeof(double));
  odin_set_dim(tot_vac_ini, 2, internal->dim_tot_vac_ini_1, internal->dim_tot_vac_ini_2);
  SET_VECTOR_ELT(contents, 662, tot_vac_ini);
  SEXP transmisibility = PROTECT(allocVector(REALSXP, internal->dim_transmisibility));
  memcpy(REAL(transmisibility), internal->transmisibility, internal->dim_transmisibility * sizeof(double));
  odin_set_dim(transmisibility, 3, internal->dim_transmisibility_1, internal->dim_transmisibility_2, internal->dim_transmisibility_3);
  SET_VECTOR_ELT(contents, 663, transmisibility);
  SET_VECTOR_ELT(contents, 664, ScalarReal(internal->vac_struct_length));
  SEXP vaccinations = PROTECT(allocVector(REALSXP, internal->dim_vaccinations));
  memcpy(REAL(vaccinations), internal->vaccinations, internal->dim_vaccinations * sizeof(double));
  odin_set_dim(vaccinations, 3, internal->dim_vaccinations_1, internal->dim_vaccinations_2, internal->dim_vaccinations_3);
  SET_VECTOR_ELT(contents, 665, vaccinations);
  SEXP vax_time_step = PROTECT(allocVector(REALSXP, internal->dim_vax_time_step));
  memcpy(REAL(vax_time_step), internal->vax_time_step, internal->dim_vax_time_step * sizeof(double));
  odin_set_dim(vax_time_step, 2, internal->dim_vax_time_step_1, internal->dim_vax_time_step_2);
  SET_VECTOR_ELT(contents, 666, vax_time_step);
  SET_VECTOR_ELT(contents, 667, ScalarReal(internal->vax_type));
  SET_VECTOR_ELT(contents, 668, ScalarReal(internal->waning_immunity));
  SEXP waning_immunity_vax = PROTECT(allocVector(REALSXP, internal->dim_waning_immunity_vax));
  memcpy(REAL(waning_immunity_vax), internal->waning_immunity_vax, internal->dim_waning_immunity_vax * sizeof(double));
  odin_set_dim(waning_immunity_vax, 3, internal->dim_waning_immunity_vax_1, internal->dim_waning_immunity_vax_2, internal->dim_waning_immunity_vax_3);
  SET_VECTOR_ELT(contents, 669, waning_immunity_vax);
  SET_VECTOR_ELT(contents, 670, ScalarReal(internal->waning_inf));
  SEXP waning_tmp = PROTECT(allocVector(REALSXP, internal->dim_waning_tmp));
  memcpy(REAL(waning_tmp), internal->waning_tmp, internal->dim_waning_tmp * sizeof(double));
  odin_set_dim(waning_tmp, 2, internal->dim_waning_tmp_1, internal->dim_waning_tmp_2);
  SET_VECTOR_ELT(contents, 671, waning_tmp);
  SEXP nms = PROTECT(allocVector(STRSXP, 672));
  SET_STRING_ELT(nms, 0, mkChar("A_ini"));
  SET_STRING_ELT(nms, 1, mkChar("B_D_H_ini"));
  SET_STRING_ELT(nms, 2, mkChar("B_D_ICU_ini"));
  SET_STRING_ELT(nms, 3, mkChar("B_D_ini"));
  SET_STRING_ELT(nms, 4, mkChar("C"));
  SET_STRING_ELT(nms, 5, mkChar("D_ini"));
  SET_STRING_ELT(nms, 6, mkChar("Ea_ini"));
  SET_STRING_ELT(nms, 7, mkChar("Es_ini"));
  SET_STRING_ELT(nms, 8, mkChar("H_ini"));
  SET_STRING_ELT(nms, 9, mkChar("ICU_H_ini"));
  SET_STRING_ELT(nms, 10, mkChar("ICU_P_ini"));
  SET_STRING_ELT(nms, 11, mkChar("ICU_R_ini"));
  SET_STRING_ELT(nms, 12, mkChar("I_imp_ini"));
  SET_STRING_ELT(nms, 13, mkChar("I_ini"));
  SET_STRING_ELT(nms, 14, mkChar("N"));
  SET_STRING_ELT(nms, 15, mkChar("N_imp"));
  SET_STRING_ELT(nms, 16, mkChar("N_imp_non_zero"));
  SET_STRING_ELT(nms, 17, mkChar("N_steps"));
  SET_STRING_ELT(nms, 18, mkChar("P_ini"));
  SET_STRING_ELT(nms, 19, mkChar("R_ini"));
  SET_STRING_ELT(nms, 20, mkChar("S_ini"));
  SET_STRING_ELT(nms, 21, mkChar("T_waning"));
  SET_STRING_ELT(nms, 22, mkChar("W"));
  SET_STRING_ELT(nms, 23, mkChar("a"));
  SET_STRING_ELT(nms, 24, mkChar("asympt_frac"));
  SET_STRING_ELT(nms, 25, mkChar("asympt_infect"));
  SET_STRING_ELT(nms, 26, mkChar("beta"));
  SET_STRING_ELT(nms, 27, mkChar("beta_day"));
  SET_STRING_ELT(nms, 28, mkChar("beta_int"));
  SET_STRING_ELT(nms, 29, mkChar("beta_mode"));
  SET_STRING_ELT(nms, 30, mkChar("beta_norm"));
  SET_STRING_ELT(nms, 31, mkChar("beta_reduction"));
  SET_STRING_ELT(nms, 32, mkChar("beta_spont_behaviour"));
  SET_STRING_ELT(nms, 33, mkChar("beta_strain"));
  SET_STRING_ELT(nms, 34, mkChar("contact_change"));
  SET_STRING_ELT(nms, 35, mkChar("cross_protection"));
  SET_STRING_ELT(nms, 36, mkChar("dim_A"));
  SET_STRING_ELT(nms, 37, mkChar("dim_A_1"));
  SET_STRING_ELT(nms, 38, mkChar("dim_A_12"));
  SET_STRING_ELT(nms, 39, mkChar("dim_A_2"));
  SET_STRING_ELT(nms, 40, mkChar("dim_A_3"));
  SET_STRING_ELT(nms, 41, mkChar("dim_A_ini"));
  SET_STRING_ELT(nms, 42, mkChar("dim_A_ini_1"));
  SET_STRING_ELT(nms, 43, mkChar("dim_A_ini_12"));
  SET_STRING_ELT(nms, 44, mkChar("dim_A_ini_2"));
  SET_STRING_ELT(nms, 45, mkChar("dim_A_ini_3"));
  SET_STRING_ELT(nms, 46, mkChar("dim_B_D"));
  SET_STRING_ELT(nms, 47, mkChar("dim_B_D_1"));
  SET_STRING_ELT(nms, 48, mkChar("dim_B_D_12"));
  SET_STRING_ELT(nms, 49, mkChar("dim_B_D_2"));
  SET_STRING_ELT(nms, 50, mkChar("dim_B_D_3"));
  SET_STRING_ELT(nms, 51, mkChar("dim_B_D_H"));
  SET_STRING_ELT(nms, 52, mkChar("dim_B_D_H_1"));
  SET_STRING_ELT(nms, 53, mkChar("dim_B_D_H_12"));
  SET_STRING_ELT(nms, 54, mkChar("dim_B_D_H_2"));
  SET_STRING_ELT(nms, 55, mkChar("dim_B_D_H_3"));
  SET_STRING_ELT(nms, 56, mkChar("dim_B_D_H_ini"));
  SET_STRING_ELT(nms, 57, mkChar("dim_B_D_H_ini_1"));
  SET_STRING_ELT(nms, 58, mkChar("dim_B_D_H_ini_12"));
  SET_STRING_ELT(nms, 59, mkChar("dim_B_D_H_ini_2"));
  SET_STRING_ELT(nms, 60, mkChar("dim_B_D_H_ini_3"));
  SET_STRING_ELT(nms, 61, mkChar("dim_B_D_ICU"));
  SET_STRING_ELT(nms, 62, mkChar("dim_B_D_ICU_1"));
  SET_STRING_ELT(nms, 63, mkChar("dim_B_D_ICU_12"));
  SET_STRING_ELT(nms, 64, mkChar("dim_B_D_ICU_2"));
  SET_STRING_ELT(nms, 65, mkChar("dim_B_D_ICU_3"));
  SET_STRING_ELT(nms, 66, mkChar("dim_B_D_ICU_ini"));
  SET_STRING_ELT(nms, 67, mkChar("dim_B_D_ICU_ini_1"));
  SET_STRING_ELT(nms, 68, mkChar("dim_B_D_ICU_ini_12"));
  SET_STRING_ELT(nms, 69, mkChar("dim_B_D_ICU_ini_2"));
  SET_STRING_ELT(nms, 70, mkChar("dim_B_D_ICU_ini_3"));
  SET_STRING_ELT(nms, 71, mkChar("dim_B_D_ini"));
  SET_STRING_ELT(nms, 72, mkChar("dim_B_D_ini_1"));
  SET_STRING_ELT(nms, 73, mkChar("dim_B_D_ini_12"));
  SET_STRING_ELT(nms, 74, mkChar("dim_B_D_ini_2"));
  SET_STRING_ELT(nms, 75, mkChar("dim_B_D_ini_3"));
  SET_STRING_ELT(nms, 76, mkChar("dim_C"));
  SET_STRING_ELT(nms, 77, mkChar("dim_C_1"));
  SET_STRING_ELT(nms, 78, mkChar("dim_C_2"));
  SET_STRING_ELT(nms, 79, mkChar("dim_D"));
  SET_STRING_ELT(nms, 80, mkChar("dim_D_1"));
  SET_STRING_ELT(nms, 81, mkChar("dim_D_12"));
  SET_STRING_ELT(nms, 82, mkChar("dim_D_2"));
  SET_STRING_ELT(nms, 83, mkChar("dim_D_3"));
  SET_STRING_ELT(nms, 84, mkChar("dim_D_ini"));
  SET_STRING_ELT(nms, 85, mkChar("dim_D_ini_1"));
  SET_STRING_ELT(nms, 86, mkChar("dim_D_ini_12"));
  SET_STRING_ELT(nms, 87, mkChar("dim_D_ini_2"));
  SET_STRING_ELT(nms, 88, mkChar("dim_D_ini_3"));
  SET_STRING_ELT(nms, 89, mkChar("dim_Ea"));
  SET_STRING_ELT(nms, 90, mkChar("dim_Ea_1"));
  SET_STRING_ELT(nms, 91, mkChar("dim_Ea_12"));
  SET_STRING_ELT(nms, 92, mkChar("dim_Ea_2"));
  SET_STRING_ELT(nms, 93, mkChar("dim_Ea_3"));
  SET_STRING_ELT(nms, 94, mkChar("dim_Ea_ini"));
  SET_STRING_ELT(nms, 95, mkChar("dim_Ea_ini_1"));
  SET_STRING_ELT(nms, 96, mkChar("dim_Ea_ini_12"));
  SET_STRING_ELT(nms, 97, mkChar("dim_Ea_ini_2"));
  SET_STRING_ELT(nms, 98, mkChar("dim_Ea_ini_3"));
  SET_STRING_ELT(nms, 99, mkChar("dim_Es"));
  SET_STRING_ELT(nms, 100, mkChar("dim_Es_1"));
  SET_STRING_ELT(nms, 101, mkChar("dim_Es_12"));
  SET_STRING_ELT(nms, 102, mkChar("dim_Es_2"));
  SET_STRING_ELT(nms, 103, mkChar("dim_Es_3"));
  SET_STRING_ELT(nms, 104, mkChar("dim_Es_ini"));
  SET_STRING_ELT(nms, 105, mkChar("dim_Es_ini_1"));
  SET_STRING_ELT(nms, 106, mkChar("dim_Es_ini_12"));
  SET_STRING_ELT(nms, 107, mkChar("dim_Es_ini_2"));
  SET_STRING_ELT(nms, 108, mkChar("dim_Es_ini_3"));
  SET_STRING_ELT(nms, 109, mkChar("dim_H"));
  SET_STRING_ELT(nms, 110, mkChar("dim_H_1"));
  SET_STRING_ELT(nms, 111, mkChar("dim_H_12"));
  SET_STRING_ELT(nms, 112, mkChar("dim_H_2"));
  SET_STRING_ELT(nms, 113, mkChar("dim_H_3"));
  SET_STRING_ELT(nms, 114, mkChar("dim_H_ini"));
  SET_STRING_ELT(nms, 115, mkChar("dim_H_ini_1"));
  SET_STRING_ELT(nms, 116, mkChar("dim_H_ini_12"));
  SET_STRING_ELT(nms, 117, mkChar("dim_H_ini_2"));
  SET_STRING_ELT(nms, 118, mkChar("dim_H_ini_3"));
  SET_STRING_ELT(nms, 119, mkChar("dim_I"));
  SET_STRING_ELT(nms, 120, mkChar("dim_ICU_H"));
  SET_STRING_ELT(nms, 121, mkChar("dim_ICU_H_1"));
  SET_STRING_ELT(nms, 122, mkChar("dim_ICU_H_12"));
  SET_STRING_ELT(nms, 123, mkChar("dim_ICU_H_2"));
  SET_STRING_ELT(nms, 124, mkChar("dim_ICU_H_3"));
  SET_STRING_ELT(nms, 125, mkChar("dim_ICU_H_ini"));
  SET_STRING_ELT(nms, 126, mkChar("dim_ICU_H_ini_1"));
  SET_STRING_ELT(nms, 127, mkChar("dim_ICU_H_ini_12"));
  SET_STRING_ELT(nms, 128, mkChar("dim_ICU_H_ini_2"));
  SET_STRING_ELT(nms, 129, mkChar("dim_ICU_H_ini_3"));
  SET_STRING_ELT(nms, 130, mkChar("dim_ICU_P"));
  SET_STRING_ELT(nms, 131, mkChar("dim_ICU_P_1"));
  SET_STRING_ELT(nms, 132, mkChar("dim_ICU_P_12"));
  SET_STRING_ELT(nms, 133, mkChar("dim_ICU_P_2"));
  SET_STRING_ELT(nms, 134, mkChar("dim_ICU_P_3"));
  SET_STRING_ELT(nms, 135, mkChar("dim_ICU_P_ini"));
  SET_STRING_ELT(nms, 136, mkChar("dim_ICU_P_ini_1"));
  SET_STRING_ELT(nms, 137, mkChar("dim_ICU_P_ini_12"));
  SET_STRING_ELT(nms, 138, mkChar("dim_ICU_P_ini_2"));
  SET_STRING_ELT(nms, 139, mkChar("dim_ICU_P_ini_3"));
  SET_STRING_ELT(nms, 140, mkChar("dim_ICU_R"));
  SET_STRING_ELT(nms, 141, mkChar("dim_ICU_R_1"));
  SET_STRING_ELT(nms, 142, mkChar("dim_ICU_R_12"));
  SET_STRING_ELT(nms, 143, mkChar("dim_ICU_R_2"));
  SET_STRING_ELT(nms, 144, mkChar("dim_ICU_R_3"));
  SET_STRING_ELT(nms, 145, mkChar("dim_ICU_R_ini"));
  SET_STRING_ELT(nms, 146, mkChar("dim_ICU_R_ini_1"));
  SET_STRING_ELT(nms, 147, mkChar("dim_ICU_R_ini_12"));
  SET_STRING_ELT(nms, 148, mkChar("dim_ICU_R_ini_2"));
  SET_STRING_ELT(nms, 149, mkChar("dim_ICU_R_ini_3"));
  SET_STRING_ELT(nms, 150, mkChar("dim_I_1"));
  SET_STRING_ELT(nms, 151, mkChar("dim_I_12"));
  SET_STRING_ELT(nms, 152, mkChar("dim_I_2"));
  SET_STRING_ELT(nms, 153, mkChar("dim_I_3"));
  SET_STRING_ELT(nms, 154, mkChar("dim_I_imp_ini"));
  SET_STRING_ELT(nms, 155, mkChar("dim_I_imp_ini_1"));
  SET_STRING_ELT(nms, 156, mkChar("dim_I_imp_ini_12"));
  SET_STRING_ELT(nms, 157, mkChar("dim_I_imp_ini_2"));
  SET_STRING_ELT(nms, 158, mkChar("dim_I_imp_ini_3"));
  SET_STRING_ELT(nms, 159, mkChar("dim_I_ini"));
  SET_STRING_ELT(nms, 160, mkChar("dim_I_ini_1"));
  SET_STRING_ELT(nms, 161, mkChar("dim_I_ini_12"));
  SET_STRING_ELT(nms, 162, mkChar("dim_I_ini_2"));
  SET_STRING_ELT(nms, 163, mkChar("dim_I_ini_3"));
  SET_STRING_ELT(nms, 164, mkChar("dim_N"));
  SET_STRING_ELT(nms, 165, mkChar("dim_N_1"));
  SET_STRING_ELT(nms, 166, mkChar("dim_N_2"));
  SET_STRING_ELT(nms, 167, mkChar("dim_N_imp"));
  SET_STRING_ELT(nms, 168, mkChar("dim_N_imp_1"));
  SET_STRING_ELT(nms, 169, mkChar("dim_N_imp_12"));
  SET_STRING_ELT(nms, 170, mkChar("dim_N_imp_2"));
  SET_STRING_ELT(nms, 171, mkChar("dim_N_imp_3"));
  SET_STRING_ELT(nms, 172, mkChar("dim_N_imp_non_zero"));
  SET_STRING_ELT(nms, 173, mkChar("dim_N_imp_non_zero_1"));
  SET_STRING_ELT(nms, 174, mkChar("dim_N_imp_non_zero_12"));
  SET_STRING_ELT(nms, 175, mkChar("dim_N_imp_non_zero_2"));
  SET_STRING_ELT(nms, 176, mkChar("dim_N_imp_non_zero_3"));
  SET_STRING_ELT(nms, 177, mkChar("dim_P"));
  SET_STRING_ELT(nms, 178, mkChar("dim_P_1"));
  SET_STRING_ELT(nms, 179, mkChar("dim_P_12"));
  SET_STRING_ELT(nms, 180, mkChar("dim_P_2"));
  SET_STRING_ELT(nms, 181, mkChar("dim_P_3"));
  SET_STRING_ELT(nms, 182, mkChar("dim_P_ini"));
  SET_STRING_ELT(nms, 183, mkChar("dim_P_ini_1"));
  SET_STRING_ELT(nms, 184, mkChar("dim_P_ini_12"));
  SET_STRING_ELT(nms, 185, mkChar("dim_P_ini_2"));
  SET_STRING_ELT(nms, 186, mkChar("dim_P_ini_3"));
  SET_STRING_ELT(nms, 187, mkChar("dim_R"));
  SET_STRING_ELT(nms, 188, mkChar("dim_R_1"));
  SET_STRING_ELT(nms, 189, mkChar("dim_R_12"));
  SET_STRING_ELT(nms, 190, mkChar("dim_R_2"));
  SET_STRING_ELT(nms, 191, mkChar("dim_R_3"));
  SET_STRING_ELT(nms, 192, mkChar("dim_R_ini"));
  SET_STRING_ELT(nms, 193, mkChar("dim_R_ini_1"));
  SET_STRING_ELT(nms, 194, mkChar("dim_R_ini_12"));
  SET_STRING_ELT(nms, 195, mkChar("dim_R_ini_2"));
  SET_STRING_ELT(nms, 196, mkChar("dim_R_ini_3"));
  SET_STRING_ELT(nms, 197, mkChar("dim_S"));
  SET_STRING_ELT(nms, 198, mkChar("dim_S_1"));
  SET_STRING_ELT(nms, 199, mkChar("dim_S_2"));
  SET_STRING_ELT(nms, 200, mkChar("dim_S_ini"));
  SET_STRING_ELT(nms, 201, mkChar("dim_S_ini_1"));
  SET_STRING_ELT(nms, 202, mkChar("dim_S_ini_2"));
  SET_STRING_ELT(nms, 203, mkChar("dim_T_waning"));
  SET_STRING_ELT(nms, 204, mkChar("dim_T_waning_1"));
  SET_STRING_ELT(nms, 205, mkChar("dim_T_waning_2"));
  SET_STRING_ELT(nms, 206, mkChar("dim_asympt_frac"));
  SET_STRING_ELT(nms, 207, mkChar("dim_asympt_frac_1"));
  SET_STRING_ELT(nms, 208, mkChar("dim_asympt_frac_12"));
  SET_STRING_ELT(nms, 209, mkChar("dim_asympt_frac_2"));
  SET_STRING_ELT(nms, 210, mkChar("dim_asympt_frac_3"));
  SET_STRING_ELT(nms, 211, mkChar("dim_beta"));
  SET_STRING_ELT(nms, 212, mkChar("dim_beta_1"));
  SET_STRING_ELT(nms, 213, mkChar("dim_beta_2"));
  SET_STRING_ELT(nms, 214, mkChar("dim_beta_day"));
  SET_STRING_ELT(nms, 215, mkChar("dim_beta_day_1"));
  SET_STRING_ELT(nms, 216, mkChar("dim_beta_day_2"));
  SET_STRING_ELT(nms, 217, mkChar("dim_beta_int"));
  SET_STRING_ELT(nms, 218, mkChar("dim_beta_norm"));
  SET_STRING_ELT(nms, 219, mkChar("dim_beta_reduction"));
  SET_STRING_ELT(nms, 220, mkChar("dim_beta_reduction_1"));
  SET_STRING_ELT(nms, 221, mkChar("dim_beta_reduction_2"));
  SET_STRING_ELT(nms, 222, mkChar("dim_beta_spont_behaviour"));
  SET_STRING_ELT(nms, 223, mkChar("dim_beta_spont_behaviour_1"));
  SET_STRING_ELT(nms, 224, mkChar("dim_beta_spont_behaviour_2"));
  SET_STRING_ELT(nms, 225, mkChar("dim_beta_strain"));
  SET_STRING_ELT(nms, 226, mkChar("dim_contact_change"));
  SET_STRING_ELT(nms, 227, mkChar("dim_contact_change_1"));
  SET_STRING_ELT(nms, 228, mkChar("dim_contact_change_2"));
  SET_STRING_ELT(nms, 229, mkChar("dim_cross_protection"));
  SET_STRING_ELT(nms, 230, mkChar("dim_cross_protection_1"));
  SET_STRING_ELT(nms, 231, mkChar("dim_cross_protection_2"));
  SET_STRING_ELT(nms, 232, mkChar("dim_expected_health_loss"));
  SET_STRING_ELT(nms, 233, mkChar("dim_expected_health_loss_1"));
  SET_STRING_ELT(nms, 234, mkChar("dim_expected_health_loss_2"));
  SET_STRING_ELT(nms, 235, mkChar("dim_hosp_prob"));
  SET_STRING_ELT(nms, 236, mkChar("dim_hosp_prob_1"));
  SET_STRING_ELT(nms, 237, mkChar("dim_hosp_prob_12"));
  SET_STRING_ELT(nms, 238, mkChar("dim_hosp_prob_2"));
  SET_STRING_ELT(nms, 239, mkChar("dim_hosp_prob_3"));
  SET_STRING_ELT(nms, 240, mkChar("dim_icu_prob"));
  SET_STRING_ELT(nms, 241, mkChar("dim_icu_prob_1"));
  SET_STRING_ELT(nms, 242, mkChar("dim_icu_prob_12"));
  SET_STRING_ELT(nms, 243, mkChar("dim_icu_prob_2"));
  SET_STRING_ELT(nms, 244, mkChar("dim_icu_prob_3"));
  SET_STRING_ELT(nms, 245, mkChar("dim_import_vec"));
  SET_STRING_ELT(nms, 246, mkChar("dim_import_vec_1"));
  SET_STRING_ELT(nms, 247, mkChar("dim_import_vec_12"));
  SET_STRING_ELT(nms, 248, mkChar("dim_import_vec_123"));
  SET_STRING_ELT(nms, 249, mkChar("dim_import_vec_2"));
  SET_STRING_ELT(nms, 250, mkChar("dim_import_vec_3"));
  SET_STRING_ELT(nms, 251, mkChar("dim_import_vec_4"));
  SET_STRING_ELT(nms, 252, mkChar("dim_index"));
  SET_STRING_ELT(nms, 253, mkChar("dim_interpolation_time"));
  SET_STRING_ELT(nms, 254, mkChar("dim_kernel"));
  SET_STRING_ELT(nms, 255, mkChar("dim_kernel_1"));
  SET_STRING_ELT(nms, 256, mkChar("dim_kernel_2"));
  SET_STRING_ELT(nms, 257, mkChar("dim_lambda_ij"));
  SET_STRING_ELT(nms, 258, mkChar("dim_lambda_ij_1"));
  SET_STRING_ELT(nms, 259, mkChar("dim_lambda_ij_12"));
  SET_STRING_ELT(nms, 260, mkChar("dim_lambda_ij_123"));
  SET_STRING_ELT(nms, 261, mkChar("dim_lambda_ij_1234"));
  SET_STRING_ELT(nms, 262, mkChar("dim_lambda_ij_2"));
  SET_STRING_ELT(nms, 263, mkChar("dim_lambda_ij_3"));
  SET_STRING_ELT(nms, 264, mkChar("dim_lambda_ij_4"));
  SET_STRING_ELT(nms, 265, mkChar("dim_lambda_ij_5"));
  SET_STRING_ELT(nms, 266, mkChar("dim_length_hosp"));
  SET_STRING_ELT(nms, 267, mkChar("dim_length_hosp_1"));
  SET_STRING_ELT(nms, 268, mkChar("dim_length_hosp_12"));
  SET_STRING_ELT(nms, 269, mkChar("dim_length_hosp_2"));
  SET_STRING_ELT(nms, 270, mkChar("dim_length_hosp_3"));
  SET_STRING_ELT(nms, 271, mkChar("dim_length_icu"));
  SET_STRING_ELT(nms, 272, mkChar("dim_length_icu_1"));
  SET_STRING_ELT(nms, 273, mkChar("dim_length_icu_12"));
  SET_STRING_ELT(nms, 274, mkChar("dim_length_icu_2"));
  SET_STRING_ELT(nms, 275, mkChar("dim_length_icu_3"));
  SET_STRING_ELT(nms, 276, mkChar("dim_mixing_matrix"));
  SET_STRING_ELT(nms, 277, mkChar("dim_mixing_matrix_1"));
  SET_STRING_ELT(nms, 278, mkChar("dim_mixing_matrix_2"));
  SET_STRING_ELT(nms, 279, mkChar("dim_n_AR"));
  SET_STRING_ELT(nms, 280, mkChar("dim_n_AR_1"));
  SET_STRING_ELT(nms, 281, mkChar("dim_n_AR_12"));
  SET_STRING_ELT(nms, 282, mkChar("dim_n_AR_2"));
  SET_STRING_ELT(nms, 283, mkChar("dim_n_AR_3"));
  SET_STRING_ELT(nms, 284, mkChar("dim_n_B_D_D"));
  SET_STRING_ELT(nms, 285, mkChar("dim_n_B_D_D_1"));
  SET_STRING_ELT(nms, 286, mkChar("dim_n_B_D_D_12"));
  SET_STRING_ELT(nms, 287, mkChar("dim_n_B_D_D_2"));
  SET_STRING_ELT(nms, 288, mkChar("dim_n_B_D_D_3"));
  SET_STRING_ELT(nms, 289, mkChar("dim_n_B_H_D"));
  SET_STRING_ELT(nms, 290, mkChar("dim_n_B_H_D_1"));
  SET_STRING_ELT(nms, 291, mkChar("dim_n_B_H_D_12"));
  SET_STRING_ELT(nms, 292, mkChar("dim_n_B_H_D_2"));
  SET_STRING_ELT(nms, 293, mkChar("dim_n_B_H_D_3"));
  SET_STRING_ELT(nms, 294, mkChar("dim_n_B_ICU_D"));
  SET_STRING_ELT(nms, 295, mkChar("dim_n_B_ICU_D_1"));
  SET_STRING_ELT(nms, 296, mkChar("dim_n_B_ICU_D_12"));
  SET_STRING_ELT(nms, 297, mkChar("dim_n_B_ICU_D_2"));
  SET_STRING_ELT(nms, 298, mkChar("dim_n_B_ICU_D_3"));
  SET_STRING_ELT(nms, 299, mkChar("dim_n_EaA"));
  SET_STRING_ELT(nms, 300, mkChar("dim_n_EaA_1"));
  SET_STRING_ELT(nms, 301, mkChar("dim_n_EaA_12"));
  SET_STRING_ELT(nms, 302, mkChar("dim_n_EaA_2"));
  SET_STRING_ELT(nms, 303, mkChar("dim_n_EaA_3"));
  SET_STRING_ELT(nms, 304, mkChar("dim_n_EsI"));
  SET_STRING_ELT(nms, 305, mkChar("dim_n_EsI_1"));
  SET_STRING_ELT(nms, 306, mkChar("dim_n_EsI_12"));
  SET_STRING_ELT(nms, 307, mkChar("dim_n_EsI_2"));
  SET_STRING_ELT(nms, 308, mkChar("dim_n_EsI_3"));
  SET_STRING_ELT(nms, 309, mkChar("dim_n_H"));
  SET_STRING_ELT(nms, 310, mkChar("dim_n_HD"));
  SET_STRING_ELT(nms, 311, mkChar("dim_n_HD_1"));
  SET_STRING_ELT(nms, 312, mkChar("dim_n_HD_12"));
  SET_STRING_ELT(nms, 313, mkChar("dim_n_HD_2"));
  SET_STRING_ELT(nms, 314, mkChar("dim_n_HD_3"));
  SET_STRING_ELT(nms, 315, mkChar("dim_n_HR"));
  SET_STRING_ELT(nms, 316, mkChar("dim_n_HR_1"));
  SET_STRING_ELT(nms, 317, mkChar("dim_n_HR_12"));
  SET_STRING_ELT(nms, 318, mkChar("dim_n_HR_2"));
  SET_STRING_ELT(nms, 319, mkChar("dim_n_HR_3"));
  SET_STRING_ELT(nms, 320, mkChar("dim_n_H_1"));
  SET_STRING_ELT(nms, 321, mkChar("dim_n_H_12"));
  SET_STRING_ELT(nms, 322, mkChar("dim_n_H_2"));
  SET_STRING_ELT(nms, 323, mkChar("dim_n_H_3"));
  SET_STRING_ELT(nms, 324, mkChar("dim_n_I"));
  SET_STRING_ELT(nms, 325, mkChar("dim_n_ICU_D"));
  SET_STRING_ELT(nms, 326, mkChar("dim_n_ICU_D_1"));
  SET_STRING_ELT(nms, 327, mkChar("dim_n_ICU_D_12"));
  SET_STRING_ELT(nms, 328, mkChar("dim_n_ICU_D_2"));
  SET_STRING_ELT(nms, 329, mkChar("dim_n_ICU_D_3"));
  SET_STRING_ELT(nms, 330, mkChar("dim_n_ICU_HR"));
  SET_STRING_ELT(nms, 331, mkChar("dim_n_ICU_HR_1"));
  SET_STRING_ELT(nms, 332, mkChar("dim_n_ICU_HR_12"));
  SET_STRING_ELT(nms, 333, mkChar("dim_n_ICU_HR_2"));
  SET_STRING_ELT(nms, 334, mkChar("dim_n_ICU_HR_3"));
  SET_STRING_ELT(nms, 335, mkChar("dim_n_ICU_P"));
  SET_STRING_ELT(nms, 336, mkChar("dim_n_ICU_P_1"));
  SET_STRING_ELT(nms, 337, mkChar("dim_n_ICU_P_12"));
  SET_STRING_ELT(nms, 338, mkChar("dim_n_ICU_P_2"));
  SET_STRING_ELT(nms, 339, mkChar("dim_n_ICU_P_3"));
  SET_STRING_ELT(nms, 340, mkChar("dim_n_ICU_R"));
  SET_STRING_ELT(nms, 341, mkChar("dim_n_ICU_RP"));
  SET_STRING_ELT(nms, 342, mkChar("dim_n_ICU_RP_1"));
  SET_STRING_ELT(nms, 343, mkChar("dim_n_ICU_RP_12"));
  SET_STRING_ELT(nms, 344, mkChar("dim_n_ICU_RP_2"));
  SET_STRING_ELT(nms, 345, mkChar("dim_n_ICU_RP_3"));
  SET_STRING_ELT(nms, 346, mkChar("dim_n_ICU_R_1"));
  SET_STRING_ELT(nms, 347, mkChar("dim_n_ICU_R_12"));
  SET_STRING_ELT(nms, 348, mkChar("dim_n_ICU_R_2"));
  SET_STRING_ELT(nms, 349, mkChar("dim_n_ICU_R_3"));
  SET_STRING_ELT(nms, 350, mkChar("dim_n_ID"));
  SET_STRING_ELT(nms, 351, mkChar("dim_n_ID_1"));
  SET_STRING_ELT(nms, 352, mkChar("dim_n_ID_12"));
  SET_STRING_ELT(nms, 353, mkChar("dim_n_ID_2"));
  SET_STRING_ELT(nms, 354, mkChar("dim_n_ID_3"));
  SET_STRING_ELT(nms, 355, mkChar("dim_n_IH"));
  SET_STRING_ELT(nms, 356, mkChar("dim_n_IH_1"));
  SET_STRING_ELT(nms, 357, mkChar("dim_n_IH_12"));
  SET_STRING_ELT(nms, 358, mkChar("dim_n_IH_2"));
  SET_STRING_ELT(nms, 359, mkChar("dim_n_IH_3"));
  SET_STRING_ELT(nms, 360, mkChar("dim_n_IICU"));
  SET_STRING_ELT(nms, 361, mkChar("dim_n_IICU_1"));
  SET_STRING_ELT(nms, 362, mkChar("dim_n_IICU_12"));
  SET_STRING_ELT(nms, 363, mkChar("dim_n_IICU_2"));
  SET_STRING_ELT(nms, 364, mkChar("dim_n_IICU_3"));
  SET_STRING_ELT(nms, 365, mkChar("dim_n_IR"));
  SET_STRING_ELT(nms, 366, mkChar("dim_n_IR_1"));
  SET_STRING_ELT(nms, 367, mkChar("dim_n_IR_12"));
  SET_STRING_ELT(nms, 368, mkChar("dim_n_IR_2"));
  SET_STRING_ELT(nms, 369, mkChar("dim_n_IR_3"));
  SET_STRING_ELT(nms, 370, mkChar("dim_n_I_1"));
  SET_STRING_ELT(nms, 371, mkChar("dim_n_I_12"));
  SET_STRING_ELT(nms, 372, mkChar("dim_n_I_2"));
  SET_STRING_ELT(nms, 373, mkChar("dim_n_I_3"));
  SET_STRING_ELT(nms, 374, mkChar("dim_n_PI"));
  SET_STRING_ELT(nms, 375, mkChar("dim_n_PI_1"));
  SET_STRING_ELT(nms, 376, mkChar("dim_n_PI_12"));
  SET_STRING_ELT(nms, 377, mkChar("dim_n_PI_2"));
  SET_STRING_ELT(nms, 378, mkChar("dim_n_PI_3"));
  SET_STRING_ELT(nms, 379, mkChar("dim_n_RS"));
  SET_STRING_ELT(nms, 380, mkChar("dim_n_RS_1"));
  SET_STRING_ELT(nms, 381, mkChar("dim_n_RS_12"));
  SET_STRING_ELT(nms, 382, mkChar("dim_n_RS_2"));
  SET_STRING_ELT(nms, 383, mkChar("dim_n_RS_3"));
  SET_STRING_ELT(nms, 384, mkChar("dim_n_SE"));
  SET_STRING_ELT(nms, 385, mkChar("dim_n_SE_1"));
  SET_STRING_ELT(nms, 386, mkChar("dim_n_SE_12"));
  SET_STRING_ELT(nms, 387, mkChar("dim_n_SE_2"));
  SET_STRING_ELT(nms, 388, mkChar("dim_n_SE_3"));
  SET_STRING_ELT(nms, 389, mkChar("dim_n_SE_tot"));
  SET_STRING_ELT(nms, 390, mkChar("dim_n_SE_tot_1"));
  SET_STRING_ELT(nms, 391, mkChar("dim_n_SE_tot_2"));
  SET_STRING_ELT(nms, 392, mkChar("dim_n_SEa"));
  SET_STRING_ELT(nms, 393, mkChar("dim_n_SEa_1"));
  SET_STRING_ELT(nms, 394, mkChar("dim_n_SEa_12"));
  SET_STRING_ELT(nms, 395, mkChar("dim_n_SEa_2"));
  SET_STRING_ELT(nms, 396, mkChar("dim_n_SEa_3"));
  SET_STRING_ELT(nms, 397, mkChar("dim_n_SEi"));
  SET_STRING_ELT(nms, 398, mkChar("dim_n_SEi_1"));
  SET_STRING_ELT(nms, 399, mkChar("dim_n_SEi_12"));
  SET_STRING_ELT(nms, 400, mkChar("dim_n_SEi_2"));
  SET_STRING_ELT(nms, 401, mkChar("dim_n_SEi_3"));
  SET_STRING_ELT(nms, 402, mkChar("dim_n_vac_help"));
  SET_STRING_ELT(nms, 403, mkChar("dim_n_vac_help_1"));
  SET_STRING_ELT(nms, 404, mkChar("dim_n_vac_help_2"));
  SET_STRING_ELT(nms, 405, mkChar("dim_n_vac_now"));
  SET_STRING_ELT(nms, 406, mkChar("dim_n_vac_now_1"));
  SET_STRING_ELT(nms, 407, mkChar("dim_n_vac_now_2"));
  SET_STRING_ELT(nms, 408, mkChar("dim_new_infs"));
  SET_STRING_ELT(nms, 409, mkChar("dim_new_infs_1"));
  SET_STRING_ELT(nms, 410, mkChar("dim_new_infs_12"));
  SET_STRING_ELT(nms, 411, mkChar("dim_new_infs_2"));
  SET_STRING_ELT(nms, 412, mkChar("dim_new_infs_3"));
  SET_STRING_ELT(nms, 413, mkChar("dim_p_SE"));
  SET_STRING_ELT(nms, 414, mkChar("dim_p_SE_1"));
  SET_STRING_ELT(nms, 415, mkChar("dim_p_SE_12"));
  SET_STRING_ELT(nms, 416, mkChar("dim_p_SE_2"));
  SET_STRING_ELT(nms, 417, mkChar("dim_p_SE_3"));
  SET_STRING_ELT(nms, 418, mkChar("dim_pa"));
  SET_STRING_ELT(nms, 419, mkChar("dim_pa_1"));
  SET_STRING_ELT(nms, 420, mkChar("dim_pa_12"));
  SET_STRING_ELT(nms, 421, mkChar("dim_pa_2"));
  SET_STRING_ELT(nms, 422, mkChar("dim_pa_3"));
  SET_STRING_ELT(nms, 423, mkChar("dim_post_icu"));
  SET_STRING_ELT(nms, 424, mkChar("dim_post_icu_1"));
  SET_STRING_ELT(nms, 425, mkChar("dim_post_icu_12"));
  SET_STRING_ELT(nms, 426, mkChar("dim_post_icu_2"));
  SET_STRING_ELT(nms, 427, mkChar("dim_post_icu_3"));
  SET_STRING_ELT(nms, 428, mkChar("dim_pre_icu"));
  SET_STRING_ELT(nms, 429, mkChar("dim_pre_icu_1"));
  SET_STRING_ELT(nms, 430, mkChar("dim_pre_icu_12"));
  SET_STRING_ELT(nms, 431, mkChar("dim_pre_icu_2"));
  SET_STRING_ELT(nms, 432, mkChar("dim_pre_icu_3"));
  SET_STRING_ELT(nms, 433, mkChar("dim_prob_death_hosp"));
  SET_STRING_ELT(nms, 434, mkChar("dim_prob_death_hosp_1"));
  SET_STRING_ELT(nms, 435, mkChar("dim_prob_death_hosp_12"));
  SET_STRING_ELT(nms, 436, mkChar("dim_prob_death_hosp_2"));
  SET_STRING_ELT(nms, 437, mkChar("dim_prob_death_hosp_3"));
  SET_STRING_ELT(nms, 438, mkChar("dim_prob_death_icu"));
  SET_STRING_ELT(nms, 439, mkChar("dim_prob_death_icu_1"));
  SET_STRING_ELT(nms, 440, mkChar("dim_prob_death_icu_12"));
  SET_STRING_ELT(nms, 441, mkChar("dim_prob_death_icu_2"));
  SET_STRING_ELT(nms, 442, mkChar("dim_prob_death_icu_3"));
  SET_STRING_ELT(nms, 443, mkChar("dim_prob_death_non_hosp"));
  SET_STRING_ELT(nms, 444, mkChar("dim_prob_death_non_hosp_1"));
  SET_STRING_ELT(nms, 445, mkChar("dim_prob_death_non_hosp_12"));
  SET_STRING_ELT(nms, 446, mkChar("dim_prob_death_non_hosp_2"));
  SET_STRING_ELT(nms, 447, mkChar("dim_prob_death_non_hosp_3"));
  SET_STRING_ELT(nms, 448, mkChar("dim_scale_spont"));
  SET_STRING_ELT(nms, 449, mkChar("dim_scale_spont_1"));
  SET_STRING_ELT(nms, 450, mkChar("dim_scale_spont_2"));
  SET_STRING_ELT(nms, 451, mkChar("dim_spont_behav_change_params"));
  SET_STRING_ELT(nms, 452, mkChar("dim_susceptibility_asymp"));
  SET_STRING_ELT(nms, 453, mkChar("dim_susceptibility_asymp_1"));
  SET_STRING_ELT(nms, 454, mkChar("dim_susceptibility_asymp_12"));
  SET_STRING_ELT(nms, 455, mkChar("dim_susceptibility_asymp_2"));
  SET_STRING_ELT(nms, 456, mkChar("dim_susceptibility_asymp_3"));
  SET_STRING_ELT(nms, 457, mkChar("dim_susceptibility_symp"));
  SET_STRING_ELT(nms, 458, mkChar("dim_susceptibility_symp_1"));
  SET_STRING_ELT(nms, 459, mkChar("dim_susceptibility_symp_12"));
  SET_STRING_ELT(nms, 460, mkChar("dim_susceptibility_symp_2"));
  SET_STRING_ELT(nms, 461, mkChar("dim_susceptibility_symp_3"));
  SET_STRING_ELT(nms, 462, mkChar("dim_symp_asymp_effect"));
  SET_STRING_ELT(nms, 463, mkChar("dim_symp_asymp_effect_1"));
  SET_STRING_ELT(nms, 464, mkChar("dim_symp_asymp_effect_12"));
  SET_STRING_ELT(nms, 465, mkChar("dim_symp_asymp_effect_2"));
  SET_STRING_ELT(nms, 466, mkChar("dim_symp_asymp_effect_3"));
  SET_STRING_ELT(nms, 467, mkChar("dim_symp_trans"));
  SET_STRING_ELT(nms, 468, mkChar("dim_symp_trans_1"));
  SET_STRING_ELT(nms, 469, mkChar("dim_symp_trans_12"));
  SET_STRING_ELT(nms, 470, mkChar("dim_symp_trans_2"));
  SET_STRING_ELT(nms, 471, mkChar("dim_symp_trans_3"));
  SET_STRING_ELT(nms, 472, mkChar("dim_sympt_frac"));
  SET_STRING_ELT(nms, 473, mkChar("dim_sympt_frac_1"));
  SET_STRING_ELT(nms, 474, mkChar("dim_sympt_frac_12"));
  SET_STRING_ELT(nms, 475, mkChar("dim_sympt_frac_2"));
  SET_STRING_ELT(nms, 476, mkChar("dim_sympt_frac_3"));
  SET_STRING_ELT(nms, 477, mkChar("dim_tot_hosp"));
  SET_STRING_ELT(nms, 478, mkChar("dim_tot_hosp_1"));
  SET_STRING_ELT(nms, 479, mkChar("dim_tot_hosp_12"));
  SET_STRING_ELT(nms, 480, mkChar("dim_tot_hosp_2"));
  SET_STRING_ELT(nms, 481, mkChar("dim_tot_hosp_3"));
  SET_STRING_ELT(nms, 482, mkChar("dim_tot_hosp_ini"));
  SET_STRING_ELT(nms, 483, mkChar("dim_tot_hosp_ini_1"));
  SET_STRING_ELT(nms, 484, mkChar("dim_tot_hosp_ini_12"));
  SET_STRING_ELT(nms, 485, mkChar("dim_tot_hosp_ini_2"));
  SET_STRING_ELT(nms, 486, mkChar("dim_tot_hosp_ini_3"));
  SET_STRING_ELT(nms, 487, mkChar("dim_tot_infected"));
  SET_STRING_ELT(nms, 488, mkChar("dim_tot_infected_1"));
  SET_STRING_ELT(nms, 489, mkChar("dim_tot_infected_12"));
  SET_STRING_ELT(nms, 490, mkChar("dim_tot_infected_2"));
  SET_STRING_ELT(nms, 491, mkChar("dim_tot_infected_3"));
  SET_STRING_ELT(nms, 492, mkChar("dim_tot_infected_ini"));
  SET_STRING_ELT(nms, 493, mkChar("dim_tot_infected_ini_1"));
  SET_STRING_ELT(nms, 494, mkChar("dim_tot_infected_ini_12"));
  SET_STRING_ELT(nms, 495, mkChar("dim_tot_infected_ini_2"));
  SET_STRING_ELT(nms, 496, mkChar("dim_tot_infected_ini_3"));
  SET_STRING_ELT(nms, 497, mkChar("dim_tot_resp"));
  SET_STRING_ELT(nms, 498, mkChar("dim_tot_resp_1"));
  SET_STRING_ELT(nms, 499, mkChar("dim_tot_resp_12"));
  SET_STRING_ELT(nms, 500, mkChar("dim_tot_resp_2"));
  SET_STRING_ELT(nms, 501, mkChar("dim_tot_resp_3"));
  SET_STRING_ELT(nms, 502, mkChar("dim_tot_resp_ini"));
  SET_STRING_ELT(nms, 503, mkChar("dim_tot_resp_ini_1"));
  SET_STRING_ELT(nms, 504, mkChar("dim_tot_resp_ini_12"));
  SET_STRING_ELT(nms, 505, mkChar("dim_tot_resp_ini_2"));
  SET_STRING_ELT(nms, 506, mkChar("dim_tot_resp_ini_3"));
  SET_STRING_ELT(nms, 507, mkChar("dim_tot_vac"));
  SET_STRING_ELT(nms, 508, mkChar("dim_tot_vac_1"));
  SET_STRING_ELT(nms, 509, mkChar("dim_tot_vac_2"));
  SET_STRING_ELT(nms, 510, mkChar("dim_tot_vac_adm"));
  SET_STRING_ELT(nms, 511, mkChar("dim_tot_vac_adm_1"));
  SET_STRING_ELT(nms, 512, mkChar("dim_tot_vac_adm_2"));
  SET_STRING_ELT(nms, 513, mkChar("dim_tot_vac_adm_ini"));
  SET_STRING_ELT(nms, 514, mkChar("dim_tot_vac_adm_ini_1"));
  SET_STRING_ELT(nms, 515, mkChar("dim_tot_vac_adm_ini_2"));
  SET_STRING_ELT(nms, 516, mkChar("dim_tot_vac_ini"));
  SET_STRING_ELT(nms, 517, mkChar("dim_tot_vac_ini_1"));
  SET_STRING_ELT(nms, 518, mkChar("dim_tot_vac_ini_2"));
  SET_STRING_ELT(nms, 519, mkChar("dim_transmisibility"));
  SET_STRING_ELT(nms, 520, mkChar("dim_transmisibility_1"));
  SET_STRING_ELT(nms, 521, mkChar("dim_transmisibility_12"));
  SET_STRING_ELT(nms, 522, mkChar("dim_transmisibility_2"));
  SET_STRING_ELT(nms, 523, mkChar("dim_transmisibility_3"));
  SET_STRING_ELT(nms, 524, mkChar("dim_vaccinations"));
  SET_STRING_ELT(nms, 525, mkChar("dim_vaccinations_1"));
  SET_STRING_ELT(nms, 526, mkChar("dim_vaccinations_12"));
  SET_STRING_ELT(nms, 527, mkChar("dim_vaccinations_2"));
  SET_STRING_ELT(nms, 528, mkChar("dim_vaccinations_3"));
  SET_STRING_ELT(nms, 529, mkChar("dim_vax_time_step"));
  SET_STRING_ELT(nms, 530, mkChar("dim_vax_time_step_1"));
  SET_STRING_ELT(nms, 531, mkChar("dim_vax_time_step_2"));
  SET_STRING_ELT(nms, 532, mkChar("dim_waning_immunity_vax"));
  SET_STRING_ELT(nms, 533, mkChar("dim_waning_immunity_vax_1"));
  SET_STRING_ELT(nms, 534, mkChar("dim_waning_immunity_vax_12"));
  SET_STRING_ELT(nms, 535, mkChar("dim_waning_immunity_vax_2"));
  SET_STRING_ELT(nms, 536, mkChar("dim_waning_immunity_vax_3"));
  SET_STRING_ELT(nms, 537, mkChar("dim_waning_tmp"));
  SET_STRING_ELT(nms, 538, mkChar("dim_waning_tmp_1"));
  SET_STRING_ELT(nms, 539, mkChar("dim_waning_tmp_2"));
  SET_STRING_ELT(nms, 540, mkChar("expected_health_loss"));
  SET_STRING_ELT(nms, 541, mkChar("hosp_prob"));
  SET_STRING_ELT(nms, 542, mkChar("icu_prob"));
  SET_STRING_ELT(nms, 543, mkChar("import_vec"));
  SET_STRING_ELT(nms, 544, mkChar("incidence_steps_measurement"));
  SET_STRING_ELT(nms, 545, mkChar("include_waning"));
  SET_STRING_ELT(nms, 546, mkChar("index"));
  SET_STRING_ELT(nms, 547, mkChar("infectious_period"));
  SET_STRING_ELT(nms, 548, mkChar("initial_A"));
  SET_STRING_ELT(nms, 549, mkChar("initial_B_D"));
  SET_STRING_ELT(nms, 550, mkChar("initial_B_D_H"));
  SET_STRING_ELT(nms, 551, mkChar("initial_B_D_ICU"));
  SET_STRING_ELT(nms, 552, mkChar("initial_D"));
  SET_STRING_ELT(nms, 553, mkChar("initial_Ea"));
  SET_STRING_ELT(nms, 554, mkChar("initial_Es"));
  SET_STRING_ELT(nms, 555, mkChar("initial_H"));
  SET_STRING_ELT(nms, 556, mkChar("initial_I"));
  SET_STRING_ELT(nms, 557, mkChar("initial_ICU_H"));
  SET_STRING_ELT(nms, 558, mkChar("initial_ICU_P"));
  SET_STRING_ELT(nms, 559, mkChar("initial_ICU_R"));
  SET_STRING_ELT(nms, 560, mkChar("initial_P"));
  SET_STRING_ELT(nms, 561, mkChar("initial_R"));
  SET_STRING_ELT(nms, 562, mkChar("initial_S"));
  SET_STRING_ELT(nms, 563, mkChar("initial_scale_spont"));
  SET_STRING_ELT(nms, 564, mkChar("initial_tot_hosp"));
  SET_STRING_ELT(nms, 565, mkChar("initial_tot_hosp_inc"));
  SET_STRING_ELT(nms, 566, mkChar("initial_tot_infected"));
  SET_STRING_ELT(nms, 567, mkChar("initial_tot_resp"));
  SET_STRING_ELT(nms, 568, mkChar("initial_tot_vac"));
  SET_STRING_ELT(nms, 569, mkChar("initial_tot_vac_adm"));
  SET_STRING_ELT(nms, 570, mkChar("interpolate_N_imp"));
  SET_STRING_ELT(nms, 571, mkChar("interpolate_beta_int"));
  SET_STRING_ELT(nms, 572, mkChar("interpolate_vax_time_step"));
  SET_STRING_ELT(nms, 573, mkChar("interpolation_time"));
  SET_STRING_ELT(nms, 574, mkChar("kernel"));
  SET_STRING_ELT(nms, 575, mkChar("lambda_ij"));
  SET_STRING_ELT(nms, 576, mkChar("latent_period"));
  SET_STRING_ELT(nms, 577, mkChar("length_hosp"));
  SET_STRING_ELT(nms, 578, mkChar("length_icu"));
  SET_STRING_ELT(nms, 579, mkChar("log_beta_ini"));
  SET_STRING_ELT(nms, 580, mkChar("mixing_matrix"));
  SET_STRING_ELT(nms, 581, mkChar("n"));
  SET_STRING_ELT(nms, 582, mkChar("n_AR"));
  SET_STRING_ELT(nms, 583, mkChar("n_B_D_D"));
  SET_STRING_ELT(nms, 584, mkChar("n_B_H_D"));
  SET_STRING_ELT(nms, 585, mkChar("n_B_ICU_D"));
  SET_STRING_ELT(nms, 586, mkChar("n_EaA"));
  SET_STRING_ELT(nms, 587, mkChar("n_EsI"));
  SET_STRING_ELT(nms, 588, mkChar("n_H"));
  SET_STRING_ELT(nms, 589, mkChar("n_HD"));
  SET_STRING_ELT(nms, 590, mkChar("n_HR"));
  SET_STRING_ELT(nms, 591, mkChar("n_I"));
  SET_STRING_ELT(nms, 592, mkChar("n_ICU_D"));
  SET_STRING_ELT(nms, 593, mkChar("n_ICU_HR"));
  SET_STRING_ELT(nms, 594, mkChar("n_ICU_P"));
  SET_STRING_ELT(nms, 595, mkChar("n_ICU_R"));
  SET_STRING_ELT(nms, 596, mkChar("n_ICU_RP"));
  SET_STRING_ELT(nms, 597, mkChar("n_ID"));
  SET_STRING_ELT(nms, 598, mkChar("n_IH"));
  SET_STRING_ELT(nms, 599, mkChar("n_IICU"));
  SET_STRING_ELT(nms, 600, mkChar("n_IR"));
  SET_STRING_ELT(nms, 601, mkChar("n_PI"));
  SET_STRING_ELT(nms, 602, mkChar("n_RS"));
  SET_STRING_ELT(nms, 603, mkChar("n_SE"));
  SET_STRING_ELT(nms, 604, mkChar("n_SE_tot"));
  SET_STRING_ELT(nms, 605, mkChar("n_SEa"));
  SET_STRING_ELT(nms, 606, mkChar("n_SEi"));
  SET_STRING_ELT(nms, 607, mkChar("n_strain"));
  SET_STRING_ELT(nms, 608, mkChar("n_vac"));
  SET_STRING_ELT(nms, 609, mkChar("n_vac_help"));
  SET_STRING_ELT(nms, 610, mkChar("n_vac_now"));
  SET_STRING_ELT(nms, 611, mkChar("new_infs"));
  SET_STRING_ELT(nms, 612, mkChar("offset_output_N"));
  SET_STRING_ELT(nms, 613, mkChar("offset_output_beta"));
  SET_STRING_ELT(nms, 614, mkChar("offset_output_beta_spont_behaviour"));
  SET_STRING_ELT(nms, 615, mkChar("offset_variable_A"));
  SET_STRING_ELT(nms, 616, mkChar("offset_variable_B_D"));
  SET_STRING_ELT(nms, 617, mkChar("offset_variable_B_D_H"));
  SET_STRING_ELT(nms, 618, mkChar("offset_variable_B_D_ICU"));
  SET_STRING_ELT(nms, 619, mkChar("offset_variable_D"));
  SET_STRING_ELT(nms, 620, mkChar("offset_variable_Ea"));
  SET_STRING_ELT(nms, 621, mkChar("offset_variable_Es"));
  SET_STRING_ELT(nms, 622, mkChar("offset_variable_H"));
  SET_STRING_ELT(nms, 623, mkChar("offset_variable_I"));
  SET_STRING_ELT(nms, 624, mkChar("offset_variable_ICU_H"));
  SET_STRING_ELT(nms, 625, mkChar("offset_variable_ICU_P"));
  SET_STRING_ELT(nms, 626, mkChar("offset_variable_ICU_R"));
  SET_STRING_ELT(nms, 627, mkChar("offset_variable_P"));
  SET_STRING_ELT(nms, 628, mkChar("offset_variable_R"));
  SET_STRING_ELT(nms, 629, mkChar("offset_variable_S"));
  SET_STRING_ELT(nms, 630, mkChar("offset_variable_tot_hosp"));
  SET_STRING_ELT(nms, 631, mkChar("offset_variable_tot_infected"));
  SET_STRING_ELT(nms, 632, mkChar("offset_variable_tot_resp"));
  SET_STRING_ELT(nms, 633, mkChar("offset_variable_tot_vac"));
  SET_STRING_ELT(nms, 634, mkChar("offset_variable_tot_vac_adm"));
  SET_STRING_ELT(nms, 635, mkChar("p_SE"));
  SET_STRING_ELT(nms, 636, mkChar("pa"));
  SET_STRING_ELT(nms, 637, mkChar("post_icu"));
  SET_STRING_ELT(nms, 638, mkChar("pre_icu"));
  SET_STRING_ELT(nms, 639, mkChar("pre_sympt_infect"));
  SET_STRING_ELT(nms, 640, mkChar("pre_sympt_period"));
  SET_STRING_ELT(nms, 641, mkChar("prob_death_hosp"));
  SET_STRING_ELT(nms, 642, mkChar("prob_death_icu"));
  SET_STRING_ELT(nms, 643, mkChar("prob_death_non_hosp"));
  SET_STRING_ELT(nms, 644, mkChar("rand_beta_days"));
  SET_STRING_ELT(nms, 645, mkChar("spont_behav_change_params"));
  SET_STRING_ELT(nms, 646, mkChar("spont_behav_mode"));
  SET_STRING_ELT(nms, 647, mkChar("susceptibility_asymp"));
  SET_STRING_ELT(nms, 648, mkChar("susceptibility_symp"));
  SET_STRING_ELT(nms, 649, mkChar("symp_asymp_effect"));
  SET_STRING_ELT(nms, 650, mkChar("symp_trans"));
  SET_STRING_ELT(nms, 651, mkChar("sympt_frac"));
  SET_STRING_ELT(nms, 652, mkChar("threshold_ini"));
  SET_STRING_ELT(nms, 653, mkChar("threshold_max"));
  SET_STRING_ELT(nms, 654, mkChar("threshold_min"));
  SET_STRING_ELT(nms, 655, mkChar("time_before_death"));
  SET_STRING_ELT(nms, 656, mkChar("time_before_death_hosp"));
  SET_STRING_ELT(nms, 657, mkChar("time_before_death_icu"));
  SET_STRING_ELT(nms, 658, mkChar("tot_hosp_ini"));
  SET_STRING_ELT(nms, 659, mkChar("tot_infected_ini"));
  SET_STRING_ELT(nms, 660, mkChar("tot_resp_ini"));
  SET_STRING_ELT(nms, 661, mkChar("tot_vac_adm_ini"));
  SET_STRING_ELT(nms, 662, mkChar("tot_vac_ini"));
  SET_STRING_ELT(nms, 663, mkChar("transmisibility"));
  SET_STRING_ELT(nms, 664, mkChar("vac_struct_length"));
  SET_STRING_ELT(nms, 665, mkChar("vaccinations"));
  SET_STRING_ELT(nms, 666, mkChar("vax_time_step"));
  SET_STRING_ELT(nms, 667, mkChar("vax_type"));
  SET_STRING_ELT(nms, 668, mkChar("waning_immunity"));
  SET_STRING_ELT(nms, 669, mkChar("waning_immunity_vax"));
  SET_STRING_ELT(nms, 670, mkChar("waning_inf"));
  SET_STRING_ELT(nms, 671, mkChar("waning_tmp"));
  setAttrib(contents, R_NamesSymbol, nms);
  UNPROTECT(116);
  return contents;
}
SEXP model_deterministic_set_user(SEXP internal_p, SEXP user) {
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 1);
  internal->N_steps = user_get_scalar_int(user, "N_steps", internal->N_steps, NA_REAL, NA_REAL);
  internal->asympt_infect = user_get_scalar_double(user, "asympt_infect", internal->asympt_infect, NA_REAL, NA_REAL);
  internal->beta_mode = user_get_scalar_double(user, "beta_mode", internal->beta_mode, NA_REAL, NA_REAL);
  internal->incidence_steps_measurement = user_get_scalar_double(user, "incidence_steps_measurement", internal->incidence_steps_measurement, NA_REAL, NA_REAL);
  internal->include_waning = user_get_scalar_double(user, "include_waning", internal->include_waning, NA_REAL, NA_REAL);
  internal->infectious_period = user_get_scalar_double(user, "infectious_period", internal->infectious_period, NA_REAL, NA_REAL);
  internal->latent_period = user_get_scalar_double(user, "latent_period", internal->latent_period, NA_REAL, NA_REAL);
  internal->log_beta_ini = user_get_scalar_double(user, "log_beta_ini", internal->log_beta_ini, NA_REAL, NA_REAL);
  internal->n = user_get_scalar_int(user, "n", internal->n, NA_REAL, NA_REAL);
  internal->n_strain = user_get_scalar_int(user, "n_strain", internal->n_strain, NA_REAL, NA_REAL);
  internal->n_vac = user_get_scalar_int(user, "n_vac", internal->n_vac, NA_REAL, NA_REAL);
  internal->pre_sympt_infect = user_get_scalar_double(user, "pre_sympt_infect", internal->pre_sympt_infect, NA_REAL, NA_REAL);
  internal->pre_sympt_period = user_get_scalar_double(user, "pre_sympt_period", internal->pre_sympt_period, NA_REAL, NA_REAL);
  internal->rand_beta_days = user_get_scalar_double(user, "rand_beta_days", internal->rand_beta_days, NA_REAL, NA_REAL);
  internal->spont_behav_mode = user_get_scalar_double(user, "spont_behav_mode", internal->spont_behav_mode, NA_REAL, NA_REAL);
  internal->threshold_ini = user_get_scalar_double(user, "threshold_ini", internal->threshold_ini, NA_REAL, NA_REAL);
  internal->threshold_max = user_get_scalar_double(user, "threshold_max", internal->threshold_max, NA_REAL, NA_REAL);
  internal->threshold_min = user_get_scalar_double(user, "threshold_min", internal->threshold_min, NA_REAL, NA_REAL);
  internal->time_before_death = user_get_scalar_double(user, "time_before_death", internal->time_before_death, NA_REAL, NA_REAL);
  internal->time_before_death_hosp = user_get_scalar_double(user, "time_before_death_hosp", internal->time_before_death_hosp, NA_REAL, NA_REAL);
  internal->time_before_death_icu = user_get_scalar_double(user, "time_before_death_icu", internal->time_before_death_icu, NA_REAL, NA_REAL);
  internal->vac_struct_length = user_get_scalar_double(user, "vac_struct_length", internal->vac_struct_length, NA_REAL, NA_REAL);
  internal->vax_type = user_get_scalar_double(user, "vax_type", internal->vax_type, NA_REAL, NA_REAL);
  internal->waning_immunity = user_get_scalar_double(user, "waning_immunity", internal->waning_immunity, NA_REAL, NA_REAL);
  internal->waning_inf = user_get_scalar_double(user, "waning_inf", internal->waning_inf, NA_REAL, NA_REAL);
  internal->dim_A_1 = internal->n;
  internal->dim_A_2 = internal->n_vac;
  internal->dim_A_3 = internal->n_strain;
  internal->dim_A_ini_1 = internal->n;
  internal->dim_A_ini_2 = internal->n_vac;
  internal->dim_A_ini_3 = internal->n_strain;
  internal->dim_B_D_1 = internal->n;
  internal->dim_B_D_2 = internal->n_vac;
  internal->dim_B_D_3 = internal->n_strain;
  internal->dim_B_D_H_1 = internal->n;
  internal->dim_B_D_H_2 = internal->n_vac;
  internal->dim_B_D_H_3 = internal->n_strain;
  internal->dim_B_D_H_ini_1 = internal->n;
  internal->dim_B_D_H_ini_2 = internal->n_vac;
  internal->dim_B_D_H_ini_3 = internal->n_strain;
  internal->dim_B_D_ICU_1 = internal->n;
  internal->dim_B_D_ICU_2 = internal->n_vac;
  internal->dim_B_D_ICU_3 = internal->n_strain;
  internal->dim_B_D_ICU_ini_1 = internal->n;
  internal->dim_B_D_ICU_ini_2 = internal->n_vac;
  internal->dim_B_D_ICU_ini_3 = internal->n_strain;
  internal->dim_B_D_ini_1 = internal->n;
  internal->dim_B_D_ini_2 = internal->n_vac;
  internal->dim_B_D_ini_3 = internal->n_strain;
  internal->dim_C_1 = internal->n;
  internal->dim_C_2 = internal->n_vac;
  internal->dim_D_1 = internal->n;
  internal->dim_D_2 = internal->n_vac;
  internal->dim_D_3 = internal->n_strain;
  internal->dim_D_ini_1 = internal->n;
  internal->dim_D_ini_2 = internal->n_vac;
  internal->dim_D_ini_3 = internal->n_strain;
  internal->dim_Ea_1 = internal->n;
  internal->dim_Ea_2 = internal->n_vac;
  internal->dim_Ea_3 = internal->n_strain;
  internal->dim_Ea_ini_1 = internal->n;
  internal->dim_Ea_ini_2 = internal->n_vac;
  internal->dim_Ea_ini_3 = internal->n_strain;
  internal->dim_Es_1 = internal->n;
  internal->dim_Es_2 = internal->n_vac;
  internal->dim_Es_3 = internal->n_strain;
  internal->dim_Es_ini_1 = internal->n;
  internal->dim_Es_ini_2 = internal->n_vac;
  internal->dim_Es_ini_3 = internal->n_strain;
  internal->dim_H_1 = internal->n;
  internal->dim_H_2 = internal->n_vac;
  internal->dim_H_3 = internal->n_strain;
  internal->dim_H_ini_1 = internal->n;
  internal->dim_H_ini_2 = internal->n_vac;
  internal->dim_H_ini_3 = internal->n_strain;
  internal->dim_ICU_H_1 = internal->n;
  internal->dim_ICU_H_2 = internal->n_vac;
  internal->dim_ICU_H_3 = internal->n_strain;
  internal->dim_ICU_H_ini_1 = internal->n;
  internal->dim_ICU_H_ini_2 = internal->n_vac;
  internal->dim_ICU_H_ini_3 = internal->n_strain;
  internal->dim_ICU_P_1 = internal->n;
  internal->dim_ICU_P_2 = internal->n_vac;
  internal->dim_ICU_P_3 = internal->n_strain;
  internal->dim_ICU_P_ini_1 = internal->n;
  internal->dim_ICU_P_ini_2 = internal->n_vac;
  internal->dim_ICU_P_ini_3 = internal->n_strain;
  internal->dim_ICU_R_1 = internal->n;
  internal->dim_ICU_R_2 = internal->n_vac;
  internal->dim_ICU_R_3 = internal->n_strain;
  internal->dim_ICU_R_ini_1 = internal->n;
  internal->dim_ICU_R_ini_2 = internal->n_vac;
  internal->dim_ICU_R_ini_3 = internal->n_strain;
  internal->dim_I_1 = internal->n;
  internal->dim_I_2 = internal->n_vac;
  internal->dim_I_3 = internal->n_strain;
  internal->dim_I_imp_ini_1 = internal->n;
  internal->dim_I_imp_ini_2 = internal->n_vac;
  internal->dim_I_imp_ini_3 = internal->n_strain;
  internal->dim_I_ini_1 = internal->n;
  internal->dim_I_ini_2 = internal->n_vac;
  internal->dim_I_ini_3 = internal->n_strain;
  internal->dim_N_1 = internal->n;
  internal->dim_N_2 = internal->n_vac;
  internal->dim_N_imp_1 = internal->n;
  internal->dim_N_imp_2 = internal->n_vac;
  internal->dim_N_imp_3 = internal->n_strain;
  internal->dim_N_imp_non_zero_1 = internal->n;
  internal->dim_N_imp_non_zero_2 = internal->n_vac;
  internal->dim_N_imp_non_zero_3 = internal->n_strain;
  internal->dim_P_1 = internal->n;
  internal->dim_P_2 = internal->n_vac;
  internal->dim_P_3 = internal->n_strain;
  internal->dim_P_ini_1 = internal->n;
  internal->dim_P_ini_2 = internal->n_vac;
  internal->dim_P_ini_3 = internal->n_strain;
  internal->dim_R_1 = internal->n;
  internal->dim_R_2 = internal->n_vac;
  internal->dim_R_3 = internal->n_strain;
  internal->dim_R_ini_1 = internal->n;
  internal->dim_R_ini_2 = internal->n_vac;
  internal->dim_R_ini_3 = internal->n_strain;
  internal->dim_S_1 = internal->n;
  internal->dim_S_2 = internal->n_vac;
  internal->dim_S_ini_1 = internal->n;
  internal->dim_S_ini_2 = internal->n_vac;
  internal->dim_T_waning_1 = internal->n;
  internal->dim_T_waning_2 = internal->n_vac;
  internal->dim_asympt_frac_1 = internal->n;
  internal->dim_asympt_frac_2 = internal->n_vac;
  internal->dim_asympt_frac_3 = internal->n_strain;
  internal->dim_beta_1 = internal->n;
  internal->dim_beta_2 = internal->n_vac;
  internal->dim_beta_day_1 = internal->N_steps;
  internal->dim_beta_day_2 = internal->n;
  internal->dim_beta_int = internal->n;
  internal->dim_beta_norm = internal->n;
  internal->dim_beta_reduction_1 = internal->n;
  internal->dim_beta_reduction_2 = internal->n_vac;
  internal->dim_beta_spont_behaviour_1 = internal->n;
  internal->dim_beta_spont_behaviour_2 = internal->n_vac;
  internal->dim_beta_strain = internal->n_strain;
  internal->dim_contact_change_1 = internal->n;
  internal->dim_contact_change_2 = internal->n_vac;
  internal->dim_cross_protection_1 = internal->n_strain;
  internal->dim_cross_protection_2 = internal->n_strain;
  internal->dim_expected_health_loss_1 = internal->n;
  internal->dim_expected_health_loss_2 = internal->n_vac;
  internal->dim_hosp_prob_1 = internal->n;
  internal->dim_hosp_prob_2 = internal->n_vac;
  internal->dim_hosp_prob_3 = internal->n_strain;
  internal->dim_icu_prob_1 = internal->n;
  internal->dim_icu_prob_2 = internal->n_vac;
  internal->dim_icu_prob_3 = internal->n_strain;
  internal->dim_import_vec_1 = internal->N_steps;
  internal->dim_import_vec_2 = internal->n;
  internal->dim_import_vec_3 = internal->n_vac;
  internal->dim_import_vec_4 = internal->n_strain;
  internal->dim_index = internal->n_vac;
  internal->dim_interpolation_time = internal->N_steps;
  internal->dim_kernel_1 = internal->n;
  internal->dim_kernel_2 = internal->n_vac;
  internal->dim_lambda_ij_1 = internal->n;
  internal->dim_lambda_ij_2 = internal->n_vac;
  internal->dim_lambda_ij_3 = internal->n;
  internal->dim_lambda_ij_4 = internal->n_vac;
  internal->dim_lambda_ij_5 = internal->n_strain;
  internal->dim_length_hosp_1 = internal->n;
  internal->dim_length_hosp_2 = internal->n_vac;
  internal->dim_length_hosp_3 = internal->n_strain;
  internal->dim_length_icu_1 = internal->n;
  internal->dim_length_icu_2 = internal->n_vac;
  internal->dim_length_icu_3 = internal->n_strain;
  internal->dim_mixing_matrix_1 = internal->n;
  internal->dim_mixing_matrix_2 = internal->n;
  internal->dim_n_AR_1 = internal->n;
  internal->dim_n_AR_2 = internal->n_vac;
  internal->dim_n_AR_3 = internal->n_strain;
  internal->dim_n_B_D_D_1 = internal->n;
  internal->dim_n_B_D_D_2 = internal->n_vac;
  internal->dim_n_B_D_D_3 = internal->n_strain;
  internal->dim_n_B_H_D_1 = internal->n;
  internal->dim_n_B_H_D_2 = internal->n_vac;
  internal->dim_n_B_H_D_3 = internal->n_strain;
  internal->dim_n_B_ICU_D_1 = internal->n;
  internal->dim_n_B_ICU_D_2 = internal->n_vac;
  internal->dim_n_B_ICU_D_3 = internal->n_strain;
  internal->dim_n_EaA_1 = internal->n;
  internal->dim_n_EaA_2 = internal->n_vac;
  internal->dim_n_EaA_3 = internal->n_strain;
  internal->dim_n_EsI_1 = internal->n;
  internal->dim_n_EsI_2 = internal->n_vac;
  internal->dim_n_EsI_3 = internal->n_strain;
  internal->dim_n_HD_1 = internal->n;
  internal->dim_n_HD_2 = internal->n_vac;
  internal->dim_n_HD_3 = internal->n_strain;
  internal->dim_n_HR_1 = internal->n;
  internal->dim_n_HR_2 = internal->n_vac;
  internal->dim_n_HR_3 = internal->n_strain;
  internal->dim_n_H_1 = internal->n;
  internal->dim_n_H_2 = internal->n_vac;
  internal->dim_n_H_3 = internal->n_strain;
  internal->dim_n_ICU_D_1 = internal->n;
  internal->dim_n_ICU_D_2 = internal->n_vac;
  internal->dim_n_ICU_D_3 = internal->n_strain;
  internal->dim_n_ICU_HR_1 = internal->n;
  internal->dim_n_ICU_HR_2 = internal->n_vac;
  internal->dim_n_ICU_HR_3 = internal->n_strain;
  internal->dim_n_ICU_P_1 = internal->n;
  internal->dim_n_ICU_P_2 = internal->n_vac;
  internal->dim_n_ICU_P_3 = internal->n_strain;
  internal->dim_n_ICU_RP_1 = internal->n;
  internal->dim_n_ICU_RP_2 = internal->n_vac;
  internal->dim_n_ICU_RP_3 = internal->n_strain;
  internal->dim_n_ICU_R_1 = internal->n;
  internal->dim_n_ICU_R_2 = internal->n_vac;
  internal->dim_n_ICU_R_3 = internal->n_strain;
  internal->dim_n_ID_1 = internal->n;
  internal->dim_n_ID_2 = internal->n_vac;
  internal->dim_n_ID_3 = internal->n_strain;
  internal->dim_n_IH_1 = internal->n;
  internal->dim_n_IH_2 = internal->n_vac;
  internal->dim_n_IH_3 = internal->n_strain;
  internal->dim_n_IICU_1 = internal->n;
  internal->dim_n_IICU_2 = internal->n_vac;
  internal->dim_n_IICU_3 = internal->n_strain;
  internal->dim_n_IR_1 = internal->n;
  internal->dim_n_IR_2 = internal->n_vac;
  internal->dim_n_IR_3 = internal->n_strain;
  internal->dim_n_I_1 = internal->n;
  internal->dim_n_I_2 = internal->n_vac;
  internal->dim_n_I_3 = internal->n_strain;
  internal->dim_n_PI_1 = internal->n;
  internal->dim_n_PI_2 = internal->n_vac;
  internal->dim_n_PI_3 = internal->n_strain;
  internal->dim_n_RS_1 = internal->n;
  internal->dim_n_RS_2 = internal->n_vac;
  internal->dim_n_RS_3 = internal->n_strain;
  internal->dim_n_SE_1 = internal->n;
  internal->dim_n_SE_2 = internal->n_vac;
  internal->dim_n_SE_3 = internal->n_strain;
  internal->dim_n_SE_tot_1 = internal->n;
  internal->dim_n_SE_tot_2 = internal->n_vac;
  internal->dim_n_SEa_1 = internal->n;
  internal->dim_n_SEa_2 = internal->n_vac;
  internal->dim_n_SEa_3 = internal->n_strain;
  internal->dim_n_SEi_1 = internal->n;
  internal->dim_n_SEi_2 = internal->n_vac;
  internal->dim_n_SEi_3 = internal->n_strain;
  internal->dim_n_vac_help_1 = internal->n;
  internal->dim_n_vac_help_2 = internal->n_vac;
  internal->dim_n_vac_now_1 = internal->n;
  internal->dim_n_vac_now_2 = internal->n_vac;
  internal->dim_new_infs_1 = internal->n;
  internal->dim_new_infs_2 = internal->n_vac;
  internal->dim_new_infs_3 = internal->n_strain;
  internal->dim_p_SE_1 = internal->n;
  internal->dim_p_SE_2 = internal->n_vac;
  internal->dim_p_SE_3 = internal->n_strain;
  internal->dim_pa_1 = internal->n;
  internal->dim_pa_2 = internal->n_vac;
  internal->dim_pa_3 = internal->n_strain;
  internal->dim_post_icu_1 = internal->n;
  internal->dim_post_icu_2 = internal->n_vac;
  internal->dim_post_icu_3 = internal->n_strain;
  internal->dim_pre_icu_1 = internal->n;
  internal->dim_pre_icu_2 = internal->n_vac;
  internal->dim_pre_icu_3 = internal->n_strain;
  internal->dim_prob_death_hosp_1 = internal->n;
  internal->dim_prob_death_hosp_2 = internal->n_vac;
  internal->dim_prob_death_hosp_3 = internal->n_strain;
  internal->dim_prob_death_icu_1 = internal->n;
  internal->dim_prob_death_icu_2 = internal->n_vac;
  internal->dim_prob_death_icu_3 = internal->n_strain;
  internal->dim_prob_death_non_hosp_1 = internal->n;
  internal->dim_prob_death_non_hosp_2 = internal->n_vac;
  internal->dim_prob_death_non_hosp_3 = internal->n_strain;
  internal->dim_scale_spont_1 = internal->n;
  internal->dim_scale_spont_2 = internal->n_vac;
  internal->dim_susceptibility_asymp_1 = internal->n;
  internal->dim_susceptibility_asymp_2 = internal->n_vac;
  internal->dim_susceptibility_asymp_3 = internal->n_strain;
  internal->dim_susceptibility_symp_1 = internal->n;
  internal->dim_susceptibility_symp_2 = internal->n_vac;
  internal->dim_susceptibility_symp_3 = internal->n_strain;
  internal->dim_symp_asymp_effect_1 = internal->n;
  internal->dim_symp_asymp_effect_2 = internal->n_vac;
  internal->dim_symp_asymp_effect_3 = internal->n_strain;
  internal->dim_symp_trans_1 = internal->n;
  internal->dim_symp_trans_2 = internal->n_vac;
  internal->dim_symp_trans_3 = internal->n_strain;
  internal->dim_sympt_frac_1 = internal->n;
  internal->dim_sympt_frac_2 = internal->n_vac;
  internal->dim_sympt_frac_3 = internal->n_strain;
  internal->dim_tot_hosp_1 = internal->n;
  internal->dim_tot_hosp_2 = internal->n_vac;
  internal->dim_tot_hosp_3 = internal->n_strain;
  internal->dim_tot_hosp_ini_1 = internal->n;
  internal->dim_tot_hosp_ini_2 = internal->n_vac;
  internal->dim_tot_hosp_ini_3 = internal->n_strain;
  internal->dim_tot_infected_1 = internal->n;
  internal->dim_tot_infected_2 = internal->n_vac;
  internal->dim_tot_infected_3 = internal->n_strain;
  internal->dim_tot_infected_ini_1 = internal->n;
  internal->dim_tot_infected_ini_2 = internal->n_vac;
  internal->dim_tot_infected_ini_3 = internal->n_strain;
  internal->dim_tot_resp_1 = internal->n;
  internal->dim_tot_resp_2 = internal->n_vac;
  internal->dim_tot_resp_3 = internal->n_strain;
  internal->dim_tot_resp_ini_1 = internal->n;
  internal->dim_tot_resp_ini_2 = internal->n_vac;
  internal->dim_tot_resp_ini_3 = internal->n_strain;
  internal->dim_tot_vac_1 = internal->n;
  internal->dim_tot_vac_2 = internal->n_vac;
  internal->dim_tot_vac_adm_1 = internal->n;
  internal->dim_tot_vac_adm_2 = internal->n_vac;
  internal->dim_tot_vac_adm_ini_1 = internal->n;
  internal->dim_tot_vac_adm_ini_2 = internal->n_vac;
  internal->dim_tot_vac_ini_1 = internal->n;
  internal->dim_tot_vac_ini_2 = internal->n_vac;
  internal->dim_transmisibility_1 = internal->n;
  internal->dim_transmisibility_2 = internal->n_vac;
  internal->dim_transmisibility_3 = internal->n_strain;
  internal->dim_vaccinations_1 = internal->N_steps;
  internal->dim_vaccinations_2 = internal->n;
  internal->dim_vaccinations_3 = internal->n_vac;
  internal->dim_vax_time_step_1 = internal->n;
  internal->dim_vax_time_step_2 = internal->n_vac;
  internal->dim_waning_immunity_vax_1 = internal->n;
  internal->dim_waning_immunity_vax_2 = internal->n_vac;
  internal->dim_waning_immunity_vax_3 = internal->n_strain;
  internal->dim_waning_tmp_1 = internal->n;
  internal->dim_waning_tmp_2 = internal->n_vac;
  internal->spont_behav_change_params = (double*) user_get_array(user, false, internal->spont_behav_change_params, "spont_behav_change_params", NA_REAL, NA_REAL, 1, internal->dim_spont_behav_change_params);
  internal->W = internal->spont_behav_change_params[1] * internal->spont_behav_change_params[2];
  internal->a = internal->spont_behav_change_params[3];
  R_Free(internal->beta_int);
  internal->beta_int = (double*) R_Calloc(internal->dim_beta_int, double);
  R_Free(internal->index);
  internal->index = (double*) R_Calloc(internal->dim_index, double);
  internal->beta_norm = (double*) user_get_array(user, false, internal->beta_norm, "beta_norm", NA_REAL, NA_REAL, 1, internal->dim_beta_norm);
  internal->beta_strain = (double*) user_get_array(user, false, internal->beta_strain, "beta_strain", NA_REAL, NA_REAL, 1, internal->dim_beta_strain);
  internal->dim_A = internal->dim_A_1 * internal->dim_A_2 * internal->dim_A_3;
  internal->dim_A_12 = internal->dim_A_1 * internal->dim_A_2;
  internal->dim_A_ini = internal->dim_A_ini_1 * internal->dim_A_ini_2 * internal->dim_A_ini_3;
  internal->dim_A_ini_12 = internal->dim_A_ini_1 * internal->dim_A_ini_2;
  internal->dim_B_D = internal->dim_B_D_1 * internal->dim_B_D_2 * internal->dim_B_D_3;
  internal->dim_B_D_12 = internal->dim_B_D_1 * internal->dim_B_D_2;
  internal->dim_B_D_H = internal->dim_B_D_H_1 * internal->dim_B_D_H_2 * internal->dim_B_D_H_3;
  internal->dim_B_D_H_12 = internal->dim_B_D_H_1 * internal->dim_B_D_H_2;
  internal->dim_B_D_H_ini = internal->dim_B_D_H_ini_1 * internal->dim_B_D_H_ini_2 * internal->dim_B_D_H_ini_3;
  internal->dim_B_D_H_ini_12 = internal->dim_B_D_H_ini_1 * internal->dim_B_D_H_ini_2;
  internal->dim_B_D_ICU = internal->dim_B_D_ICU_1 * internal->dim_B_D_ICU_2 * internal->dim_B_D_ICU_3;
  internal->dim_B_D_ICU_12 = internal->dim_B_D_ICU_1 * internal->dim_B_D_ICU_2;
  internal->dim_B_D_ICU_ini = internal->dim_B_D_ICU_ini_1 * internal->dim_B_D_ICU_ini_2 * internal->dim_B_D_ICU_ini_3;
  internal->dim_B_D_ICU_ini_12 = internal->dim_B_D_ICU_ini_1 * internal->dim_B_D_ICU_ini_2;
  internal->dim_B_D_ini = internal->dim_B_D_ini_1 * internal->dim_B_D_ini_2 * internal->dim_B_D_ini_3;
  internal->dim_B_D_ini_12 = internal->dim_B_D_ini_1 * internal->dim_B_D_ini_2;
  internal->dim_C = internal->dim_C_1 * internal->dim_C_2;
  internal->dim_D = internal->dim_D_1 * internal->dim_D_2 * internal->dim_D_3;
  internal->dim_D_12 = internal->dim_D_1 * internal->dim_D_2;
  internal->dim_D_ini = internal->dim_D_ini_1 * internal->dim_D_ini_2 * internal->dim_D_ini_3;
  internal->dim_D_ini_12 = internal->dim_D_ini_1 * internal->dim_D_ini_2;
  internal->dim_Ea = internal->dim_Ea_1 * internal->dim_Ea_2 * internal->dim_Ea_3;
  internal->dim_Ea_12 = internal->dim_Ea_1 * internal->dim_Ea_2;
  internal->dim_Ea_ini = internal->dim_Ea_ini_1 * internal->dim_Ea_ini_2 * internal->dim_Ea_ini_3;
  internal->dim_Ea_ini_12 = internal->dim_Ea_ini_1 * internal->dim_Ea_ini_2;
  internal->dim_Es = internal->dim_Es_1 * internal->dim_Es_2 * internal->dim_Es_3;
  internal->dim_Es_12 = internal->dim_Es_1 * internal->dim_Es_2;
  internal->dim_Es_ini = internal->dim_Es_ini_1 * internal->dim_Es_ini_2 * internal->dim_Es_ini_3;
  internal->dim_Es_ini_12 = internal->dim_Es_ini_1 * internal->dim_Es_ini_2;
  internal->dim_H = internal->dim_H_1 * internal->dim_H_2 * internal->dim_H_3;
  internal->dim_H_12 = internal->dim_H_1 * internal->dim_H_2;
  internal->dim_H_ini = internal->dim_H_ini_1 * internal->dim_H_ini_2 * internal->dim_H_ini_3;
  internal->dim_H_ini_12 = internal->dim_H_ini_1 * internal->dim_H_ini_2;
  internal->dim_I = internal->dim_I_1 * internal->dim_I_2 * internal->dim_I_3;
  internal->dim_ICU_H = internal->dim_ICU_H_1 * internal->dim_ICU_H_2 * internal->dim_ICU_H_3;
  internal->dim_ICU_H_12 = internal->dim_ICU_H_1 * internal->dim_ICU_H_2;
  internal->dim_ICU_H_ini = internal->dim_ICU_H_ini_1 * internal->dim_ICU_H_ini_2 * internal->dim_ICU_H_ini_3;
  internal->dim_ICU_H_ini_12 = internal->dim_ICU_H_ini_1 * internal->dim_ICU_H_ini_2;
  internal->dim_ICU_P = internal->dim_ICU_P_1 * internal->dim_ICU_P_2 * internal->dim_ICU_P_3;
  internal->dim_ICU_P_12 = internal->dim_ICU_P_1 * internal->dim_ICU_P_2;
  internal->dim_ICU_P_ini = internal->dim_ICU_P_ini_1 * internal->dim_ICU_P_ini_2 * internal->dim_ICU_P_ini_3;
  internal->dim_ICU_P_ini_12 = internal->dim_ICU_P_ini_1 * internal->dim_ICU_P_ini_2;
  internal->dim_ICU_R = internal->dim_ICU_R_1 * internal->dim_ICU_R_2 * internal->dim_ICU_R_3;
  internal->dim_ICU_R_12 = internal->dim_ICU_R_1 * internal->dim_ICU_R_2;
  internal->dim_ICU_R_ini = internal->dim_ICU_R_ini_1 * internal->dim_ICU_R_ini_2 * internal->dim_ICU_R_ini_3;
  internal->dim_ICU_R_ini_12 = internal->dim_ICU_R_ini_1 * internal->dim_ICU_R_ini_2;
  internal->dim_I_12 = internal->dim_I_1 * internal->dim_I_2;
  internal->dim_I_imp_ini = internal->dim_I_imp_ini_1 * internal->dim_I_imp_ini_2 * internal->dim_I_imp_ini_3;
  internal->dim_I_imp_ini_12 = internal->dim_I_imp_ini_1 * internal->dim_I_imp_ini_2;
  internal->dim_I_ini = internal->dim_I_ini_1 * internal->dim_I_ini_2 * internal->dim_I_ini_3;
  internal->dim_I_ini_12 = internal->dim_I_ini_1 * internal->dim_I_ini_2;
  internal->dim_N = internal->dim_N_1 * internal->dim_N_2;
  internal->dim_N_imp = internal->dim_N_imp_1 * internal->dim_N_imp_2 * internal->dim_N_imp_3;
  internal->dim_N_imp_12 = internal->dim_N_imp_1 * internal->dim_N_imp_2;
  internal->dim_N_imp_non_zero = internal->dim_N_imp_non_zero_1 * internal->dim_N_imp_non_zero_2 * internal->dim_N_imp_non_zero_3;
  internal->dim_N_imp_non_zero_12 = internal->dim_N_imp_non_zero_1 * internal->dim_N_imp_non_zero_2;
  internal->dim_P = internal->dim_P_1 * internal->dim_P_2 * internal->dim_P_3;
  internal->dim_P_12 = internal->dim_P_1 * internal->dim_P_2;
  internal->dim_P_ini = internal->dim_P_ini_1 * internal->dim_P_ini_2 * internal->dim_P_ini_3;
  internal->dim_P_ini_12 = internal->dim_P_ini_1 * internal->dim_P_ini_2;
  internal->dim_R = internal->dim_R_1 * internal->dim_R_2 * internal->dim_R_3;
  internal->dim_R_12 = internal->dim_R_1 * internal->dim_R_2;
  internal->dim_R_ini = internal->dim_R_ini_1 * internal->dim_R_ini_2 * internal->dim_R_ini_3;
  internal->dim_R_ini_12 = internal->dim_R_ini_1 * internal->dim_R_ini_2;
  internal->dim_S = internal->dim_S_1 * internal->dim_S_2;
  internal->dim_S_ini = internal->dim_S_ini_1 * internal->dim_S_ini_2;
  internal->dim_T_waning = internal->dim_T_waning_1 * internal->dim_T_waning_2;
  internal->dim_asympt_frac = internal->dim_asympt_frac_1 * internal->dim_asympt_frac_2 * internal->dim_asympt_frac_3;
  internal->dim_asympt_frac_12 = internal->dim_asympt_frac_1 * internal->dim_asympt_frac_2;
  internal->dim_beta = internal->dim_beta_1 * internal->dim_beta_2;
  internal->dim_beta_day = internal->dim_beta_day_1 * internal->dim_beta_day_2;
  internal->dim_beta_reduction = internal->dim_beta_reduction_1 * internal->dim_beta_reduction_2;
  internal->dim_beta_spont_behaviour = internal->dim_beta_spont_behaviour_1 * internal->dim_beta_spont_behaviour_2;
  internal->dim_contact_change = internal->dim_contact_change_1 * internal->dim_contact_change_2;
  internal->dim_cross_protection = internal->dim_cross_protection_1 * internal->dim_cross_protection_2;
  internal->dim_expected_health_loss = internal->dim_expected_health_loss_1 * internal->dim_expected_health_loss_2;
  internal->dim_hosp_prob = internal->dim_hosp_prob_1 * internal->dim_hosp_prob_2 * internal->dim_hosp_prob_3;
  internal->dim_hosp_prob_12 = internal->dim_hosp_prob_1 * internal->dim_hosp_prob_2;
  internal->dim_icu_prob = internal->dim_icu_prob_1 * internal->dim_icu_prob_2 * internal->dim_icu_prob_3;
  internal->dim_icu_prob_12 = internal->dim_icu_prob_1 * internal->dim_icu_prob_2;
  internal->dim_import_vec = internal->dim_import_vec_1 * internal->dim_import_vec_2 * internal->dim_import_vec_3 * internal->dim_import_vec_4;
  internal->dim_import_vec_12 = internal->dim_import_vec_1 * internal->dim_import_vec_2;
  internal->dim_import_vec_123 = internal->dim_import_vec_1 * internal->dim_import_vec_2 * internal->dim_import_vec_3;
  internal->dim_kernel = internal->dim_kernel_1 * internal->dim_kernel_2;
  internal->dim_lambda_ij = internal->dim_lambda_ij_1 * internal->dim_lambda_ij_2 * internal->dim_lambda_ij_3 * internal->dim_lambda_ij_4 * internal->dim_lambda_ij_5;
  internal->dim_lambda_ij_12 = internal->dim_lambda_ij_1 * internal->dim_lambda_ij_2;
  internal->dim_lambda_ij_123 = internal->dim_lambda_ij_1 * internal->dim_lambda_ij_2 * internal->dim_lambda_ij_3;
  internal->dim_lambda_ij_1234 = internal->dim_lambda_ij_1 * internal->dim_lambda_ij_2 * internal->dim_lambda_ij_3 * internal->dim_lambda_ij_4;
  internal->dim_length_hosp = internal->dim_length_hosp_1 * internal->dim_length_hosp_2 * internal->dim_length_hosp_3;
  internal->dim_length_hosp_12 = internal->dim_length_hosp_1 * internal->dim_length_hosp_2;
  internal->dim_length_icu = internal->dim_length_icu_1 * internal->dim_length_icu_2 * internal->dim_length_icu_3;
  internal->dim_length_icu_12 = internal->dim_length_icu_1 * internal->dim_length_icu_2;
  internal->dim_mixing_matrix = internal->dim_mixing_matrix_1 * internal->dim_mixing_matrix_2;
  internal->dim_n_AR = internal->dim_n_AR_1 * internal->dim_n_AR_2 * internal->dim_n_AR_3;
  internal->dim_n_AR_12 = internal->dim_n_AR_1 * internal->dim_n_AR_2;
  internal->dim_n_B_D_D = internal->dim_n_B_D_D_1 * internal->dim_n_B_D_D_2 * internal->dim_n_B_D_D_3;
  internal->dim_n_B_D_D_12 = internal->dim_n_B_D_D_1 * internal->dim_n_B_D_D_2;
  internal->dim_n_B_H_D = internal->dim_n_B_H_D_1 * internal->dim_n_B_H_D_2 * internal->dim_n_B_H_D_3;
  internal->dim_n_B_H_D_12 = internal->dim_n_B_H_D_1 * internal->dim_n_B_H_D_2;
  internal->dim_n_B_ICU_D = internal->dim_n_B_ICU_D_1 * internal->dim_n_B_ICU_D_2 * internal->dim_n_B_ICU_D_3;
  internal->dim_n_B_ICU_D_12 = internal->dim_n_B_ICU_D_1 * internal->dim_n_B_ICU_D_2;
  internal->dim_n_EaA = internal->dim_n_EaA_1 * internal->dim_n_EaA_2 * internal->dim_n_EaA_3;
  internal->dim_n_EaA_12 = internal->dim_n_EaA_1 * internal->dim_n_EaA_2;
  internal->dim_n_EsI = internal->dim_n_EsI_1 * internal->dim_n_EsI_2 * internal->dim_n_EsI_3;
  internal->dim_n_EsI_12 = internal->dim_n_EsI_1 * internal->dim_n_EsI_2;
  internal->dim_n_H = internal->dim_n_H_1 * internal->dim_n_H_2 * internal->dim_n_H_3;
  internal->dim_n_HD = internal->dim_n_HD_1 * internal->dim_n_HD_2 * internal->dim_n_HD_3;
  internal->dim_n_HD_12 = internal->dim_n_HD_1 * internal->dim_n_HD_2;
  internal->dim_n_HR = internal->dim_n_HR_1 * internal->dim_n_HR_2 * internal->dim_n_HR_3;
  internal->dim_n_HR_12 = internal->dim_n_HR_1 * internal->dim_n_HR_2;
  internal->dim_n_H_12 = internal->dim_n_H_1 * internal->dim_n_H_2;
  internal->dim_n_I = internal->dim_n_I_1 * internal->dim_n_I_2 * internal->dim_n_I_3;
  internal->dim_n_ICU_D = internal->dim_n_ICU_D_1 * internal->dim_n_ICU_D_2 * internal->dim_n_ICU_D_3;
  internal->dim_n_ICU_D_12 = internal->dim_n_ICU_D_1 * internal->dim_n_ICU_D_2;
  internal->dim_n_ICU_HR = internal->dim_n_ICU_HR_1 * internal->dim_n_ICU_HR_2 * internal->dim_n_ICU_HR_3;
  internal->dim_n_ICU_HR_12 = internal->dim_n_ICU_HR_1 * internal->dim_n_ICU_HR_2;
  internal->dim_n_ICU_P = internal->dim_n_ICU_P_1 * internal->dim_n_ICU_P_2 * internal->dim_n_ICU_P_3;
  internal->dim_n_ICU_P_12 = internal->dim_n_ICU_P_1 * internal->dim_n_ICU_P_2;
  internal->dim_n_ICU_R = internal->dim_n_ICU_R_1 * internal->dim_n_ICU_R_2 * internal->dim_n_ICU_R_3;
  internal->dim_n_ICU_RP = internal->dim_n_ICU_RP_1 * internal->dim_n_ICU_RP_2 * internal->dim_n_ICU_RP_3;
  internal->dim_n_ICU_RP_12 = internal->dim_n_ICU_RP_1 * internal->dim_n_ICU_RP_2;
  internal->dim_n_ICU_R_12 = internal->dim_n_ICU_R_1 * internal->dim_n_ICU_R_2;
  internal->dim_n_ID = internal->dim_n_ID_1 * internal->dim_n_ID_2 * internal->dim_n_ID_3;
  internal->dim_n_ID_12 = internal->dim_n_ID_1 * internal->dim_n_ID_2;
  internal->dim_n_IH = internal->dim_n_IH_1 * internal->dim_n_IH_2 * internal->dim_n_IH_3;
  internal->dim_n_IH_12 = internal->dim_n_IH_1 * internal->dim_n_IH_2;
  internal->dim_n_IICU = internal->dim_n_IICU_1 * internal->dim_n_IICU_2 * internal->dim_n_IICU_3;
  internal->dim_n_IICU_12 = internal->dim_n_IICU_1 * internal->dim_n_IICU_2;
  internal->dim_n_IR = internal->dim_n_IR_1 * internal->dim_n_IR_2 * internal->dim_n_IR_3;
  internal->dim_n_IR_12 = internal->dim_n_IR_1 * internal->dim_n_IR_2;
  internal->dim_n_I_12 = internal->dim_n_I_1 * internal->dim_n_I_2;
  internal->dim_n_PI = internal->dim_n_PI_1 * internal->dim_n_PI_2 * internal->dim_n_PI_3;
  internal->dim_n_PI_12 = internal->dim_n_PI_1 * internal->dim_n_PI_2;
  internal->dim_n_RS = internal->dim_n_RS_1 * internal->dim_n_RS_2 * internal->dim_n_RS_3;
  internal->dim_n_RS_12 = internal->dim_n_RS_1 * internal->dim_n_RS_2;
  internal->dim_n_SE = internal->dim_n_SE_1 * internal->dim_n_SE_2 * internal->dim_n_SE_3;
  internal->dim_n_SE_12 = internal->dim_n_SE_1 * internal->dim_n_SE_2;
  internal->dim_n_SE_tot = internal->dim_n_SE_tot_1 * internal->dim_n_SE_tot_2;
  internal->dim_n_SEa = internal->dim_n_SEa_1 * internal->dim_n_SEa_2 * internal->dim_n_SEa_3;
  internal->dim_n_SEa_12 = internal->dim_n_SEa_1 * internal->dim_n_SEa_2;
  internal->dim_n_SEi = internal->dim_n_SEi_1 * internal->dim_n_SEi_2 * internal->dim_n_SEi_3;
  internal->dim_n_SEi_12 = internal->dim_n_SEi_1 * internal->dim_n_SEi_2;
  internal->dim_n_vac_help = internal->dim_n_vac_help_1 * internal->dim_n_vac_help_2;
  internal->dim_n_vac_now = internal->dim_n_vac_now_1 * internal->dim_n_vac_now_2;
  internal->dim_new_infs = internal->dim_new_infs_1 * internal->dim_new_infs_2 * internal->dim_new_infs_3;
  internal->dim_new_infs_12 = internal->dim_new_infs_1 * internal->dim_new_infs_2;
  internal->dim_p_SE = internal->dim_p_SE_1 * internal->dim_p_SE_2 * internal->dim_p_SE_3;
  internal->dim_p_SE_12 = internal->dim_p_SE_1 * internal->dim_p_SE_2;
  internal->dim_pa = internal->dim_pa_1 * internal->dim_pa_2 * internal->dim_pa_3;
  internal->dim_pa_12 = internal->dim_pa_1 * internal->dim_pa_2;
  internal->dim_post_icu = internal->dim_post_icu_1 * internal->dim_post_icu_2 * internal->dim_post_icu_3;
  internal->dim_post_icu_12 = internal->dim_post_icu_1 * internal->dim_post_icu_2;
  internal->dim_pre_icu = internal->dim_pre_icu_1 * internal->dim_pre_icu_2 * internal->dim_pre_icu_3;
  internal->dim_pre_icu_12 = internal->dim_pre_icu_1 * internal->dim_pre_icu_2;
  internal->dim_prob_death_hosp = internal->dim_prob_death_hosp_1 * internal->dim_prob_death_hosp_2 * internal->dim_prob_death_hosp_3;
  internal->dim_prob_death_hosp_12 = internal->dim_prob_death_hosp_1 * internal->dim_prob_death_hosp_2;
  internal->dim_prob_death_icu = internal->dim_prob_death_icu_1 * internal->dim_prob_death_icu_2 * internal->dim_prob_death_icu_3;
  internal->dim_prob_death_icu_12 = internal->dim_prob_death_icu_1 * internal->dim_prob_death_icu_2;
  internal->dim_prob_death_non_hosp = internal->dim_prob_death_non_hosp_1 * internal->dim_prob_death_non_hosp_2 * internal->dim_prob_death_non_hosp_3;
  internal->dim_prob_death_non_hosp_12 = internal->dim_prob_death_non_hosp_1 * internal->dim_prob_death_non_hosp_2;
  internal->dim_scale_spont = internal->dim_scale_spont_1 * internal->dim_scale_spont_2;
  internal->dim_susceptibility_asymp = internal->dim_susceptibility_asymp_1 * internal->dim_susceptibility_asymp_2 * internal->dim_susceptibility_asymp_3;
  internal->dim_susceptibility_asymp_12 = internal->dim_susceptibility_asymp_1 * internal->dim_susceptibility_asymp_2;
  internal->dim_susceptibility_symp = internal->dim_susceptibility_symp_1 * internal->dim_susceptibility_symp_2 * internal->dim_susceptibility_symp_3;
  internal->dim_susceptibility_symp_12 = internal->dim_susceptibility_symp_1 * internal->dim_susceptibility_symp_2;
  internal->dim_symp_asymp_effect = internal->dim_symp_asymp_effect_1 * internal->dim_symp_asymp_effect_2 * internal->dim_symp_asymp_effect_3;
  internal->dim_symp_asymp_effect_12 = internal->dim_symp_asymp_effect_1 * internal->dim_symp_asymp_effect_2;
  internal->dim_symp_trans = internal->dim_symp_trans_1 * internal->dim_symp_trans_2 * internal->dim_symp_trans_3;
  internal->dim_symp_trans_12 = internal->dim_symp_trans_1 * internal->dim_symp_trans_2;
  internal->dim_sympt_frac = internal->dim_sympt_frac_1 * internal->dim_sympt_frac_2 * internal->dim_sympt_frac_3;
  internal->dim_sympt_frac_12 = internal->dim_sympt_frac_1 * internal->dim_sympt_frac_2;
  internal->dim_tot_hosp = internal->dim_tot_hosp_1 * internal->dim_tot_hosp_2 * internal->dim_tot_hosp_3;
  internal->dim_tot_hosp_12 = internal->dim_tot_hosp_1 * internal->dim_tot_hosp_2;
  internal->dim_tot_hosp_ini = internal->dim_tot_hosp_ini_1 * internal->dim_tot_hosp_ini_2 * internal->dim_tot_hosp_ini_3;
  internal->dim_tot_hosp_ini_12 = internal->dim_tot_hosp_ini_1 * internal->dim_tot_hosp_ini_2;
  internal->dim_tot_infected = internal->dim_tot_infected_1 * internal->dim_tot_infected_2 * internal->dim_tot_infected_3;
  internal->dim_tot_infected_12 = internal->dim_tot_infected_1 * internal->dim_tot_infected_2;
  internal->dim_tot_infected_ini = internal->dim_tot_infected_ini_1 * internal->dim_tot_infected_ini_2 * internal->dim_tot_infected_ini_3;
  internal->dim_tot_infected_ini_12 = internal->dim_tot_infected_ini_1 * internal->dim_tot_infected_ini_2;
  internal->dim_tot_resp = internal->dim_tot_resp_1 * internal->dim_tot_resp_2 * internal->dim_tot_resp_3;
  internal->dim_tot_resp_12 = internal->dim_tot_resp_1 * internal->dim_tot_resp_2;
  internal->dim_tot_resp_ini = internal->dim_tot_resp_ini_1 * internal->dim_tot_resp_ini_2 * internal->dim_tot_resp_ini_3;
  internal->dim_tot_resp_ini_12 = internal->dim_tot_resp_ini_1 * internal->dim_tot_resp_ini_2;
  internal->dim_tot_vac = internal->dim_tot_vac_1 * internal->dim_tot_vac_2;
  internal->dim_tot_vac_adm = internal->dim_tot_vac_adm_1 * internal->dim_tot_vac_adm_2;
  internal->dim_tot_vac_adm_ini = internal->dim_tot_vac_adm_ini_1 * internal->dim_tot_vac_adm_ini_2;
  internal->dim_tot_vac_ini = internal->dim_tot_vac_ini_1 * internal->dim_tot_vac_ini_2;
  internal->dim_transmisibility = internal->dim_transmisibility_1 * internal->dim_transmisibility_2 * internal->dim_transmisibility_3;
  internal->dim_transmisibility_12 = internal->dim_transmisibility_1 * internal->dim_transmisibility_2;
  internal->dim_vaccinations = internal->dim_vaccinations_1 * internal->dim_vaccinations_2 * internal->dim_vaccinations_3;
  internal->dim_vaccinations_12 = internal->dim_vaccinations_1 * internal->dim_vaccinations_2;
  internal->dim_vax_time_step = internal->dim_vax_time_step_1 * internal->dim_vax_time_step_2;
  internal->dim_waning_immunity_vax = internal->dim_waning_immunity_vax_1 * internal->dim_waning_immunity_vax_2 * internal->dim_waning_immunity_vax_3;
  internal->dim_waning_immunity_vax_12 = internal->dim_waning_immunity_vax_1 * internal->dim_waning_immunity_vax_2;
  internal->dim_waning_tmp = internal->dim_waning_tmp_1 * internal->dim_waning_tmp_2;
  internal->interpolation_time = (double*) user_get_array(user, false, internal->interpolation_time, "interpolation_time", NA_REAL, NA_REAL, 1, internal->dim_interpolation_time);
  internal->A_ini = (double*) user_get_array(user, false, internal->A_ini, "A_ini", NA_REAL, NA_REAL, 3, internal->dim_A_ini_1, internal->dim_A_ini_2, internal->dim_A_ini_3);
  internal->B_D_H_ini = (double*) user_get_array(user, false, internal->B_D_H_ini, "B_D_H_ini", NA_REAL, NA_REAL, 3, internal->dim_B_D_H_ini_1, internal->dim_B_D_H_ini_2, internal->dim_B_D_H_ini_3);
  internal->B_D_ICU_ini = (double*) user_get_array(user, false, internal->B_D_ICU_ini, "B_D_ICU_ini", NA_REAL, NA_REAL, 3, internal->dim_B_D_ICU_ini_1, internal->dim_B_D_ICU_ini_2, internal->dim_B_D_ICU_ini_3);
  internal->B_D_ini = (double*) user_get_array(user, false, internal->B_D_ini, "B_D_ini", NA_REAL, NA_REAL, 3, internal->dim_B_D_ini_1, internal->dim_B_D_ini_2, internal->dim_B_D_ini_3);
  internal->D_ini = (double*) user_get_array(user, false, internal->D_ini, "D_ini", NA_REAL, NA_REAL, 3, internal->dim_D_ini_1, internal->dim_D_ini_2, internal->dim_D_ini_3);
  internal->Ea_ini = (double*) user_get_array(user, false, internal->Ea_ini, "Ea_ini", NA_REAL, NA_REAL, 3, internal->dim_Ea_ini_1, internal->dim_Ea_ini_2, internal->dim_Ea_ini_3);
  internal->Es_ini = (double*) user_get_array(user, false, internal->Es_ini, "Es_ini", NA_REAL, NA_REAL, 3, internal->dim_Es_ini_1, internal->dim_Es_ini_2, internal->dim_Es_ini_3);
  internal->H_ini = (double*) user_get_array(user, false, internal->H_ini, "H_ini", NA_REAL, NA_REAL, 3, internal->dim_H_ini_1, internal->dim_H_ini_2, internal->dim_H_ini_3);
  internal->ICU_H_ini = (double*) user_get_array(user, false, internal->ICU_H_ini, "ICU_H_ini", NA_REAL, NA_REAL, 3, internal->dim_ICU_H_ini_1, internal->dim_ICU_H_ini_2, internal->dim_ICU_H_ini_3);
  internal->ICU_P_ini = (double*) user_get_array(user, false, internal->ICU_P_ini, "ICU_P_ini", NA_REAL, NA_REAL, 3, internal->dim_ICU_P_ini_1, internal->dim_ICU_P_ini_2, internal->dim_ICU_P_ini_3);
  internal->ICU_R_ini = (double*) user_get_array(user, false, internal->ICU_R_ini, "ICU_R_ini", NA_REAL, NA_REAL, 3, internal->dim_ICU_R_ini_1, internal->dim_ICU_R_ini_2, internal->dim_ICU_R_ini_3);
  internal->I_imp_ini = (double*) user_get_array(user, false, internal->I_imp_ini, "I_imp_ini", NA_REAL, NA_REAL, 3, internal->dim_I_imp_ini_1, internal->dim_I_imp_ini_2, internal->dim_I_imp_ini_3);
  internal->I_ini = (double*) user_get_array(user, false, internal->I_ini, "I_ini", NA_REAL, NA_REAL, 3, internal->dim_I_ini_1, internal->dim_I_ini_2, internal->dim_I_ini_3);
  internal->P_ini = (double*) user_get_array(user, false, internal->P_ini, "P_ini", NA_REAL, NA_REAL, 3, internal->dim_P_ini_1, internal->dim_P_ini_2, internal->dim_P_ini_3);
  internal->R_ini = (double*) user_get_array(user, false, internal->R_ini, "R_ini", NA_REAL, NA_REAL, 3, internal->dim_R_ini_1, internal->dim_R_ini_2, internal->dim_R_ini_3);
  internal->S_ini = (double*) user_get_array(user, false, internal->S_ini, "S_ini", NA_REAL, NA_REAL, 2, internal->dim_S_ini_1, internal->dim_S_ini_2);
  internal->T_waning = (double*) user_get_array(user, false, internal->T_waning, "T_waning", NA_REAL, NA_REAL, 2, internal->dim_T_waning_1, internal->dim_T_waning_2);
  R_Free(internal->C);
  internal->C = (double*) R_Calloc(internal->dim_C, double);
  R_Free(internal->N);
  internal->N = (double*) R_Calloc(internal->dim_N, double);
  R_Free(internal->N_imp);
  internal->N_imp = (double*) R_Calloc(internal->dim_N_imp, double);
  R_Free(internal->N_imp_non_zero);
  internal->N_imp_non_zero = (double*) R_Calloc(internal->dim_N_imp_non_zero, double);
  R_Free(internal->beta);
  internal->beta = (double*) R_Calloc(internal->dim_beta, double);
  R_Free(internal->beta_reduction);
  internal->beta_reduction = (double*) R_Calloc(internal->dim_beta_reduction, double);
  R_Free(internal->beta_spont_behaviour);
  internal->beta_spont_behaviour = (double*) R_Calloc(internal->dim_beta_spont_behaviour, double);
  R_Free(internal->contact_change);
  internal->contact_change = (double*) R_Calloc(internal->dim_contact_change, double);
  R_Free(internal->initial_A);
  internal->initial_A = (double*) R_Calloc(internal->dim_A, double);
  R_Free(internal->initial_B_D);
  internal->initial_B_D = (double*) R_Calloc(internal->dim_B_D, double);
  R_Free(internal->initial_B_D_H);
  internal->initial_B_D_H = (double*) R_Calloc(internal->dim_B_D_H, double);
  R_Free(internal->initial_B_D_ICU);
  internal->initial_B_D_ICU = (double*) R_Calloc(internal->dim_B_D_ICU, double);
  R_Free(internal->initial_D);
  internal->initial_D = (double*) R_Calloc(internal->dim_D, double);
  R_Free(internal->initial_Ea);
  internal->initial_Ea = (double*) R_Calloc(internal->dim_Ea, double);
  R_Free(internal->initial_Es);
  internal->initial_Es = (double*) R_Calloc(internal->dim_Es, double);
  R_Free(internal->initial_H);
  internal->initial_H = (double*) R_Calloc(internal->dim_H, double);
  R_Free(internal->initial_I);
  internal->initial_I = (double*) R_Calloc(internal->dim_I, double);
  R_Free(internal->initial_ICU_H);
  internal->initial_ICU_H = (double*) R_Calloc(internal->dim_ICU_H, double);
  R_Free(internal->initial_ICU_P);
  internal->initial_ICU_P = (double*) R_Calloc(internal->dim_ICU_P, double);
  R_Free(internal->initial_ICU_R);
  internal->initial_ICU_R = (double*) R_Calloc(internal->dim_ICU_R, double);
  R_Free(internal->initial_P);
  internal->initial_P = (double*) R_Calloc(internal->dim_P, double);
  R_Free(internal->initial_R);
  internal->initial_R = (double*) R_Calloc(internal->dim_R, double);
  R_Free(internal->initial_S);
  internal->initial_S = (double*) R_Calloc(internal->dim_S, double);
  R_Free(internal->initial_scale_spont);
  internal->initial_scale_spont = (double*) R_Calloc(internal->dim_scale_spont, double);
  R_Free(internal->initial_tot_hosp);
  internal->initial_tot_hosp = (double*) R_Calloc(internal->dim_tot_hosp, double);
  R_Free(internal->initial_tot_infected);
  internal->initial_tot_infected = (double*) R_Calloc(internal->dim_tot_infected, double);
  R_Free(internal->initial_tot_resp);
  internal->initial_tot_resp = (double*) R_Calloc(internal->dim_tot_resp, double);
  R_Free(internal->initial_tot_vac);
  internal->initial_tot_vac = (double*) R_Calloc(internal->dim_tot_vac, double);
  R_Free(internal->initial_tot_vac_adm);
  internal->initial_tot_vac_adm = (double*) R_Calloc(internal->dim_tot_vac_adm, double);
  R_Free(internal->kernel);
  internal->kernel = (double*) R_Calloc(internal->dim_kernel, double);
  R_Free(internal->lambda_ij);
  internal->lambda_ij = (double*) R_Calloc(internal->dim_lambda_ij, double);
  R_Free(internal->n_AR);
  internal->n_AR = (double*) R_Calloc(internal->dim_n_AR, double);
  R_Free(internal->n_B_D_D);
  internal->n_B_D_D = (double*) R_Calloc(internal->dim_n_B_D_D, double);
  R_Free(internal->n_B_H_D);
  internal->n_B_H_D = (double*) R_Calloc(internal->dim_n_B_H_D, double);
  R_Free(internal->n_B_ICU_D);
  internal->n_B_ICU_D = (double*) R_Calloc(internal->dim_n_B_ICU_D, double);
  R_Free(internal->n_EaA);
  internal->n_EaA = (double*) R_Calloc(internal->dim_n_EaA, double);
  R_Free(internal->n_EsI);
  internal->n_EsI = (double*) R_Calloc(internal->dim_n_EsI, double);
  R_Free(internal->n_H);
  internal->n_H = (double*) R_Calloc(internal->dim_n_H, double);
  R_Free(internal->n_HD);
  internal->n_HD = (double*) R_Calloc(internal->dim_n_HD, double);
  R_Free(internal->n_HR);
  internal->n_HR = (double*) R_Calloc(internal->dim_n_HR, double);
  R_Free(internal->n_I);
  internal->n_I = (double*) R_Calloc(internal->dim_n_I, double);
  R_Free(internal->n_ICU_D);
  internal->n_ICU_D = (double*) R_Calloc(internal->dim_n_ICU_D, double);
  R_Free(internal->n_ICU_HR);
  internal->n_ICU_HR = (double*) R_Calloc(internal->dim_n_ICU_HR, double);
  R_Free(internal->n_ICU_P);
  internal->n_ICU_P = (double*) R_Calloc(internal->dim_n_ICU_P, double);
  R_Free(internal->n_ICU_R);
  internal->n_ICU_R = (double*) R_Calloc(internal->dim_n_ICU_R, double);
  R_Free(internal->n_ICU_RP);
  internal->n_ICU_RP = (double*) R_Calloc(internal->dim_n_ICU_RP, double);
  R_Free(internal->n_ID);
  internal->n_ID = (double*) R_Calloc(internal->dim_n_ID, double);
  R_Free(internal->n_IH);
  internal->n_IH = (double*) R_Calloc(internal->dim_n_IH, double);
  R_Free(internal->n_IICU);
  internal->n_IICU = (double*) R_Calloc(internal->dim_n_IICU, double);
  R_Free(internal->n_IR);
  internal->n_IR = (double*) R_Calloc(internal->dim_n_IR, double);
  R_Free(internal->n_PI);
  internal->n_PI = (double*) R_Calloc(internal->dim_n_PI, double);
  R_Free(internal->n_RS);
  internal->n_RS = (double*) R_Calloc(internal->dim_n_RS, double);
  R_Free(internal->n_SE);
  internal->n_SE = (double*) R_Calloc(internal->dim_n_SE, double);
  R_Free(internal->n_SE_tot);
  internal->n_SE_tot = (double*) R_Calloc(internal->dim_n_SE_tot, double);
  R_Free(internal->n_SEa);
  internal->n_SEa = (double*) R_Calloc(internal->dim_n_SEa, double);
  R_Free(internal->n_SEi);
  internal->n_SEi = (double*) R_Calloc(internal->dim_n_SEi, double);
  R_Free(internal->n_vac_help);
  internal->n_vac_help = (double*) R_Calloc(internal->dim_n_vac_help, double);
  R_Free(internal->n_vac_now);
  internal->n_vac_now = (double*) R_Calloc(internal->dim_n_vac_now, double);
  R_Free(internal->new_infs);
  internal->new_infs = (double*) R_Calloc(internal->dim_new_infs, double);
  R_Free(internal->p_SE);
  internal->p_SE = (double*) R_Calloc(internal->dim_p_SE, double);
  R_Free(internal->pa);
  internal->pa = (double*) R_Calloc(internal->dim_pa, double);
  R_Free(internal->symp_asymp_effect);
  internal->symp_asymp_effect = (double*) R_Calloc(internal->dim_symp_asymp_effect, double);
  R_Free(internal->vax_time_step);
  internal->vax_time_step = (double*) R_Calloc(internal->dim_vax_time_step, double);
  R_Free(internal->waning_tmp);
  internal->waning_tmp = (double*) R_Calloc(internal->dim_waning_tmp, double);
  internal->asympt_frac = (double*) user_get_array(user, false, internal->asympt_frac, "asympt_frac", NA_REAL, NA_REAL, 3, internal->dim_asympt_frac_1, internal->dim_asympt_frac_2, internal->dim_asympt_frac_3);
  internal->beta_day = (double*) user_get_array(user, false, internal->beta_day, "beta_day", NA_REAL, NA_REAL, 2, internal->dim_beta_day_1, internal->dim_beta_day_2);
  internal->cross_protection = (double*) user_get_array(user, false, internal->cross_protection, "cross_protection", NA_REAL, NA_REAL, 2, internal->dim_cross_protection_1, internal->dim_cross_protection_2);
  internal->expected_health_loss = (double*) user_get_array(user, false, internal->expected_health_loss, "expected_health_loss", NA_REAL, NA_REAL, 2, internal->dim_expected_health_loss_1, internal->dim_expected_health_loss_2);
  internal->hosp_prob = (double*) user_get_array(user, false, internal->hosp_prob, "hosp_prob", NA_REAL, NA_REAL, 3, internal->dim_hosp_prob_1, internal->dim_hosp_prob_2, internal->dim_hosp_prob_3);
  internal->icu_prob = (double*) user_get_array(user, false, internal->icu_prob, "icu_prob", NA_REAL, NA_REAL, 3, internal->dim_icu_prob_1, internal->dim_icu_prob_2, internal->dim_icu_prob_3);
  internal->import_vec = (double*) user_get_array(user, false, internal->import_vec, "import_vec", NA_REAL, NA_REAL, 4, internal->dim_import_vec_1, internal->dim_import_vec_2, internal->dim_import_vec_3, internal->dim_import_vec_4);
  for (int i = 1; i <= internal->dim_index; ++i) {
    internal->index[i - 1] = (int) ((i - 1) / (double) internal->vac_struct_length) + 1;
  }
  for (int i = 1; i <= internal->dim_scale_spont_1; ++i) {
    for (int j = 1; j <= internal->dim_scale_spont_2; ++j) {
      internal->initial_scale_spont[i - 1 + internal->dim_scale_spont_1 * (j - 1)] = 1;
    }
  }
  internal->length_hosp = (double*) user_get_array(user, false, internal->length_hosp, "length_hosp", NA_REAL, NA_REAL, 3, internal->dim_length_hosp_1, internal->dim_length_hosp_2, internal->dim_length_hosp_3);
  internal->length_icu = (double*) user_get_array(user, false, internal->length_icu, "length_icu", NA_REAL, NA_REAL, 3, internal->dim_length_icu_1, internal->dim_length_icu_2, internal->dim_length_icu_3);
  internal->mixing_matrix = (double*) user_get_array(user, false, internal->mixing_matrix, "mixing_matrix", NA_REAL, NA_REAL, 2, internal->dim_mixing_matrix_1, internal->dim_mixing_matrix_2);
  internal->offset_output_N = internal->dim_beta + internal->dim_beta_spont_behaviour + internal->dim_contact_change + 1;
  internal->offset_output_beta = internal->dim_beta_spont_behaviour + internal->dim_contact_change + 1;
  internal->offset_output_beta_spont_behaviour = internal->dim_contact_change + 1;
  internal->offset_variable_A = internal->dim_Ea + internal->dim_Es + internal->dim_I + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_B_D = internal->dim_A + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_B_D_H = internal->dim_A + internal->dim_B_D + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_B_D_ICU = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_D = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_R + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_Ea = internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_Es = internal->dim_Ea + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_H = internal->dim_A + internal->dim_Ea + internal->dim_Es + internal->dim_I + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_I = internal->dim_Ea + internal->dim_Es + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_ICU_H = internal->dim_A + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_ICU_P = internal->dim_A + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_R + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_ICU_R = internal->dim_A + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_P = internal->dim_Ea + internal->dim_Es + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_R = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_S = internal->dim_scale_spont + 1;
  internal->offset_variable_tot_hosp = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_D + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_R + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_infected + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_tot_infected = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_D + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_R + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_tot_resp = internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_D + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_R + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_hosp + internal->dim_tot_infected + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1;
  internal->offset_variable_tot_vac = internal->dim_S + internal->dim_scale_spont + 1;
  internal->offset_variable_tot_vac_adm = internal->dim_S + internal->dim_scale_spont + internal->dim_tot_vac + 1;
  internal->post_icu = (double*) user_get_array(user, false, internal->post_icu, "post_icu", NA_REAL, NA_REAL, 3, internal->dim_post_icu_1, internal->dim_post_icu_2, internal->dim_post_icu_3);
  internal->pre_icu = (double*) user_get_array(user, false, internal->pre_icu, "pre_icu", NA_REAL, NA_REAL, 3, internal->dim_pre_icu_1, internal->dim_pre_icu_2, internal->dim_pre_icu_3);
  internal->prob_death_hosp = (double*) user_get_array(user, false, internal->prob_death_hosp, "prob_death_hosp", NA_REAL, NA_REAL, 3, internal->dim_prob_death_hosp_1, internal->dim_prob_death_hosp_2, internal->dim_prob_death_hosp_3);
  internal->prob_death_icu = (double*) user_get_array(user, false, internal->prob_death_icu, "prob_death_icu", NA_REAL, NA_REAL, 3, internal->dim_prob_death_icu_1, internal->dim_prob_death_icu_2, internal->dim_prob_death_icu_3);
  internal->prob_death_non_hosp = (double*) user_get_array(user, false, internal->prob_death_non_hosp, "prob_death_non_hosp", NA_REAL, NA_REAL, 3, internal->dim_prob_death_non_hosp_1, internal->dim_prob_death_non_hosp_2, internal->dim_prob_death_non_hosp_3);
  internal->susceptibility_asymp = (double*) user_get_array(user, false, internal->susceptibility_asymp, "susceptibility_asymp", NA_REAL, NA_REAL, 3, internal->dim_susceptibility_asymp_1, internal->dim_susceptibility_asymp_2, internal->dim_susceptibility_asymp_3);
  internal->susceptibility_symp = (double*) user_get_array(user, false, internal->susceptibility_symp, "susceptibility_symp", NA_REAL, NA_REAL, 3, internal->dim_susceptibility_symp_1, internal->dim_susceptibility_symp_2, internal->dim_susceptibility_symp_3);
  internal->symp_trans = (double*) user_get_array(user, false, internal->symp_trans, "symp_trans", NA_REAL, NA_REAL, 3, internal->dim_symp_trans_1, internal->dim_symp_trans_2, internal->dim_symp_trans_3);
  internal->sympt_frac = (double*) user_get_array(user, false, internal->sympt_frac, "sympt_frac", NA_REAL, NA_REAL, 3, internal->dim_sympt_frac_1, internal->dim_sympt_frac_2, internal->dim_sympt_frac_3);
  internal->tot_hosp_ini = (double*) user_get_array(user, false, internal->tot_hosp_ini, "tot_hosp_ini", NA_REAL, NA_REAL, 3, internal->dim_tot_hosp_ini_1, internal->dim_tot_hosp_ini_2, internal->dim_tot_hosp_ini_3);
  internal->tot_infected_ini = (double*) user_get_array(user, false, internal->tot_infected_ini, "tot_infected_ini", NA_REAL, NA_REAL, 3, internal->dim_tot_infected_ini_1, internal->dim_tot_infected_ini_2, internal->dim_tot_infected_ini_3);
  internal->tot_resp_ini = (double*) user_get_array(user, false, internal->tot_resp_ini, "tot_resp_ini", NA_REAL, NA_REAL, 3, internal->dim_tot_resp_ini_1, internal->dim_tot_resp_ini_2, internal->dim_tot_resp_ini_3);
  internal->tot_vac_adm_ini = (double*) user_get_array(user, false, internal->tot_vac_adm_ini, "tot_vac_adm_ini", NA_REAL, NA_REAL, 2, internal->dim_tot_vac_adm_ini_1, internal->dim_tot_vac_adm_ini_2);
  internal->tot_vac_ini = (double*) user_get_array(user, false, internal->tot_vac_ini, "tot_vac_ini", NA_REAL, NA_REAL, 2, internal->dim_tot_vac_ini_1, internal->dim_tot_vac_ini_2);
  internal->transmisibility = (double*) user_get_array(user, false, internal->transmisibility, "transmisibility", NA_REAL, NA_REAL, 3, internal->dim_transmisibility_1, internal->dim_transmisibility_2, internal->dim_transmisibility_3);
  internal->vaccinations = (double*) user_get_array(user, false, internal->vaccinations, "vaccinations", NA_REAL, NA_REAL, 3, internal->dim_vaccinations_1, internal->dim_vaccinations_2, internal->dim_vaccinations_3);
  internal->waning_immunity_vax = (double*) user_get_array(user, false, internal->waning_immunity_vax, "waning_immunity_vax", NA_REAL, NA_REAL, 3, internal->dim_waning_immunity_vax_1, internal->dim_waning_immunity_vax_2, internal->dim_waning_immunity_vax_3);
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        internal->initial_A[i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->A_ini[internal->dim_A_ini_12 * (k - 1) + internal->dim_A_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_B_D_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_3; ++k) {
        internal->initial_B_D[i - 1 + internal->dim_B_D_1 * (j - 1) + internal->dim_B_D_12 * (k - 1)] = internal->B_D_ini[internal->dim_B_D_ini_12 * (k - 1) + internal->dim_B_D_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_B_D_H_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_H_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_H_3; ++k) {
        internal->initial_B_D_H[i - 1 + internal->dim_B_D_H_1 * (j - 1) + internal->dim_B_D_H_12 * (k - 1)] = internal->B_D_H_ini[internal->dim_B_D_H_ini_12 * (k - 1) + internal->dim_B_D_H_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_B_D_ICU_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_ICU_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_ICU_3; ++k) {
        internal->initial_B_D_ICU[i - 1 + internal->dim_B_D_ICU_1 * (j - 1) + internal->dim_B_D_ICU_12 * (k - 1)] = internal->B_D_ICU_ini[internal->dim_B_D_ICU_ini_12 * (k - 1) + internal->dim_B_D_ICU_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        internal->initial_D[i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->D_ini[internal->dim_D_ini_12 * (k - 1) + internal->dim_D_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_Ea_1; ++i) {
    for (int j = 1; j <= internal->dim_Ea_2; ++j) {
      for (int k = 1; k <= internal->dim_Ea_3; ++k) {
        internal->initial_Ea[i - 1 + internal->dim_Ea_1 * (j - 1) + internal->dim_Ea_12 * (k - 1)] = internal->Ea_ini[internal->dim_Ea_ini_12 * (k - 1) + internal->dim_Ea_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_Es_1; ++i) {
    for (int j = 1; j <= internal->dim_Es_2; ++j) {
      for (int k = 1; k <= internal->dim_Es_3; ++k) {
        internal->initial_Es[i - 1 + internal->dim_Es_1 * (j - 1) + internal->dim_Es_12 * (k - 1)] = internal->Es_ini[internal->dim_Es_ini_12 * (k - 1) + internal->dim_Es_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_H_1; ++i) {
    for (int j = 1; j <= internal->dim_H_2; ++j) {
      for (int k = 1; k <= internal->dim_H_3; ++k) {
        internal->initial_H[i - 1 + internal->dim_H_1 * (j - 1) + internal->dim_H_12 * (k - 1)] = internal->H_ini[internal->dim_H_ini_12 * (k - 1) + internal->dim_H_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_I_1; ++i) {
    for (int j = 1; j <= internal->dim_I_2; ++j) {
      for (int k = 1; k <= internal->dim_I_3; ++k) {
        internal->initial_I[i - 1 + internal->dim_I_1 * (j - 1) + internal->dim_I_12 * (k - 1)] = internal->I_ini[internal->dim_I_ini_12 * (k - 1) + internal->dim_I_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_H_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_H_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_H_3; ++k) {
        internal->initial_ICU_H[i - 1 + internal->dim_ICU_H_1 * (j - 1) + internal->dim_ICU_H_12 * (k - 1)] = internal->ICU_H_ini[internal->dim_ICU_H_ini_12 * (k - 1) + internal->dim_ICU_H_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_P_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_P_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_P_3; ++k) {
        internal->initial_ICU_P[i - 1 + internal->dim_ICU_P_1 * (j - 1) + internal->dim_ICU_P_12 * (k - 1)] = internal->ICU_P_ini[internal->dim_ICU_P_ini_12 * (k - 1) + internal->dim_ICU_P_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_R_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_R_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_R_3; ++k) {
        internal->initial_ICU_R[i - 1 + internal->dim_ICU_R_1 * (j - 1) + internal->dim_ICU_R_12 * (k - 1)] = internal->ICU_R_ini[internal->dim_ICU_R_ini_12 * (k - 1) + internal->dim_ICU_R_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        internal->initial_P[i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->P_ini[internal->dim_P_ini_12 * (k - 1) + internal->dim_P_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_R_1; ++i) {
    for (int j = 1; j <= internal->dim_R_2; ++j) {
      for (int k = 1; k <= internal->dim_R_3; ++k) {
        internal->initial_R[i - 1 + internal->dim_R_1 * (j - 1) + internal->dim_R_12 * (k - 1)] = internal->R_ini[internal->dim_R_ini_12 * (k - 1) + internal->dim_R_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      internal->initial_S[i - 1 + internal->dim_S_1 * (j - 1)] = internal->S_ini[internal->dim_S_ini_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_tot_hosp_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_hosp_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_hosp_3; ++k) {
        internal->initial_tot_hosp[i - 1 + internal->dim_tot_hosp_1 * (j - 1) + internal->dim_tot_hosp_12 * (k - 1)] = internal->tot_hosp_ini[internal->dim_tot_hosp_ini_12 * (k - 1) + internal->dim_tot_hosp_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_infected_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_infected_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_infected_3; ++k) {
        internal->initial_tot_infected[i - 1 + internal->dim_tot_infected_1 * (j - 1) + internal->dim_tot_infected_12 * (k - 1)] = internal->tot_infected_ini[internal->dim_tot_infected_ini_12 * (k - 1) + internal->dim_tot_infected_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_resp_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_resp_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_resp_3; ++k) {
        internal->initial_tot_resp[i - 1 + internal->dim_tot_resp_1 * (j - 1) + internal->dim_tot_resp_12 * (k - 1)] = internal->tot_resp_ini[internal->dim_tot_resp_ini_12 * (k - 1) + internal->dim_tot_resp_ini_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_vac_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_vac_2; ++j) {
      internal->initial_tot_vac[i - 1 + internal->dim_tot_vac_1 * (j - 1)] = internal->tot_vac_ini[internal->dim_tot_vac_ini_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_tot_vac_adm_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_vac_adm_2; ++j) {
      internal->initial_tot_vac_adm[i - 1 + internal->dim_tot_vac_adm_1 * (j - 1)] = internal->tot_vac_adm_ini[internal->dim_tot_vac_adm_ini_1 * (j - 1) + i - 1];
    }
  }
  interpolate_check_y(internal->dim_interpolation_time, internal->dim_import_vec_1, 1, "import_vec", "N_imp");
  interpolate_check_y(internal->dim_N_imp_1, internal->dim_import_vec_2, 2, "import_vec", "N_imp");
  interpolate_check_y(internal->dim_N_imp_2, internal->dim_import_vec_3, 3, "import_vec", "N_imp");
  interpolate_check_y(internal->dim_N_imp_3, internal->dim_import_vec_4, 4, "import_vec", "N_imp");
  cinterpolate_free(internal->interpolate_N_imp);
  internal->interpolate_N_imp = cinterpolate_alloc("linear", internal->dim_interpolation_time, internal->dim_N_imp, internal->interpolation_time, internal->import_vec, true, false);
  interpolate_check_y(internal->dim_interpolation_time, internal->dim_beta_day_1, 1, "beta_day", "beta_int");
  interpolate_check_y(internal->dim_beta_int, internal->dim_beta_day_2, 2, "beta_day", "beta_int");
  cinterpolate_free(internal->interpolate_beta_int);
  internal->interpolate_beta_int = cinterpolate_alloc("linear", internal->dim_interpolation_time, internal->dim_beta_int, internal->interpolation_time, internal->beta_day, true, false);
  interpolate_check_y(internal->dim_interpolation_time, internal->dim_vaccinations_1, 1, "vaccinations", "vax_time_step");
  interpolate_check_y(internal->dim_vax_time_step_1, internal->dim_vaccinations_2, 2, "vaccinations", "vax_time_step");
  interpolate_check_y(internal->dim_vax_time_step_2, internal->dim_vaccinations_3, 3, "vaccinations", "vax_time_step");
  cinterpolate_free(internal->interpolate_vax_time_step);
  internal->interpolate_vax_time_step = cinterpolate_alloc("linear", internal->dim_interpolation_time, internal->dim_vax_time_step, internal->interpolation_time, internal->vaccinations, true, false);
  for (int i = 1; i <= internal->dim_n_vac_help_1; ++i) {
    int j = 1;
    internal->n_vac_help[i - 1 + internal->dim_n_vac_help_1 * (j - 1)] = 0;
  }
  for (int i = 1; i <= internal->dim_n_vac_help_1; ++i) {
    for (int j = 2; j <= internal->n_vac; ++j) {
      internal->n_vac_help[i - 1 + internal->dim_n_vac_help_1 * (j - 1)] = 0;
    }
  }
  for (int i = 1; i <= internal->dim_pa_1; ++i) {
    for (int j = 1; j <= internal->dim_pa_2; ++j) {
      for (int k = 1; k <= internal->dim_pa_3; ++k) {
        internal->pa[i - 1 + internal->dim_pa_1 * (j - 1) + internal->dim_pa_12 * (k - 1)] = internal->asympt_frac[internal->dim_asympt_frac_12 * (k - 1) + internal->dim_asympt_frac_1 * (j - 1) + i - 1] * internal->susceptibility_asymp[internal->dim_susceptibility_asymp_12 * (k - 1) + internal->dim_susceptibility_asymp_1 * (j - 1) + i - 1] / (double) (internal->asympt_frac[internal->dim_asympt_frac_12 * (k - 1) + internal->dim_asympt_frac_1 * (j - 1) + i - 1] * internal->susceptibility_asymp[internal->dim_susceptibility_asymp_12 * (k - 1) + internal->dim_susceptibility_asymp_1 * (j - 1) + i - 1] + internal->sympt_frac[internal->dim_sympt_frac_12 * (k - 1) + internal->dim_sympt_frac_1 * (j - 1) + i - 1] * internal->susceptibility_symp[internal->dim_susceptibility_symp_12 * (k - 1) + internal->dim_susceptibility_symp_1 * (j - 1) + i - 1]);
      }
    }
  }
  for (int i = 1; i <= internal->dim_symp_asymp_effect_1; ++i) {
    for (int j = 1; j <= internal->dim_symp_asymp_effect_2; ++j) {
      for (int k = 1; k <= internal->dim_symp_asymp_effect_3; ++k) {
        internal->symp_asymp_effect[i - 1 + internal->dim_symp_asymp_effect_1 * (j - 1) + internal->dim_symp_asymp_effect_12 * (k - 1)] = (internal->asympt_frac[internal->dim_asympt_frac_12 * (k - 1) + internal->dim_asympt_frac_1 * (j - 1) + i - 1] * internal->susceptibility_asymp[internal->dim_susceptibility_asymp_12 * (k - 1) + internal->dim_susceptibility_asymp_1 * (j - 1) + i - 1] + internal->sympt_frac[internal->dim_sympt_frac_12 * (k - 1) + internal->dim_sympt_frac_1 * (j - 1) + i - 1] * internal->susceptibility_symp[internal->dim_susceptibility_symp_12 * (k - 1) + internal->dim_susceptibility_symp_1 * (j - 1) + i - 1]);
      }
    }
  }
  return R_NilValue;
}
SEXP model_deterministic_set_initial(SEXP internal_p, SEXP t_ptr, SEXP state_ptr, SEXP model_deterministic_use_dde_ptr) {
  return R_NilValue;
}
SEXP model_deterministic_metadata(SEXP internal_p) {
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 1);
  SEXP ret = PROTECT(allocVector(VECSXP, 4));
  SEXP nms = PROTECT(allocVector(STRSXP, 4));
  SET_STRING_ELT(nms, 0, mkChar("variable_order"));
  SET_STRING_ELT(nms, 1, mkChar("output_order"));
  SET_STRING_ELT(nms, 2, mkChar("n_out"));
  SET_STRING_ELT(nms, 3, mkChar("interpolate_t"));
  setAttrib(ret, R_NamesSymbol, nms);
  SEXP variable_length = PROTECT(allocVector(VECSXP, 22));
  SEXP variable_names = PROTECT(allocVector(STRSXP, 22));
  setAttrib(variable_length, R_NamesSymbol, variable_names);
  SET_VECTOR_ELT(variable_length, 0, R_NilValue);
  SET_VECTOR_ELT(variable_length, 1, allocVector(INTSXP, 2));
  int * dim_scale_spont = INTEGER(VECTOR_ELT(variable_length, 1));
  dim_scale_spont[0] = internal->dim_scale_spont_1;
  dim_scale_spont[1] = internal->dim_scale_spont_2;
  SET_VECTOR_ELT(variable_length, 2, allocVector(INTSXP, 2));
  int * dim_S = INTEGER(VECTOR_ELT(variable_length, 2));
  dim_S[0] = internal->dim_S_1;
  dim_S[1] = internal->dim_S_2;
  SET_VECTOR_ELT(variable_length, 3, allocVector(INTSXP, 2));
  int * dim_tot_vac = INTEGER(VECTOR_ELT(variable_length, 3));
  dim_tot_vac[0] = internal->dim_tot_vac_1;
  dim_tot_vac[1] = internal->dim_tot_vac_2;
  SET_VECTOR_ELT(variable_length, 4, allocVector(INTSXP, 2));
  int * dim_tot_vac_adm = INTEGER(VECTOR_ELT(variable_length, 4));
  dim_tot_vac_adm[0] = internal->dim_tot_vac_adm_1;
  dim_tot_vac_adm[1] = internal->dim_tot_vac_adm_2;
  SET_VECTOR_ELT(variable_length, 5, allocVector(INTSXP, 3));
  int * dim_Ea = INTEGER(VECTOR_ELT(variable_length, 5));
  dim_Ea[0] = internal->dim_Ea_1;
  dim_Ea[1] = internal->dim_Ea_2;
  dim_Ea[2] = internal->dim_Ea_3;
  SET_VECTOR_ELT(variable_length, 6, allocVector(INTSXP, 3));
  int * dim_Es = INTEGER(VECTOR_ELT(variable_length, 6));
  dim_Es[0] = internal->dim_Es_1;
  dim_Es[1] = internal->dim_Es_2;
  dim_Es[2] = internal->dim_Es_3;
  SET_VECTOR_ELT(variable_length, 7, allocVector(INTSXP, 3));
  int * dim_P = INTEGER(VECTOR_ELT(variable_length, 7));
  dim_P[0] = internal->dim_P_1;
  dim_P[1] = internal->dim_P_2;
  dim_P[2] = internal->dim_P_3;
  SET_VECTOR_ELT(variable_length, 8, allocVector(INTSXP, 3));
  int * dim_I = INTEGER(VECTOR_ELT(variable_length, 8));
  dim_I[0] = internal->dim_I_1;
  dim_I[1] = internal->dim_I_2;
  dim_I[2] = internal->dim_I_3;
  SET_VECTOR_ELT(variable_length, 9, allocVector(INTSXP, 3));
  int * dim_A = INTEGER(VECTOR_ELT(variable_length, 9));
  dim_A[0] = internal->dim_A_1;
  dim_A[1] = internal->dim_A_2;
  dim_A[2] = internal->dim_A_3;
  SET_VECTOR_ELT(variable_length, 10, allocVector(INTSXP, 3));
  int * dim_H = INTEGER(VECTOR_ELT(variable_length, 10));
  dim_H[0] = internal->dim_H_1;
  dim_H[1] = internal->dim_H_2;
  dim_H[2] = internal->dim_H_3;
  SET_VECTOR_ELT(variable_length, 11, allocVector(INTSXP, 3));
  int * dim_ICU_H = INTEGER(VECTOR_ELT(variable_length, 11));
  dim_ICU_H[0] = internal->dim_ICU_H_1;
  dim_ICU_H[1] = internal->dim_ICU_H_2;
  dim_ICU_H[2] = internal->dim_ICU_H_3;
  SET_VECTOR_ELT(variable_length, 12, allocVector(INTSXP, 3));
  int * dim_ICU_R = INTEGER(VECTOR_ELT(variable_length, 12));
  dim_ICU_R[0] = internal->dim_ICU_R_1;
  dim_ICU_R[1] = internal->dim_ICU_R_2;
  dim_ICU_R[2] = internal->dim_ICU_R_3;
  SET_VECTOR_ELT(variable_length, 13, allocVector(INTSXP, 3));
  int * dim_ICU_P = INTEGER(VECTOR_ELT(variable_length, 13));
  dim_ICU_P[0] = internal->dim_ICU_P_1;
  dim_ICU_P[1] = internal->dim_ICU_P_2;
  dim_ICU_P[2] = internal->dim_ICU_P_3;
  SET_VECTOR_ELT(variable_length, 14, allocVector(INTSXP, 3));
  int * dim_B_D = INTEGER(VECTOR_ELT(variable_length, 14));
  dim_B_D[0] = internal->dim_B_D_1;
  dim_B_D[1] = internal->dim_B_D_2;
  dim_B_D[2] = internal->dim_B_D_3;
  SET_VECTOR_ELT(variable_length, 15, allocVector(INTSXP, 3));
  int * dim_B_D_H = INTEGER(VECTOR_ELT(variable_length, 15));
  dim_B_D_H[0] = internal->dim_B_D_H_1;
  dim_B_D_H[1] = internal->dim_B_D_H_2;
  dim_B_D_H[2] = internal->dim_B_D_H_3;
  SET_VECTOR_ELT(variable_length, 16, allocVector(INTSXP, 3));
  int * dim_B_D_ICU = INTEGER(VECTOR_ELT(variable_length, 16));
  dim_B_D_ICU[0] = internal->dim_B_D_ICU_1;
  dim_B_D_ICU[1] = internal->dim_B_D_ICU_2;
  dim_B_D_ICU[2] = internal->dim_B_D_ICU_3;
  SET_VECTOR_ELT(variable_length, 17, allocVector(INTSXP, 3));
  int * dim_R = INTEGER(VECTOR_ELT(variable_length, 17));
  dim_R[0] = internal->dim_R_1;
  dim_R[1] = internal->dim_R_2;
  dim_R[2] = internal->dim_R_3;
  SET_VECTOR_ELT(variable_length, 18, allocVector(INTSXP, 3));
  int * dim_D = INTEGER(VECTOR_ELT(variable_length, 18));
  dim_D[0] = internal->dim_D_1;
  dim_D[1] = internal->dim_D_2;
  dim_D[2] = internal->dim_D_3;
  SET_VECTOR_ELT(variable_length, 19, allocVector(INTSXP, 3));
  int * dim_tot_infected = INTEGER(VECTOR_ELT(variable_length, 19));
  dim_tot_infected[0] = internal->dim_tot_infected_1;
  dim_tot_infected[1] = internal->dim_tot_infected_2;
  dim_tot_infected[2] = internal->dim_tot_infected_3;
  SET_VECTOR_ELT(variable_length, 20, allocVector(INTSXP, 3));
  int * dim_tot_hosp = INTEGER(VECTOR_ELT(variable_length, 20));
  dim_tot_hosp[0] = internal->dim_tot_hosp_1;
  dim_tot_hosp[1] = internal->dim_tot_hosp_2;
  dim_tot_hosp[2] = internal->dim_tot_hosp_3;
  SET_VECTOR_ELT(variable_length, 21, allocVector(INTSXP, 3));
  int * dim_tot_resp = INTEGER(VECTOR_ELT(variable_length, 21));
  dim_tot_resp[0] = internal->dim_tot_resp_1;
  dim_tot_resp[1] = internal->dim_tot_resp_2;
  dim_tot_resp[2] = internal->dim_tot_resp_3;
  SET_STRING_ELT(variable_names, 0, mkChar("tot_hosp_inc"));
  SET_STRING_ELT(variable_names, 1, mkChar("scale_spont"));
  SET_STRING_ELT(variable_names, 2, mkChar("S"));
  SET_STRING_ELT(variable_names, 3, mkChar("tot_vac"));
  SET_STRING_ELT(variable_names, 4, mkChar("tot_vac_adm"));
  SET_STRING_ELT(variable_names, 5, mkChar("Ea"));
  SET_STRING_ELT(variable_names, 6, mkChar("Es"));
  SET_STRING_ELT(variable_names, 7, mkChar("P"));
  SET_STRING_ELT(variable_names, 8, mkChar("I"));
  SET_STRING_ELT(variable_names, 9, mkChar("A"));
  SET_STRING_ELT(variable_names, 10, mkChar("H"));
  SET_STRING_ELT(variable_names, 11, mkChar("ICU_H"));
  SET_STRING_ELT(variable_names, 12, mkChar("ICU_R"));
  SET_STRING_ELT(variable_names, 13, mkChar("ICU_P"));
  SET_STRING_ELT(variable_names, 14, mkChar("B_D"));
  SET_STRING_ELT(variable_names, 15, mkChar("B_D_H"));
  SET_STRING_ELT(variable_names, 16, mkChar("B_D_ICU"));
  SET_STRING_ELT(variable_names, 17, mkChar("R"));
  SET_STRING_ELT(variable_names, 18, mkChar("D"));
  SET_STRING_ELT(variable_names, 19, mkChar("tot_infected"));
  SET_STRING_ELT(variable_names, 20, mkChar("tot_hosp"));
  SET_STRING_ELT(variable_names, 21, mkChar("tot_resp"));
  SET_VECTOR_ELT(ret, 0, variable_length);
  UNPROTECT(2);
  SEXP output_length = PROTECT(allocVector(VECSXP, 5));
  SEXP output_names = PROTECT(allocVector(STRSXP, 5));
  setAttrib(output_length, R_NamesSymbol, output_names);
  SET_VECTOR_ELT(output_length, 0, R_NilValue);
  SET_VECTOR_ELT(output_length, 1, allocVector(INTSXP, 2));
  int * dim_contact_change = INTEGER(VECTOR_ELT(output_length, 1));
  dim_contact_change[0] = internal->dim_contact_change_1;
  dim_contact_change[1] = internal->dim_contact_change_2;
  SET_VECTOR_ELT(output_length, 2, allocVector(INTSXP, 2));
  int * dim_beta_spont_behaviour = INTEGER(VECTOR_ELT(output_length, 2));
  dim_beta_spont_behaviour[0] = internal->dim_beta_spont_behaviour_1;
  dim_beta_spont_behaviour[1] = internal->dim_beta_spont_behaviour_2;
  SET_VECTOR_ELT(output_length, 3, allocVector(INTSXP, 2));
  int * dim_beta = INTEGER(VECTOR_ELT(output_length, 3));
  dim_beta[0] = internal->dim_beta_1;
  dim_beta[1] = internal->dim_beta_2;
  SET_VECTOR_ELT(output_length, 4, allocVector(INTSXP, 2));
  int * dim_N = INTEGER(VECTOR_ELT(output_length, 4));
  dim_N[0] = internal->dim_N_1;
  dim_N[1] = internal->dim_N_2;
  SET_STRING_ELT(output_names, 0, mkChar("tot_N"));
  SET_STRING_ELT(output_names, 1, mkChar("contact_change"));
  SET_STRING_ELT(output_names, 2, mkChar("beta_spont_behaviour"));
  SET_STRING_ELT(output_names, 3, mkChar("beta"));
  SET_STRING_ELT(output_names, 4, mkChar("N"));
  SET_VECTOR_ELT(ret, 1, output_length);
  UNPROTECT(2);
  SET_VECTOR_ELT(ret, 2, ScalarInteger(internal->dim_N + internal->dim_beta + internal->dim_beta_spont_behaviour + internal->dim_contact_change + 1));
  SEXP interpolate_t = PROTECT(allocVector(VECSXP, 3));
  SEXP interpolate_t_nms = PROTECT(allocVector(STRSXP, 3));
  setAttrib(interpolate_t, R_NamesSymbol, interpolate_t_nms);
  SET_VECTOR_ELT(interpolate_t, 0, ScalarReal(internal->interpolation_time[0]));
  SET_VECTOR_ELT(interpolate_t, 1, ScalarReal(internal->interpolation_time[internal->dim_interpolation_time - 1]));
  SET_STRING_ELT(interpolate_t_nms, 0, mkChar("min"));
  SET_STRING_ELT(interpolate_t_nms, 1, mkChar("max"));
  SET_VECTOR_ELT(ret, 3, interpolate_t);
  UNPROTECT(2);
  UNPROTECT(2);
  return ret;
}
SEXP model_deterministic_initial_conditions(SEXP internal_p, SEXP t_ptr) {
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 1);
  SEXP r_state = PROTECT(allocVector(REALSXP, internal->dim_A + internal->dim_B_D + internal->dim_B_D_H + internal->dim_B_D_ICU + internal->dim_D + internal->dim_Ea + internal->dim_Es + internal->dim_H + internal->dim_I + internal->dim_ICU_H + internal->dim_ICU_P + internal->dim_ICU_R + internal->dim_P + internal->dim_R + internal->dim_S + internal->dim_scale_spont + internal->dim_tot_hosp + internal->dim_tot_infected + internal->dim_tot_resp + internal->dim_tot_vac + internal->dim_tot_vac_adm + 1));
  double * state = REAL(r_state);
  state[0] = internal->initial_tot_hosp_inc;
  memcpy(state + 1, internal->initial_scale_spont, internal->dim_scale_spont * sizeof(double));
  memcpy(state + internal->offset_variable_S, internal->initial_S, internal->dim_S * sizeof(double));
  memcpy(state + internal->offset_variable_tot_vac, internal->initial_tot_vac, internal->dim_tot_vac * sizeof(double));
  memcpy(state + internal->offset_variable_tot_vac_adm, internal->initial_tot_vac_adm, internal->dim_tot_vac_adm * sizeof(double));
  memcpy(state + internal->offset_variable_Ea, internal->initial_Ea, internal->dim_Ea * sizeof(double));
  memcpy(state + internal->offset_variable_Es, internal->initial_Es, internal->dim_Es * sizeof(double));
  memcpy(state + internal->offset_variable_P, internal->initial_P, internal->dim_P * sizeof(double));
  memcpy(state + internal->offset_variable_I, internal->initial_I, internal->dim_I * sizeof(double));
  memcpy(state + internal->offset_variable_A, internal->initial_A, internal->dim_A * sizeof(double));
  memcpy(state + internal->offset_variable_H, internal->initial_H, internal->dim_H * sizeof(double));
  memcpy(state + internal->offset_variable_ICU_H, internal->initial_ICU_H, internal->dim_ICU_H * sizeof(double));
  memcpy(state + internal->offset_variable_ICU_R, internal->initial_ICU_R, internal->dim_ICU_R * sizeof(double));
  memcpy(state + internal->offset_variable_ICU_P, internal->initial_ICU_P, internal->dim_ICU_P * sizeof(double));
  memcpy(state + internal->offset_variable_B_D, internal->initial_B_D, internal->dim_B_D * sizeof(double));
  memcpy(state + internal->offset_variable_B_D_H, internal->initial_B_D_H, internal->dim_B_D_H * sizeof(double));
  memcpy(state + internal->offset_variable_B_D_ICU, internal->initial_B_D_ICU, internal->dim_B_D_ICU * sizeof(double));
  memcpy(state + internal->offset_variable_R, internal->initial_R, internal->dim_R * sizeof(double));
  memcpy(state + internal->offset_variable_D, internal->initial_D, internal->dim_D * sizeof(double));
  memcpy(state + internal->offset_variable_tot_infected, internal->initial_tot_infected, internal->dim_tot_infected * sizeof(double));
  memcpy(state + internal->offset_variable_tot_hosp, internal->initial_tot_hosp, internal->dim_tot_hosp * sizeof(double));
  memcpy(state + internal->offset_variable_tot_resp, internal->initial_tot_resp, internal->dim_tot_resp * sizeof(double));
  UNPROTECT(1);
  return r_state;
}
void model_deterministic_rhs(model_deterministic_internal* internal, double t, double * state, double * dstatedt, double * output) {
  double * scale_spont = state + 1;
  double * S = state + internal->offset_variable_S;
  double * Ea = state + internal->offset_variable_Ea;
  double * Es = state + internal->offset_variable_Es;
  double * P = state + internal->offset_variable_P;
  double * I = state + internal->offset_variable_I;
  double * A = state + internal->offset_variable_A;
  double * H = state + internal->offset_variable_H;
  double * ICU_H = state + internal->offset_variable_ICU_H;
  double * ICU_R = state + internal->offset_variable_ICU_R;
  double * ICU_P = state + internal->offset_variable_ICU_P;
  double * B_D = state + internal->offset_variable_B_D;
  double * B_D_H = state + internal->offset_variable_B_D_H;
  double * B_D_ICU = state + internal->offset_variable_B_D_ICU;
  double * R = state + internal->offset_variable_R;
  double * D = state + internal->offset_variable_D;
  for (int i = 1; i <= internal->dim_N_1; ++i) {
    for (int j = 1; j <= internal->dim_N_2; ++j) {
      internal->N[i - 1 + internal->dim_N_1 * (j - 1)] = S[internal->dim_S_1 * (j - 1) + i - 1] + odin_sum3(Ea, i - 1, i, j - 1, j, 0, internal->dim_Ea_3, internal->dim_Ea_1, internal->dim_Ea_12) + odin_sum3(Es, i - 1, i, j - 1, j, 0, internal->dim_Es_3, internal->dim_Es_1, internal->dim_Es_12) + odin_sum3(P, i - 1, i, j - 1, j, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12) + odin_sum3(I, i - 1, i, j - 1, j, 0, internal->dim_I_3, internal->dim_I_1, internal->dim_I_12) + odin_sum3(A, i - 1, i, j - 1, j, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12) + odin_sum3(H, i - 1, i, j - 1, j, 0, internal->dim_H_3, internal->dim_H_1, internal->dim_H_12) + odin_sum3(ICU_H, i - 1, i, j - 1, j, 0, internal->dim_ICU_H_3, internal->dim_ICU_H_1, internal->dim_ICU_H_12) + odin_sum3(ICU_R, i - 1, i, j - 1, j, 0, internal->dim_ICU_R_3, internal->dim_ICU_R_1, internal->dim_ICU_R_12) + odin_sum3(ICU_P, i - 1, i, j - 1, j, 0, internal->dim_ICU_P_3, internal->dim_ICU_P_1, internal->dim_ICU_P_12) + odin_sum3(B_D, i - 1, i, j - 1, j, 0, internal->dim_B_D_3, internal->dim_B_D_1, internal->dim_B_D_12) + odin_sum3(B_D_ICU, i - 1, i, j - 1, j, 0, internal->dim_B_D_ICU_3, internal->dim_B_D_ICU_1, internal->dim_B_D_ICU_12) + odin_sum3(B_D_H, i - 1, i, j - 1, j, 0, internal->dim_B_D_H_3, internal->dim_B_D_H_1, internal->dim_B_D_H_12) + odin_sum3(R, i - 1, i, j - 1, j, 0, internal->dim_R_3, internal->dim_R_1, internal->dim_R_12) + odin_sum3(D, i - 1, i, j - 1, j, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    }
  }
  for (int i = 1; i <= internal->dim_n_AR_1; ++i) {
    for (int j = 1; j <= internal->dim_n_AR_2; ++j) {
      for (int k = 1; k <= internal->dim_n_AR_3; ++k) {
        internal->n_AR[i - 1 + internal->dim_n_AR_1 * (j - 1) + internal->dim_n_AR_12 * (k - 1)] = A[internal->dim_A_12 * (k - 1) + internal->dim_A_1 * (j - 1) + i - 1] / (double) internal->infectious_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_B_D_D_1; ++i) {
    for (int j = 1; j <= internal->dim_n_B_D_D_2; ++j) {
      for (int k = 1; k <= internal->dim_n_B_D_D_3; ++k) {
        internal->n_B_D_D[i - 1 + internal->dim_n_B_D_D_1 * (j - 1) + internal->dim_n_B_D_D_12 * (k - 1)] = B_D[internal->dim_B_D_12 * (k - 1) + internal->dim_B_D_1 * (j - 1) + i - 1] / (double) internal->time_before_death;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_B_H_D_1; ++i) {
    for (int j = 1; j <= internal->dim_n_B_H_D_2; ++j) {
      for (int k = 1; k <= internal->dim_n_B_H_D_3; ++k) {
        internal->n_B_H_D[i - 1 + internal->dim_n_B_H_D_1 * (j - 1) + internal->dim_n_B_H_D_12 * (k - 1)] = B_D_H[internal->dim_B_D_H_12 * (k - 1) + internal->dim_B_D_H_1 * (j - 1) + i - 1] / (double) internal->time_before_death_hosp;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_B_ICU_D_1; ++i) {
    for (int j = 1; j <= internal->dim_n_B_ICU_D_2; ++j) {
      for (int k = 1; k <= internal->dim_n_B_ICU_D_3; ++k) {
        internal->n_B_ICU_D[i - 1 + internal->dim_n_B_ICU_D_1 * (j - 1) + internal->dim_n_B_ICU_D_12 * (k - 1)] = B_D_ICU[internal->dim_B_D_ICU_12 * (k - 1) + internal->dim_B_D_ICU_1 * (j - 1) + i - 1] / (double) internal->time_before_death_icu;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_EaA_1; ++i) {
    for (int j = 1; j <= internal->dim_n_EaA_2; ++j) {
      for (int k = 1; k <= internal->dim_n_EaA_3; ++k) {
        internal->n_EaA[i - 1 + internal->dim_n_EaA_1 * (j - 1) + internal->dim_n_EaA_12 * (k - 1)] = Ea[internal->dim_Ea_12 * (k - 1) + internal->dim_Ea_1 * (j - 1) + i - 1] / (double) internal->latent_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_EsI_1; ++i) {
    for (int j = 1; j <= internal->dim_n_EsI_2; ++j) {
      for (int k = 1; k <= internal->dim_n_EsI_3; ++k) {
        internal->n_EsI[i - 1 + internal->dim_n_EsI_1 * (j - 1) + internal->dim_n_EsI_12 * (k - 1)] = Es[internal->dim_Es_12 * (k - 1) + internal->dim_Es_1 * (j - 1) + i - 1] / (double) internal->latent_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_H_1; ++i) {
    for (int j = 1; j <= internal->dim_n_H_2; ++j) {
      for (int k = 1; k <= internal->dim_n_H_3; ++k) {
        internal->n_H[i - 1 + internal->dim_n_H_1 * (j - 1) + internal->dim_n_H_12 * (k - 1)] = H[internal->dim_H_12 * (k - 1) + internal->dim_H_1 * (j - 1) + i - 1] / (double) internal->length_hosp[internal->dim_length_hosp_12 * (k - 1) + internal->dim_length_hosp_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_I_1; ++i) {
    for (int j = 1; j <= internal->dim_n_I_2; ++j) {
      for (int k = 1; k <= internal->dim_n_I_3; ++k) {
        internal->n_I[i - 1 + internal->dim_n_I_1 * (j - 1) + internal->dim_n_I_12 * (k - 1)] = I[internal->dim_I_12 * (k - 1) + internal->dim_I_1 * (j - 1) + i - 1] / (double) internal->infectious_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ICU_HR_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ICU_HR_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ICU_HR_3; ++k) {
        internal->n_ICU_HR[i - 1 + internal->dim_n_ICU_HR_1 * (j - 1) + internal->dim_n_ICU_HR_12 * (k - 1)] = ICU_H[internal->dim_ICU_H_12 * (k - 1) + internal->dim_ICU_H_1 * (j - 1) + i - 1] / (double) internal->pre_icu[internal->dim_pre_icu_12 * (k - 1) + internal->dim_pre_icu_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ICU_P_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ICU_P_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ICU_P_3; ++k) {
        internal->n_ICU_P[i - 1 + internal->dim_n_ICU_P_1 * (j - 1) + internal->dim_n_ICU_P_12 * (k - 1)] = ICU_P[internal->dim_ICU_P_12 * (k - 1) + internal->dim_ICU_P_1 * (j - 1) + i - 1] / (double) internal->post_icu[internal->dim_post_icu_12 * (k - 1) + internal->dim_post_icu_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ICU_RP_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ICU_RP_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ICU_RP_3; ++k) {
        internal->n_ICU_RP[i - 1 + internal->dim_n_ICU_RP_1 * (j - 1) + internal->dim_n_ICU_RP_12 * (k - 1)] = ICU_R[internal->dim_ICU_R_12 * (k - 1) + internal->dim_ICU_R_1 * (j - 1) + i - 1] / (double) internal->length_icu[internal->dim_length_icu_12 * (k - 1) + internal->dim_length_icu_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_PI_1; ++i) {
    for (int j = 1; j <= internal->dim_n_PI_2; ++j) {
      for (int k = 1; k <= internal->dim_n_PI_3; ++k) {
        internal->n_PI[i - 1 + internal->dim_n_PI_1 * (j - 1) + internal->dim_n_PI_12 * (k - 1)] = P[internal->dim_P_12 * (k - 1) + internal->dim_P_1 * (j - 1) + i - 1] / (double) internal->pre_sympt_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_RS_1; ++i) {
    for (int j = 1; j <= internal->dim_n_RS_2; ++j) {
      for (int k = 1; k <= internal->dim_n_RS_3; ++k) {
        internal->n_RS[i - 1 + internal->dim_n_RS_1 * (j - 1) + internal->dim_n_RS_12 * (k - 1)] = R[internal->dim_R_12 * (k - 1) + internal->dim_R_1 * (j - 1) + i - 1] / (double) internal->waning_inf;
      }
    }
  }
  cinterpolate_eval(t, internal->interpolate_N_imp, internal->N_imp);
  cinterpolate_eval(t, internal->interpolate_beta_int, internal->beta_int);
  for (int i = 1; i <= internal->dim_A_1; ++i) {
    for (int j = 1; j <= internal->dim_A_2; ++j) {
      for (int k = 1; k <= internal->dim_A_3; ++k) {
        dstatedt[internal->offset_variable_A + i - 1 + internal->dim_A_1 * (j - 1) + internal->dim_A_12 * (k - 1)] = internal->n_EaA[internal->dim_n_EaA_12 * (k - 1) + internal->dim_n_EaA_1 * (j - 1) + i - 1] - internal->n_AR[internal->dim_n_AR_12 * (k - 1) + internal->dim_n_AR_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_D_1; ++i) {
    for (int j = 1; j <= internal->dim_D_2; ++j) {
      for (int k = 1; k <= internal->dim_D_3; ++k) {
        dstatedt[internal->offset_variable_D + i - 1 + internal->dim_D_1 * (j - 1) + internal->dim_D_12 * (k - 1)] = internal->n_B_D_D[internal->dim_n_B_D_D_12 * (k - 1) + internal->dim_n_B_D_D_1 * (j - 1) + i - 1] + internal->n_B_H_D[internal->dim_n_B_H_D_12 * (k - 1) + internal->dim_n_B_H_D_1 * (j - 1) + i - 1] + internal->n_B_ICU_D[internal->dim_n_B_ICU_D_12 * (k - 1) + internal->dim_n_B_ICU_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_P_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_P_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_P_3; ++k) {
        dstatedt[internal->offset_variable_ICU_P + i - 1 + internal->dim_ICU_P_1 * (j - 1) + internal->dim_ICU_P_12 * (k - 1)] = -(internal->n_ICU_P[internal->dim_n_ICU_P_12 * (k - 1) + internal->dim_n_ICU_P_1 * (j - 1) + i - 1]) + internal->n_ICU_RP[internal->dim_n_ICU_RP_12 * (k - 1) + internal->dim_n_ICU_RP_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_R_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_R_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_R_3; ++k) {
        dstatedt[internal->offset_variable_ICU_R + i - 1 + internal->dim_ICU_R_1 * (j - 1) + internal->dim_ICU_R_12 * (k - 1)] = internal->n_ICU_HR[internal->dim_n_ICU_HR_12 * (k - 1) + internal->dim_n_ICU_HR_1 * (j - 1) + i - 1] - internal->n_ICU_RP[internal->dim_n_ICU_RP_12 * (k - 1) + internal->dim_n_ICU_RP_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_P_1; ++i) {
    for (int j = 1; j <= internal->dim_P_2; ++j) {
      for (int k = 1; k <= internal->dim_P_3; ++k) {
        dstatedt[internal->offset_variable_P + i - 1 + internal->dim_P_1 * (j - 1) + internal->dim_P_12 * (k - 1)] = internal->n_EsI[internal->dim_n_EsI_12 * (k - 1) + internal->dim_n_EsI_1 * (j - 1) + i - 1] - internal->n_PI[internal->dim_n_PI_12 * (k - 1) + internal->dim_n_PI_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_resp_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_resp_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_resp_3; ++k) {
        dstatedt[internal->offset_variable_tot_resp + i - 1 + internal->dim_tot_resp_1 * (j - 1) + internal->dim_tot_resp_12 * (k - 1)] = internal->n_ICU_HR[internal->dim_n_ICU_HR_12 * (k - 1) + internal->dim_n_ICU_HR_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_HD_1; ++i) {
    for (int j = 1; j <= internal->dim_n_HD_2; ++j) {
      for (int k = 1; k <= internal->dim_n_HD_3; ++k) {
        internal->n_HD[i - 1 + internal->dim_n_HD_1 * (j - 1) + internal->dim_n_HD_12 * (k - 1)] = internal->n_H[internal->dim_n_H_12 * (k - 1) + internal->dim_n_H_1 * (j - 1) + i - 1] * internal->prob_death_hosp[internal->dim_prob_death_hosp_12 * (k - 1) + internal->dim_prob_death_hosp_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ICU_D_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ICU_D_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ICU_D_3; ++k) {
        internal->n_ICU_D[i - 1 + internal->dim_n_ICU_D_1 * (j - 1) + internal->dim_n_ICU_D_12 * (k - 1)] = internal->n_ICU_P[internal->dim_n_ICU_P_12 * (k - 1) + internal->dim_n_ICU_P_1 * (j - 1) + i - 1] * internal->prob_death_icu[internal->dim_prob_death_icu_12 * (k - 1) + internal->dim_prob_death_icu_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ID_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ID_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ID_3; ++k) {
        internal->n_ID[i - 1 + internal->dim_n_ID_1 * (j - 1) + internal->dim_n_ID_12 * (k - 1)] = internal->n_I[internal->dim_n_I_12 * (k - 1) + internal->dim_n_I_1 * (j - 1) + i - 1] * (1 - internal->hosp_prob[internal->dim_hosp_prob_12 * (k - 1) + internal->dim_hosp_prob_1 * (j - 1) + i - 1]) * internal->prob_death_non_hosp[internal->dim_prob_death_non_hosp_12 * (k - 1) + internal->dim_prob_death_non_hosp_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_IH_1; ++i) {
    for (int j = 1; j <= internal->dim_n_IH_2; ++j) {
      for (int k = 1; k <= internal->dim_n_IH_3; ++k) {
        internal->n_IH[i - 1 + internal->dim_n_IH_1 * (j - 1) + internal->dim_n_IH_12 * (k - 1)] = internal->n_I[internal->dim_n_I_12 * (k - 1) + internal->dim_n_I_1 * (j - 1) + i - 1] * internal->hosp_prob[internal->dim_hosp_prob_12 * (k - 1) + internal->dim_hosp_prob_1 * (j - 1) + i - 1] * (1 - internal->icu_prob[internal->dim_icu_prob_12 * (k - 1) + internal->dim_icu_prob_1 * (j - 1) + i - 1]);
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_IICU_1; ++i) {
    for (int j = 1; j <= internal->dim_n_IICU_2; ++j) {
      for (int k = 1; k <= internal->dim_n_IICU_3; ++k) {
        internal->n_IICU[i - 1 + internal->dim_n_IICU_1 * (j - 1) + internal->dim_n_IICU_12 * (k - 1)] = internal->n_I[internal->dim_n_I_12 * (k - 1) + internal->dim_n_I_1 * (j - 1) + i - 1] * internal->hosp_prob[internal->dim_hosp_prob_12 * (k - 1) + internal->dim_hosp_prob_1 * (j - 1) + i - 1] * internal->icu_prob[internal->dim_icu_prob_12 * (k - 1) + internal->dim_icu_prob_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_IR_1; ++i) {
    for (int j = 1; j <= internal->dim_n_IR_2; ++j) {
      for (int k = 1; k <= internal->dim_n_IR_3; ++k) {
        internal->n_IR[i - 1 + internal->dim_n_IR_1 * (j - 1) + internal->dim_n_IR_12 * (k - 1)] = I[internal->dim_I_12 * (k - 1) + internal->dim_I_1 * (j - 1) + i - 1] / (double) internal->infectious_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_IR_1; ++i) {
    for (int j = 1; j <= internal->dim_n_IR_2; ++j) {
      for (int k = 1; k <= internal->dim_n_IR_3; ++k) {
        internal->n_IR[i - 1 + internal->dim_n_IR_1 * (j - 1) + internal->dim_n_IR_12 * (k - 1)] = internal->n_I[internal->dim_n_I_12 * (k - 1) + internal->dim_n_I_1 * (j - 1) + i - 1] * (1 - internal->hosp_prob[internal->dim_hosp_prob_12 * (k - 1) + internal->dim_hosp_prob_1 * (j - 1) + i - 1]) * (1 - internal->prob_death_non_hosp[internal->dim_prob_death_non_hosp_12 * (k - 1) + internal->dim_prob_death_non_hosp_1 * (j - 1) + i - 1]);
      }
    }
  }
  for (int i = 1; i <= internal->dim_new_infs_1; ++i) {
    for (int j = 1; j <= internal->dim_new_infs_2; ++j) {
      for (int k = 1; k <= internal->dim_new_infs_3; ++k) {
        internal->new_infs[i - 1 + internal->dim_new_infs_1 * (j - 1) + internal->dim_new_infs_12 * (k - 1)] = internal->n_EaA[internal->dim_n_EaA_12 * (k - 1) + internal->dim_n_EaA_1 * (j - 1) + i - 1] + internal->n_EsI[internal->dim_n_EsI_12 * (k - 1) + internal->dim_n_EsI_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_p_SE_1; ++i) {
    for (int j = 1; j <= internal->dim_p_SE_2; ++j) {
      for (int k = 1; k <= internal->dim_p_SE_3; ++k) {
        internal->p_SE[i - 1 + internal->dim_p_SE_1 * (j - 1) + internal->dim_p_SE_12 * (k - 1)] = (S[internal->dim_S_1 * (j - 1) + i - 1] > 0 ? (internal->n_EaA[internal->dim_n_EaA_12 * (k - 1) + internal->dim_n_EaA_1 * (j - 1) + i - 1] + internal->n_EsI[internal->dim_n_EsI_12 * (k - 1) + internal->dim_n_EsI_1 * (j - 1) + i - 1]) / (double) S[internal->dim_S_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  cinterpolate_eval(t, internal->interpolate_vax_time_step, internal->vax_time_step);
  for (int i = 1; i <= internal->dim_C_1; ++i) {
    for (int j = 1; j <= internal->dim_C_2; ++j) {
      internal->C[i - 1 + internal->dim_C_1 * (j - 1)] = (1 - pow((1 - odin_sum3(internal->p_SE, i - 1, i, j - 1, j, 0, internal->dim_p_SE_3, internal->dim_p_SE_1, internal->dim_p_SE_12)), internal->spont_behav_change_params[1])) * internal->expected_health_loss[internal->dim_expected_health_loss_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_beta_reduction_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_reduction_2; ++j) {
      internal->beta_reduction[i - 1 + internal->dim_beta_reduction_1 * (j - 1)] = 1 - internal->beta_int[i - 1] / (double) internal->spont_behav_change_params[0];
    }
  }
  for (int i = 1; i <= internal->dim_B_D_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_3; ++k) {
        dstatedt[internal->offset_variable_B_D + i - 1 + internal->dim_B_D_1 * (j - 1) + internal->dim_B_D_12 * (k - 1)] = internal->n_ID[internal->dim_n_ID_12 * (k - 1) + internal->dim_n_ID_1 * (j - 1) + i - 1] - internal->n_B_D_D[internal->dim_n_B_D_D_12 * (k - 1) + internal->dim_n_B_D_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_B_D_H_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_H_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_H_3; ++k) {
        dstatedt[internal->offset_variable_B_D_H + i - 1 + internal->dim_B_D_H_1 * (j - 1) + internal->dim_B_D_H_12 * (k - 1)] = internal->n_HD[internal->dim_n_HD_12 * (k - 1) + internal->dim_n_HD_1 * (j - 1) + i - 1] - internal->n_B_H_D[internal->dim_n_B_H_D_12 * (k - 1) + internal->dim_n_B_H_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_B_D_ICU_1; ++i) {
    for (int j = 1; j <= internal->dim_B_D_ICU_2; ++j) {
      for (int k = 1; k <= internal->dim_B_D_ICU_3; ++k) {
        dstatedt[internal->offset_variable_B_D_ICU + i - 1 + internal->dim_B_D_ICU_1 * (j - 1) + internal->dim_B_D_ICU_12 * (k - 1)] = internal->n_ICU_D[internal->dim_n_ICU_D_12 * (k - 1) + internal->dim_n_ICU_D_1 * (j - 1) + i - 1] - internal->n_B_ICU_D[internal->dim_n_B_ICU_D_12 * (k - 1) + internal->dim_n_B_ICU_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_H_1; ++i) {
    for (int j = 1; j <= internal->dim_H_2; ++j) {
      for (int k = 1; k <= internal->dim_H_3; ++k) {
        dstatedt[internal->offset_variable_H + i - 1 + internal->dim_H_1 * (j - 1) + internal->dim_H_12 * (k - 1)] = internal->n_IH[internal->dim_n_IH_12 * (k - 1) + internal->dim_n_IH_1 * (j - 1) + i - 1] - internal->n_H[internal->dim_n_H_12 * (k - 1) + internal->dim_n_H_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_ICU_H_1; ++i) {
    for (int j = 1; j <= internal->dim_ICU_H_2; ++j) {
      for (int k = 1; k <= internal->dim_ICU_H_3; ++k) {
        dstatedt[internal->offset_variable_ICU_H + i - 1 + internal->dim_ICU_H_1 * (j - 1) + internal->dim_ICU_H_12 * (k - 1)] = internal->n_IICU[internal->dim_n_IICU_12 * (k - 1) + internal->dim_n_IICU_1 * (j - 1) + i - 1] - internal->n_ICU_HR[internal->dim_n_ICU_HR_12 * (k - 1) + internal->dim_n_ICU_HR_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_scale_spont_1; ++i) {
    for (int j = 1; j <= internal->dim_scale_spont_2; ++j) {
      dstatedt[1 + i - 1 + internal->dim_scale_spont_1 * (j - 1)] = ((odin_sum3(internal->new_infs, i - 1, i, j - 1, j, 0, internal->dim_new_infs_3, internal->dim_new_infs_1, internal->dim_new_infs_12) < 1) && (S[internal->dim_S_1 * (j - 1) + i - 1] < 1 / (double) 2 * odin_sum3(R, i - 1, i, j - 1, j, 0, internal->dim_R_3, internal->dim_R_1, internal->dim_R_12)) ? -(internal->spont_behav_change_params[7]) * scale_spont[internal->dim_scale_spont_1 * (j - 1) + i - 1] : 0);
    }
  }
  for (int i = 1; i <= internal->dim_tot_hosp_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_hosp_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_hosp_3; ++k) {
        dstatedt[internal->offset_variable_tot_hosp + i - 1 + internal->dim_tot_hosp_1 * (j - 1) + internal->dim_tot_hosp_12 * (k - 1)] = internal->n_IH[internal->dim_n_IH_12 * (k - 1) + internal->dim_n_IH_1 * (j - 1) + i - 1] + internal->n_IICU[internal->dim_n_IICU_12 * (k - 1) + internal->dim_n_IICU_1 * (j - 1) + i - 1];
      }
    }
  }
  dstatedt[0] = odin_sum3(internal->n_IH, 0, internal->dim_n_IH_1, 0, internal->dim_n_IH_2, 0, internal->dim_n_IH_3, internal->dim_n_IH_1, internal->dim_n_IH_12) + odin_sum3(internal->n_IICU, 0, internal->dim_n_IICU_1, 0, internal->dim_n_IICU_2, 0, internal->dim_n_IICU_3, internal->dim_n_IICU_1, internal->dim_n_IICU_12);
  for (int i = 1; i <= internal->dim_tot_vac_adm_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_vac_adm_2; ++j) {
      dstatedt[internal->offset_variable_tot_vac_adm + i - 1 + internal->dim_tot_vac_adm_1 * (j - 1)] = internal->vax_time_step[internal->dim_vax_time_step_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_n_HR_1; ++i) {
    for (int j = 1; j <= internal->dim_n_HR_2; ++j) {
      for (int k = 1; k <= internal->dim_n_HR_3; ++k) {
        internal->n_HR[i - 1 + internal->dim_n_HR_1 * (j - 1) + internal->dim_n_HR_12 * (k - 1)] = internal->n_H[internal->dim_n_H_12 * (k - 1) + internal->dim_n_H_1 * (j - 1) + i - 1] - internal->n_HD[internal->dim_n_HD_12 * (k - 1) + internal->dim_n_HD_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_ICU_R_1; ++i) {
    for (int j = 1; j <= internal->dim_n_ICU_R_2; ++j) {
      for (int k = 1; k <= internal->dim_n_ICU_R_3; ++k) {
        internal->n_ICU_R[i - 1 + internal->dim_n_ICU_R_1 * (j - 1) + internal->dim_n_ICU_R_12 * (k - 1)] = internal->n_ICU_P[internal->dim_n_ICU_P_12 * (k - 1) + internal->dim_n_ICU_P_1 * (j - 1) + i - 1] - internal->n_ICU_D[internal->dim_n_ICU_D_12 * (k - 1) + internal->dim_n_ICU_D_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_R_1; ++i) {
    for (int j = 1; j <= internal->dim_R_2; ++j) {
      for (int k = 1; k <= internal->dim_R_3; ++k) {
        dstatedt[internal->offset_variable_R + i - 1 + internal->dim_R_1 * (j - 1) + internal->dim_R_12 * (k - 1)] = internal->n_AR[internal->dim_n_AR_12 * (k - 1) + internal->dim_n_AR_1 * (j - 1) + i - 1] + internal->n_IR[internal->dim_n_IR_12 * (k - 1) + internal->dim_n_IR_1 * (j - 1) + i - 1] + internal->n_ICU_R[internal->dim_n_ICU_R_12 * (k - 1) + internal->dim_n_ICU_R_1 * (j - 1) + i - 1] + internal->n_HR[internal->dim_n_HR_12 * (k - 1) + internal->dim_n_HR_1 * (j - 1) + i - 1] - internal->n_RS[internal->dim_n_RS_12 * (k - 1) + internal->dim_n_RS_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_kernel_1; ++i) {
    for (int j = 1; j <= internal->dim_kernel_2; ++j) {
      internal->kernel[i - 1 + internal->dim_kernel_1 * (j - 1)] = internal->a * (internal->C[internal->dim_C_1 * (j - 1) + i - 1] - internal->W);
    }
  }
  for (int i = 1; i <= internal->dim_contact_change_1; ++i) {
    for (int j = 1; j <= internal->dim_contact_change_2; ++j) {
      internal->contact_change[i - 1 + internal->dim_contact_change_1 * (j - 1)] = (internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1] > 15 ? 1 : ((internal->expected_health_loss[internal->dim_expected_health_loss_1 * (j - 1) + i - 1] < 0 ? 0 : ((internal->spont_behav_mode == 1 ? exp(internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1]) / (double) (1 + exp(internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1])) : (scale_spont[internal->dim_scale_spont_1 * (j - 1) + i - 1] * (internal->spont_behav_change_params[6] - log(exp(internal->a * internal->C[internal->dim_C_1 * (j - 1) + i - 1]) + exp(internal->a * internal->spont_behav_change_params[6])) / (double) internal->a + log(exp(internal->a * internal->C[internal->dim_C_1 * (j - 1) + i - 1]) + 1) / (double) internal->a) / (double) internal->spont_behav_change_params[6]))))));
    }
  }
  for (int i = 1; i <= internal->dim_beta_spont_behaviour_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_spont_behaviour_2; ++j) {
      internal->beta_spont_behaviour[i - 1 + internal->dim_beta_spont_behaviour_1 * (j - 1)] = internal->spont_behav_change_params[0] * (1 - internal->spont_behav_change_params[4] * (internal->beta_reduction[internal->dim_beta_reduction_1 * (j - 1) + i - 1] + internal->contact_change[internal->dim_contact_change_1 * (j - 1) + i - 1]) + internal->spont_behav_change_params[5] * (internal->beta_reduction[internal->dim_beta_reduction_1 * (j - 1) + i - 1] * internal->contact_change[internal->dim_contact_change_1 * (j - 1) + i - 1]));
    }
  }
  for (int i = 1; i <= internal->dim_beta_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_2; ++j) {
      internal->beta[i - 1 + internal->dim_beta_1 * (j - 1)] = (internal->beta_mode == 1 ? internal->beta_int[i - 1] : ((internal->beta_mode == 4 ? internal->beta_spont_behaviour[internal->dim_beta_spont_behaviour_1 * (j - 1) + i - 1] : 0)));
    }
  }
  for (int i = 1; i <= internal->dim_lambda_ij_1; ++i) {
    for (int j = 1; j <= internal->dim_lambda_ij_2; ++j) {
      for (int k = 1; k <= internal->dim_lambda_ij_3; ++k) {
        for (int l = 1; l <= internal->dim_lambda_ij_4; ++l) {
          for (int i5 = 1; i5 <= internal->dim_lambda_ij_5; ++i5) {
            internal->lambda_ij[i - 1 + internal->dim_lambda_ij_1 * (j - 1) + internal->dim_lambda_ij_12 * (k - 1) + internal->dim_lambda_ij_123 * (l - 1) + internal->dim_lambda_ij_1234 * (i5 - 1)] = internal->beta[internal->dim_beta_1 * (j - 1) + i - 1] * internal->beta_strain[i5 - 1] * internal->mixing_matrix[internal->dim_mixing_matrix_1 * (k - 1) + i - 1] / (double) internal->beta_norm[i - 1] * internal->transmisibility[internal->dim_transmisibility_12 * (i5 - 1) + internal->dim_transmisibility_1 * (l - 1) + k - 1] * (internal->pre_sympt_infect * P[internal->dim_P_12 * (i5 - 1) + internal->dim_P_1 * (l - 1) + k - 1] + internal->symp_trans[internal->dim_symp_trans_12 * (i5 - 1) + internal->dim_symp_trans_1 * (l - 1) + k - 1] * (I[internal->dim_I_12 * (i5 - 1) + internal->dim_I_1 * (l - 1) + k - 1]) + internal->asympt_infect * A[internal->dim_A_12 * (i5 - 1) + internal->dim_A_1 * (l - 1) + k - 1]);
          }
        }
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_SE_tot_1; ++i) {
    for (int j = 1; j <= internal->dim_n_SE_tot_2; ++j) {
      internal->n_SE_tot[i - 1 + internal->dim_n_SE_tot_1 * (j - 1)] = S[internal->dim_S_1 * (j - 1) + i - 1] * odin_sum5(internal->lambda_ij, i - 1, i, j - 1, j, 0, internal->dim_lambda_ij_3, 0, internal->dim_lambda_ij_4, 0, internal->dim_lambda_ij_5, internal->dim_lambda_ij_1, internal->dim_lambda_ij_12, internal->dim_lambda_ij_123, internal->dim_lambda_ij_1234) * odin_sum3(internal->symp_asymp_effect, i - 1, i, j - 1, j, 0, internal->dim_symp_asymp_effect_3, internal->dim_symp_asymp_effect_1, internal->dim_symp_asymp_effect_12);
    }
  }
  for (int i = 1; i <= internal->dim_n_SE_1; ++i) {
    for (int j = 1; j <= internal->dim_n_SE_2; ++j) {
      for (int k = 1; k <= internal->dim_n_SE_3; ++k) {
        internal->n_SE[i - 1 + internal->dim_n_SE_1 * (j - 1) + internal->dim_n_SE_12 * (k - 1)] = internal->n_SE_tot[internal->dim_n_SE_tot_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_infected_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_infected_2; ++j) {
      for (int k = 1; k <= internal->dim_tot_infected_3; ++k) {
        dstatedt[internal->offset_variable_tot_infected + i - 1 + internal->dim_tot_infected_1 * (j - 1) + internal->dim_tot_infected_12 * (k - 1)] = internal->n_SE[internal->dim_n_SE_12 * (k - 1) + internal->dim_n_SE_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_SEa_1; ++i) {
    for (int j = 1; j <= internal->dim_n_SEa_2; ++j) {
      for (int k = 1; k <= internal->dim_n_SEa_3; ++k) {
        internal->n_SEa[i - 1 + internal->dim_n_SEa_1 * (j - 1) + internal->dim_n_SEa_12 * (k - 1)] = internal->n_SE[internal->dim_n_SE_12 * (k - 1) + internal->dim_n_SE_1 * (j - 1) + i - 1] * internal->pa[internal->dim_pa_12 * (k - 1) + internal->dim_pa_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_vac_now_1; ++i) {
    for (int j = 1; j <= internal->dim_n_vac_now_2; ++j) {
      internal->n_vac_now[i - 1 + internal->dim_n_vac_now_1 * (j - 1)] = (internal->vax_type == 1 ? (-(internal->vax_time_step[internal->dim_vax_time_step_1 * (j - 1) + i - 1]) + odin_sum3(internal->n_SE, i - 1, i, j - 1, j, 0, internal->dim_n_SE_3, internal->dim_n_SE_1, internal->dim_n_SE_12) > S[internal->dim_S_1 * (j - 1) + i - 1] ? -(S[internal->dim_S_1 * (j - 1) + i - 1]) + odin_sum3(internal->n_SE, i - 1, i, j - 1, j, 0, internal->dim_n_SE_3, internal->dim_n_SE_1, internal->dim_n_SE_12) : fround(internal->vax_time_step[internal->dim_vax_time_step_1 * (j - 1) + i - 1] * S[internal->dim_S_1 * 0 + i - 1] / (double) internal->N[internal->dim_N_1 * 0 + i - 1], 0)) : ((j != internal->n_vac ? (internal->n_vac_help[internal->dim_n_vac_help_1 * (j - 1) + i - 1] > S[internal->dim_S_1 * (j - 1) + i - 1] ? -(S[internal->dim_S_1 * (j - 1) + i - 1]) : (-(internal->n_vac_help[internal->dim_n_vac_help_1 * (j - 1) + i - 1]))) : (internal->vax_time_step[internal->dim_vax_time_step_1 * 0 + i - 1] - internal->n_vac_help[internal->dim_n_vac_help_1 * (j - 1) + i - 1]))));
    }
  }
  for (int i = 1; i <= internal->dim_N_imp_non_zero_1; ++i) {
    for (int j = 1; j <= internal->dim_N_imp_non_zero_2; ++j) {
      for (int k = 1; k <= internal->dim_N_imp_non_zero_3; ++k) {
        internal->N_imp_non_zero[i - 1 + internal->dim_N_imp_non_zero_1 * (j - 1) + internal->dim_N_imp_non_zero_12 * (k - 1)] = (S[internal->dim_S_1 * (j - 1) + i - 1] - odin_sum3(internal->n_SE, i - 1, i, j - 1, j, 0, internal->dim_n_SE_3, internal->dim_n_SE_1, internal->dim_n_SE_12) + internal->n_vac_now[internal->dim_n_vac_now_1 * (j - 1) + i - 1] - odin_sum3(internal->N_imp, i - 1, i, j - 1, j, 0, internal->dim_N_imp_3, internal->dim_N_imp_1, internal->dim_N_imp_12) < 0 ? 0 : internal->N_imp[internal->dim_N_imp_12 * (k - 1) + internal->dim_N_imp_1 * (j - 1) + i - 1]);
      }
    }
  }
  for (int i = 1; i <= internal->dim_Ea_1; ++i) {
    for (int j = 1; j <= internal->dim_Ea_2; ++j) {
      for (int k = 1; k <= internal->dim_Ea_3; ++k) {
        dstatedt[internal->offset_variable_Ea + i - 1 + internal->dim_Ea_1 * (j - 1) + internal->dim_Ea_12 * (k - 1)] = internal->n_SEa[internal->dim_n_SEa_12 * (k - 1) + internal->dim_n_SEa_1 * (j - 1) + i - 1] - internal->n_EaA[internal->dim_n_EaA_12 * (k - 1) + internal->dim_n_EaA_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_tot_vac_1; ++i) {
    for (int j = 1; j <= internal->dim_tot_vac_2; ++j) {
      dstatedt[internal->offset_variable_tot_vac + i - 1 + internal->dim_tot_vac_1 * (j - 1)] = internal->n_vac_now[internal->dim_n_vac_now_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_n_SEi_1; ++i) {
    for (int j = 1; j <= internal->dim_n_SEi_2; ++j) {
      for (int k = 1; k <= internal->dim_n_SEi_3; ++k) {
        internal->n_SEi[i - 1 + internal->dim_n_SEi_1 * (j - 1) + internal->dim_n_SEi_12 * (k - 1)] = internal->n_SE[internal->dim_n_SE_12 * (k - 1) + internal->dim_n_SE_1 * (j - 1) + i - 1] - internal->n_SEa[internal->dim_n_SEa_12 * (k - 1) + internal->dim_n_SEa_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_Es_1; ++i) {
    for (int j = 1; j <= internal->dim_Es_2; ++j) {
      for (int k = 1; k <= internal->dim_Es_3; ++k) {
        dstatedt[internal->offset_variable_Es + i - 1 + internal->dim_Es_1 * (j - 1) + internal->dim_Es_12 * (k - 1)] = internal->n_SEi[internal->dim_n_SEi_12 * (k - 1) + internal->dim_n_SEi_1 * (j - 1) + i - 1] - internal->n_EsI[internal->dim_n_EsI_12 * (k - 1) + internal->dim_n_EsI_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_I_1; ++i) {
    for (int j = 1; j <= internal->dim_I_2; ++j) {
      for (int k = 1; k <= internal->dim_I_3; ++k) {
        dstatedt[internal->offset_variable_I + i - 1 + internal->dim_I_1 * (j - 1) + internal->dim_I_12 * (k - 1)] = internal->n_PI[internal->dim_n_PI_12 * (k - 1) + internal->dim_n_PI_1 * (j - 1) + i - 1] - internal->n_I[internal->dim_n_I_12 * (k - 1) + internal->dim_n_I_1 * (j - 1) + i - 1] + internal->N_imp_non_zero[internal->dim_N_imp_non_zero_12 * (k - 1) + internal->dim_N_imp_non_zero_1 * (j - 1) + i - 1];
      }
    }
  }
  for (int i = 1; i <= internal->dim_S_1; ++i) {
    for (int j = 1; j <= internal->dim_S_2; ++j) {
      dstatedt[internal->offset_variable_S + i - 1 + internal->dim_S_1 * (j - 1)] = -(odin_sum3(internal->n_SE, i - 1, i, j - 1, j, 0, internal->dim_n_SE_3, internal->dim_n_SE_1, internal->dim_n_SE_12)) + internal->n_vac_now[internal->dim_n_vac_now_1 * (j - 1) + i - 1] - odin_sum3(internal->N_imp_non_zero, i - 1, i, j - 1, j, 0, internal->dim_N_imp_non_zero_3, internal->dim_N_imp_non_zero_1, internal->dim_N_imp_non_zero_12) + odin_sum3(internal->n_RS, i - 1, i, j - 1, j, 0, internal->dim_n_RS_3, internal->dim_n_RS_1, internal->dim_n_RS_12);
    }
  }
  if (output) {
    memcpy(output + internal->offset_output_N, internal->N, internal->dim_N * sizeof(double));
    double tot_N = odin_sum2(internal->N, 0, internal->dim_N_1, 0, internal->dim_N_2, internal->dim_N_1);
    output[0] = tot_N;
    memcpy(output + 1, internal->contact_change, internal->dim_contact_change * sizeof(double));
    memcpy(output + internal->offset_output_beta_spont_behaviour, internal->beta_spont_behaviour, internal->dim_beta_spont_behaviour * sizeof(double));
    memcpy(output + internal->offset_output_beta, internal->beta, internal->dim_beta * sizeof(double));
  }
}
void model_deterministic_rhs_dde(size_t neq, double t, double * state, double * dstatedt, void * internal) {
  model_deterministic_rhs((model_deterministic_internal*)internal, t, state, dstatedt, NULL);
}
void model_deterministic_rhs_desolve(int * neq, double * t, double * state, double * dstatedt, double * output, int * np) {
  model_deterministic_rhs(model_deterministic_internal_ds, *t, state, dstatedt, output);
}
void model_deterministic_output_dde(size_t n_eq, double t, double * state, size_t n_output, double * output, void * internal_p) {
  model_deterministic_internal *internal = (model_deterministic_internal*) internal_p;
  double * scale_spont = state + 1;
  double * S = state + internal->offset_variable_S;
  double * Ea = state + internal->offset_variable_Ea;
  double * Es = state + internal->offset_variable_Es;
  double * P = state + internal->offset_variable_P;
  double * I = state + internal->offset_variable_I;
  double * A = state + internal->offset_variable_A;
  double * H = state + internal->offset_variable_H;
  double * ICU_H = state + internal->offset_variable_ICU_H;
  double * ICU_R = state + internal->offset_variable_ICU_R;
  double * ICU_P = state + internal->offset_variable_ICU_P;
  double * B_D = state + internal->offset_variable_B_D;
  double * B_D_H = state + internal->offset_variable_B_D_H;
  double * B_D_ICU = state + internal->offset_variable_B_D_ICU;
  double * R = state + internal->offset_variable_R;
  double * D = state + internal->offset_variable_D;
  for (int i = 1; i <= internal->dim_N_1; ++i) {
    for (int j = 1; j <= internal->dim_N_2; ++j) {
      internal->N[i - 1 + internal->dim_N_1 * (j - 1)] = S[internal->dim_S_1 * (j - 1) + i - 1] + odin_sum3(Ea, i - 1, i, j - 1, j, 0, internal->dim_Ea_3, internal->dim_Ea_1, internal->dim_Ea_12) + odin_sum3(Es, i - 1, i, j - 1, j, 0, internal->dim_Es_3, internal->dim_Es_1, internal->dim_Es_12) + odin_sum3(P, i - 1, i, j - 1, j, 0, internal->dim_P_3, internal->dim_P_1, internal->dim_P_12) + odin_sum3(I, i - 1, i, j - 1, j, 0, internal->dim_I_3, internal->dim_I_1, internal->dim_I_12) + odin_sum3(A, i - 1, i, j - 1, j, 0, internal->dim_A_3, internal->dim_A_1, internal->dim_A_12) + odin_sum3(H, i - 1, i, j - 1, j, 0, internal->dim_H_3, internal->dim_H_1, internal->dim_H_12) + odin_sum3(ICU_H, i - 1, i, j - 1, j, 0, internal->dim_ICU_H_3, internal->dim_ICU_H_1, internal->dim_ICU_H_12) + odin_sum3(ICU_R, i - 1, i, j - 1, j, 0, internal->dim_ICU_R_3, internal->dim_ICU_R_1, internal->dim_ICU_R_12) + odin_sum3(ICU_P, i - 1, i, j - 1, j, 0, internal->dim_ICU_P_3, internal->dim_ICU_P_1, internal->dim_ICU_P_12) + odin_sum3(B_D, i - 1, i, j - 1, j, 0, internal->dim_B_D_3, internal->dim_B_D_1, internal->dim_B_D_12) + odin_sum3(B_D_ICU, i - 1, i, j - 1, j, 0, internal->dim_B_D_ICU_3, internal->dim_B_D_ICU_1, internal->dim_B_D_ICU_12) + odin_sum3(B_D_H, i - 1, i, j - 1, j, 0, internal->dim_B_D_H_3, internal->dim_B_D_H_1, internal->dim_B_D_H_12) + odin_sum3(R, i - 1, i, j - 1, j, 0, internal->dim_R_3, internal->dim_R_1, internal->dim_R_12) + odin_sum3(D, i - 1, i, j - 1, j, 0, internal->dim_D_3, internal->dim_D_1, internal->dim_D_12);
    }
  }
  for (int i = 1; i <= internal->dim_n_EaA_1; ++i) {
    for (int j = 1; j <= internal->dim_n_EaA_2; ++j) {
      for (int k = 1; k <= internal->dim_n_EaA_3; ++k) {
        internal->n_EaA[i - 1 + internal->dim_n_EaA_1 * (j - 1) + internal->dim_n_EaA_12 * (k - 1)] = Ea[internal->dim_Ea_12 * (k - 1) + internal->dim_Ea_1 * (j - 1) + i - 1] / (double) internal->latent_period;
      }
    }
  }
  for (int i = 1; i <= internal->dim_n_EsI_1; ++i) {
    for (int j = 1; j <= internal->dim_n_EsI_2; ++j) {
      for (int k = 1; k <= internal->dim_n_EsI_3; ++k) {
        internal->n_EsI[i - 1 + internal->dim_n_EsI_1 * (j - 1) + internal->dim_n_EsI_12 * (k - 1)] = Es[internal->dim_Es_12 * (k - 1) + internal->dim_Es_1 * (j - 1) + i - 1] / (double) internal->latent_period;
      }
    }
  }
  cinterpolate_eval(t, internal->interpolate_beta_int, internal->beta_int);
  memcpy(output + internal->offset_output_N, internal->N, internal->dim_N * sizeof(double));
  for (int i = 1; i <= internal->dim_p_SE_1; ++i) {
    for (int j = 1; j <= internal->dim_p_SE_2; ++j) {
      for (int k = 1; k <= internal->dim_p_SE_3; ++k) {
        internal->p_SE[i - 1 + internal->dim_p_SE_1 * (j - 1) + internal->dim_p_SE_12 * (k - 1)] = (S[internal->dim_S_1 * (j - 1) + i - 1] > 0 ? (internal->n_EaA[internal->dim_n_EaA_12 * (k - 1) + internal->dim_n_EaA_1 * (j - 1) + i - 1] + internal->n_EsI[internal->dim_n_EsI_12 * (k - 1) + internal->dim_n_EsI_1 * (j - 1) + i - 1]) / (double) S[internal->dim_S_1 * (j - 1) + i - 1] : 0);
      }
    }
  }
  double tot_N = odin_sum2(internal->N, 0, internal->dim_N_1, 0, internal->dim_N_2, internal->dim_N_1);
  for (int i = 1; i <= internal->dim_C_1; ++i) {
    for (int j = 1; j <= internal->dim_C_2; ++j) {
      internal->C[i - 1 + internal->dim_C_1 * (j - 1)] = (1 - pow((1 - odin_sum3(internal->p_SE, i - 1, i, j - 1, j, 0, internal->dim_p_SE_3, internal->dim_p_SE_1, internal->dim_p_SE_12)), internal->spont_behav_change_params[1])) * internal->expected_health_loss[internal->dim_expected_health_loss_1 * (j - 1) + i - 1];
    }
  }
  for (int i = 1; i <= internal->dim_beta_reduction_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_reduction_2; ++j) {
      internal->beta_reduction[i - 1 + internal->dim_beta_reduction_1 * (j - 1)] = 1 - internal->beta_int[i - 1] / (double) internal->spont_behav_change_params[0];
    }
  }
  output[0] = tot_N;
  for (int i = 1; i <= internal->dim_kernel_1; ++i) {
    for (int j = 1; j <= internal->dim_kernel_2; ++j) {
      internal->kernel[i - 1 + internal->dim_kernel_1 * (j - 1)] = internal->a * (internal->C[internal->dim_C_1 * (j - 1) + i - 1] - internal->W);
    }
  }
  for (int i = 1; i <= internal->dim_contact_change_1; ++i) {
    for (int j = 1; j <= internal->dim_contact_change_2; ++j) {
      internal->contact_change[i - 1 + internal->dim_contact_change_1 * (j - 1)] = (internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1] > 15 ? 1 : ((internal->expected_health_loss[internal->dim_expected_health_loss_1 * (j - 1) + i - 1] < 0 ? 0 : ((internal->spont_behav_mode == 1 ? exp(internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1]) / (double) (1 + exp(internal->kernel[internal->dim_kernel_1 * (j - 1) + i - 1])) : (scale_spont[internal->dim_scale_spont_1 * (j - 1) + i - 1] * (internal->spont_behav_change_params[6] - log(exp(internal->a * internal->C[internal->dim_C_1 * (j - 1) + i - 1]) + exp(internal->a * internal->spont_behav_change_params[6])) / (double) internal->a + log(exp(internal->a * internal->C[internal->dim_C_1 * (j - 1) + i - 1]) + 1) / (double) internal->a) / (double) internal->spont_behav_change_params[6]))))));
    }
  }
  for (int i = 1; i <= internal->dim_beta_spont_behaviour_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_spont_behaviour_2; ++j) {
      internal->beta_spont_behaviour[i - 1 + internal->dim_beta_spont_behaviour_1 * (j - 1)] = internal->spont_behav_change_params[0] * (1 - internal->spont_behav_change_params[4] * (internal->beta_reduction[internal->dim_beta_reduction_1 * (j - 1) + i - 1] + internal->contact_change[internal->dim_contact_change_1 * (j - 1) + i - 1]) + internal->spont_behav_change_params[5] * (internal->beta_reduction[internal->dim_beta_reduction_1 * (j - 1) + i - 1] * internal->contact_change[internal->dim_contact_change_1 * (j - 1) + i - 1]));
    }
  }
  memcpy(output + 1, internal->contact_change, internal->dim_contact_change * sizeof(double));
  for (int i = 1; i <= internal->dim_beta_1; ++i) {
    for (int j = 1; j <= internal->dim_beta_2; ++j) {
      internal->beta[i - 1 + internal->dim_beta_1 * (j - 1)] = (internal->beta_mode == 1 ? internal->beta_int[i - 1] : ((internal->beta_mode == 4 ? internal->beta_spont_behaviour[internal->dim_beta_spont_behaviour_1 * (j - 1) + i - 1] : 0)));
    }
  }
  memcpy(output + internal->offset_output_beta_spont_behaviour, internal->beta_spont_behaviour, internal->dim_beta_spont_behaviour * sizeof(double));
  memcpy(output + internal->offset_output_beta, internal->beta, internal->dim_beta * sizeof(double));
}
SEXP model_deterministic_rhs_r(SEXP internal_p, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  model_deterministic_internal *internal = model_deterministic_get_internal(internal_p, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, internal->dim_N + internal->dim_beta + internal->dim_beta_spont_behaviour + internal->dim_contact_change + 1));
  setAttrib(dstatedt, install("output"), output_ptr);
  UNPROTECT(1);
  double *output = REAL(output_ptr);
  model_deterministic_rhs(internal, scalar_real(t, "t"), REAL(state), REAL(dstatedt), output);
  UNPROTECT(1);
  return dstatedt;
}
double user_get_scalar_double(SEXP user, const char *name,
                              double default_value, double min, double max) {
  double ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected a scalar numeric for '%s'", name);
    }
    if (TYPEOF(el) == REALSXP) {
      ret = REAL(el)[0];
    } else if (TYPEOF(el) == INTSXP) {
      ret = INTEGER(el)[0];
    } else {
      Rf_error("Expected a numeric value for '%s'", name);
    }
  }
  if (ISNA(ret)) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_double(&ret, 1, min, max, name);
  return ret;
}
int user_get_scalar_int(SEXP user, const char *name,
                        int default_value, double min, double max) {
  int ret = default_value;
  SEXP el = user_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected scalar integer for '%s'", name);
    }
    if (TYPEOF(el) == REALSXP) {
      double tmp = REAL(el)[0];
      if (fabs(tmp - round(tmp)) > 2e-8) {
        Rf_error("Expected '%s' to be integer-like", name);
      }
    }
    ret = INTEGER(coerceVector(el, INTSXP))[0];
  }
  if (ret == NA_INTEGER) {
    Rf_error("Expected a value for '%s'", name);
  }
  user_check_values_int(&ret, 1, min, max, name);
  return ret;
}
void user_check_values_double(double * value, size_t len,
                                  double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values_int(int * value, size_t len,
                               double min, double max, const char *name) {
  for (size_t i = 0; i < len; ++i) {
    if (ISNA(value[i])) {
      Rf_error("'%s' must not contain any NA values", name);
    }
  }
  if (min != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] < min) {
        Rf_error("Expected '%s' to be at least %g", name, min);
      }
    }
  }
  if (max != NA_REAL) {
    for (size_t i = 0; i < len; ++i) {
      if (value[i] > max) {
        Rf_error("Expected '%s' to be at most %g", name, max);
      }
    }
  }
}
void user_check_values(SEXP value, double min, double max,
                           const char *name) {
  size_t len = (size_t)length(value);
  if (TYPEOF(value) == INTSXP) {
    user_check_values_int(INTEGER(value), len, min, max, name);
  } else {
    user_check_values_double(REAL(value), len, min, max, name);
  }
}
SEXP user_list_element(SEXP list, const char *name) {
  SEXP ret = R_NilValue, names = getAttrib(list, R_NamesSymbol);
  for (int i = 0; i < length(list); ++i) {
    if (strcmp(CHAR(STRING_ELT(names, i)), name) == 0) {
      ret = VECTOR_ELT(list, i);
      break;
    }
  }
  return ret;
}
void odin_set_dim(SEXP target, int rank, ...) {
  SEXP r_dim = PROTECT(allocVector(INTSXP, rank));
  int *dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t)rank; ++i) {
    dim[i] = va_arg(ap, int);
  }
  va_end(ap);

  setAttrib(target, R_DimSymbol, r_dim);
  UNPROTECT(1);
}
void* user_get_array_dim(SEXP user, bool is_integer, void * previous,
                         const char *name, int rank,
                         double min, double max, int *dest_dim) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  dest_dim[0] = LENGTH(el);
  if (rank > 1) {
    SEXP r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
    int *dim = INTEGER(r_dim);

    for (size_t i = 0; i < (size_t) rank; ++i) {
      dest_dim[i + 1] = dim[i];
    }

    UNPROTECT(1);
  }

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  int len = LENGTH(el);
  void *dest = NULL;
  if (is_integer) {
    dest = R_Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = R_Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  R_Free(previous);

  UNPROTECT(1);

  return dest;
}
void* user_get_array(SEXP user, bool is_integer, void * previous,
                     const char *name, double min, double max,
                     int rank, ...) {
  SEXP el = user_get_array_check_rank(user, name, rank, previous == NULL);
  if (el == R_NilValue) {
    return previous;
  }

  SEXP r_dim;
  int *dim;

  size_t len = LENGTH(el);
  if (rank == 1) {
    r_dim = PROTECT(ScalarInteger(len));
  } else {
    r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
  }
  dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, rank);
  for (size_t i = 0; i < (size_t) rank; ++i) {
    int dim_expected = va_arg(ap, int);
    if (dim[i] != dim_expected) {
      va_end(ap); // avoid a leak
      if (rank == 1) {
        Rf_error("Expected length %d value for '%s'", dim_expected, name);
      } else {
        Rf_error("Incorrect size of dimension %d of '%s' (expected %d)",
                 (int)i + 1, name, dim_expected);
      }
    }
  }
  va_end(ap);
  UNPROTECT(1);

  el = PROTECT(user_get_array_check(el, is_integer, name, min, max));

  void *dest = NULL;
  if (is_integer) {
    dest = R_Calloc(len, int);
    memcpy(dest, INTEGER(el), len * sizeof(int));
  } else {
    dest = R_Calloc(len, double);
    memcpy(dest, REAL(el), len * sizeof(double));
  }
  R_Free(previous);

  UNPROTECT(1);

  return dest;
}
SEXP user_get_array_check(SEXP el, bool is_integer, const char *name,
                          double min, double max) {
  size_t len = (size_t) length(el);
  if (is_integer) {
    if (TYPEOF(el) == INTSXP) {
      user_check_values_int(INTEGER(el), len, min, max, name);
    } else if (TYPEOF(el) == REALSXP) {
      el = PROTECT(coerceVector(el, INTSXP));
      user_check_values_int(INTEGER(el), len, min, max, name);
      UNPROTECT(1);
    } else {
      Rf_error("Expected a integer value for '%s'", name);
    }
  } else {
    if (TYPEOF(el) == INTSXP) {
      el = PROTECT(coerceVector(el, REALSXP));
      user_check_values_double(REAL(el), len, min, max, name);
      UNPROTECT(1);
    } else if (TYPEOF(el) == REALSXP) {
      user_check_values_double(REAL(el), len, min, max, name);
    } else {
      Rf_error("Expected a numeric value for '%s'", name);
    }
  }
  return el;
}
SEXP user_get_array_check_rank(SEXP user, const char *name, int rank,
                               bool required) {
  SEXP el = user_list_element(user, name);
  if (el == R_NilValue) {
    if (required) {
      Rf_error("Expected a value for '%s'", name);
    }
  } else {
    if (rank == 1) {
      if (isArray(el)) {
        Rf_error("Expected a numeric vector for '%s'", name);
      }
    } else {
      SEXP r_dim = getAttrib(el, R_DimSymbol);
      if (r_dim == R_NilValue || LENGTH(r_dim) != rank) {
        if (rank == 2) {
          Rf_error("Expected a numeric matrix for '%s'", name);
        } else {
          Rf_error("Expected a numeric array of rank %d for '%s'", rank, name);
        }
      }
    }
  }
  return el;
}
void interpolate_check_y(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target) {
  if (nx != ny) {
    if (i == 0) {
      // vector case
      Rf_error("Expected %s to have length %d (for '%s')",
               name_arg, (int)nx, name_target);
    } else {
      // array case
      Rf_error("Expected dimension %d of %s to have size %d (for '%s')",
               (int)i, name_arg, (int)nx, name_target);
    }
  }
}
double fmodr(double x, double y) {
  double tmp = fmod(x, y);
  if (tmp * y < 0) {
    tmp += y;
  }
  return tmp;
}
double scalar_real(SEXP x, const char * name) {
  if (Rf_length(x) != 1) {
    Rf_error("Expected a scalar for '%s'", name);
  }
  double ret = 0.0;
  if (TYPEOF(x) == INTSXP) {
    ret = INTEGER(x)[0];
  } else if (TYPEOF(x) == REALSXP) {
    ret = REAL(x)[0];
  } else {
    Rf_error("Expected a numeric value for '%s'", name);
  }
  return ret;
}
double odin_sum1(double *x, size_t from, size_t to) {
  double tot = 0.0;
  for (size_t i = from; i < to; ++i) {
    tot += x[i];
  }
  return tot;
}
double odin_sum2(double* x, int from_i, int to_i, int from_j, int to_j, int dim_x_1) {
  double tot = 0.0;
  for (int j = from_j; j < to_j; ++j) {
    int jj = j * dim_x_1;
    for (int i = from_i; i < to_i; ++i) {
      tot += x[i + jj];
    }
  }
  return tot;
}
double odin_sum3(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int dim_x_1, int dim_x_12) {
  double tot = 0.0;
  for (int k = from_k; k < to_k; ++k) {
    int kk = k * dim_x_12;
    for (int j = from_j; j < to_j; ++j) {
      int jj = j * dim_x_1 + kk;
      for (int i = from_i; i < to_i; ++i) {
        tot += x[i + jj];
      }
    }
  }
  return tot;
}
double odin_sum4(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int dim_x_1, int dim_x_12, int dim_x_123) {
  double tot = 0.0;
  for (int l = from_l; l < to_l; ++l) {
    int ll = l * dim_x_123;
    for (int k = from_k; k < to_k; ++k) {
      int kk = k * dim_x_12 + ll;
      for (int j = from_j; j < to_j; ++j) {
        int jj = j * dim_x_1 + kk;
        for (int i = from_i; i < to_i; ++i) {
          tot += x[i + jj];
        }
      }
    }
  }
  return tot;
}
double odin_sum5(double* x, int from_i, int to_i, int from_j, int to_j, int from_k, int to_k, int from_l, int to_l, int from_i5, int to_i5, int dim_x_1, int dim_x_12, int dim_x_123, int dim_x_1234) {
  double tot = 0.0;
  for (int i5 = from_i5; i5 < to_i5; ++i5) {
    int i5i5 = i5 * dim_x_1234;
    for (int l = from_l; l < to_l; ++l) {
      int ll = l * dim_x_123 + i5i5;
      for (int k = from_k; k < to_k; ++k) {
        int kk = k * dim_x_12 + ll;
        for (int j = from_j; j < to_j; ++j) {
          int jj = j * dim_x_1 + kk;
          for (int i = from_i; i < to_i; ++i) {
            tot += x[i + jj];
          }
        }
      }
    }
  }
  return tot;
}
// This construction is to help odin
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#endif


void * cinterpolate_alloc(const char *type, size_t n, size_t ny,
                          double *x, double *y, bool fail_on_extrapolate,
                          bool auto_clean) {
  typedef void* interpolate_alloc_t(const char *, size_t, size_t,
                                    double*, double*, bool, bool);
  static interpolate_alloc_t *fun;
  if (fun == NULL) {
    fun = (interpolate_alloc_t*)
      R_GetCCallable("cinterpolate", "interpolate_alloc");
  }
  return fun(type, n, ny, x, y, fail_on_extrapolate, auto_clean);
}


int cinterpolate_eval(double x, void *obj, double *y) {
  typedef int interpolate_eval_t(double, void*, double*);
  static interpolate_eval_t *fun;
  if (fun == NULL) {
    fun = (interpolate_eval_t*)
      R_GetCCallable("cinterpolate", "interpolate_eval");
  }
  return fun(x, obj, y);
}


void cinterpolate_free(void *obj) {
  typedef int interpolate_free_t(void*);
  static interpolate_free_t *fun;
  if (fun == NULL) {
    fun = (interpolate_free_t*)
      R_GetCCallable("cinterpolate", "interpolate_free");
  }
  fun(obj);
}
